{"version":3,"sources":["components/error-message/error-message.module.scss","pages/search-page/search-page.module.scss","components/circled-progress-bar/circled-progress-bar.module.scss","components/movie-view-screen/movie-view-screen.module.scss","myWebWorker.ts","appProperties.ts","components/pagination-controls/pagination-controls.module.scss","components/movie-results-container/movie-results-container.module.scss","components/total-search-results/total-search-results.module.scss","components/movie-item-img-bg/movie-item-img-bg.module.scss","components/movies-grid/movies-grid.module.scss","components/movie-view-background/movie-view-background.module.scss","components/movie-view-related/movie-view-related.module.scss","store/movie-view/movie-view.reducer.ts","store/user/user.reducer.ts","store/movies-browser/movies-browser.reducer.ts","store/root-reducer.ts","store/store.ts","store/index.ts","hooks/useLocationPath.ts","hooks/useAuth.ts","hooks/useIsMobile.ts","components/app-bar/app-bar.component.tsx","components/app-bar/index.ts","hooks/usePrevious.ts","hooks/useSearchParam.ts","components/search-bar/search-bar-suggestions.component.tsx","components/search-bar/index.ts","components/search-bar/search-bar.component.tsx","components/pagination-controls/index.ts","components/pagination-controls/pagination-controls.component.tsx","components/loading-spinner/index.ts","components/loading-spinner/loading-spinner.component.tsx","components/movie-results-container/movie-results-container.component.tsx","components/movie-results-container/index.ts","components/error-message/index.ts","components/error-message/error-message.component.tsx","components/total-search-results/index.ts","components/total-search-results/total-search-results.component.tsx","hooks/useSavedSessionParams.ts","hooks/useSessionAvgColor.ts","hooks/useOnMovieView.ts","components/movie-item-img-bg/movie-item-img-bg.component.tsx","components/movie-item-img-bg/index.ts","components/circled-progress-bar/circled-progress-bar.component.tsx","components/circled-progress-bar/index.ts","hooks/useLockBodyScroll.ts","components/movie-view-actions/rating-modal.component.tsx","pages/auth-page/auth-page.component.tsx","pages/auth-page/index.ts","components/movie-view-actions/movie-view-actions.component.tsx","components/movie-view-actions/index.ts","components/movie-item-image/index.ts","components/movie-item-image/movie-item-image.component.tsx","components/movie-result-item/movie-result-item.component.tsx","components/movie-result-item/index.ts","components/movie-result-skeleton/index.ts","components/movie-result-skeleton/movie-result-skeleton.component.tsx","components/movies-grid/index.ts","components/movies-grid/movies-grid.component.tsx","hooks/useMovieItems.ts","pages/search-page/search-page.component.tsx","pages/search-page/index.ts","pages/home-page/subcomponents/this-week-container.component.tsx","components/items-scroll-x/items-scroll-x.component.tsx","components/items-scroll-x/index.ts","pages/home-page/subcomponents/now-playing-container.component.tsx","pages/home-page/home-page.component.tsx","pages/home-page/index.ts","components/movie-view-info/movie-view-info-children.component.tsx","components/movie-view-info/index.ts","components/movie-view-info/movie-view-info.component.tsx","components/movie-view-background/movie-view-background.component.tsx","components/movie-view-background/index.ts","components/movie-view-related/movie-view-related.component.tsx","components/movie-view-related/index.ts","components/movie-view-item/index.ts","components/movie-view-item/movie-view-item.component.tsx","utility/custom-events/MovieViewEvent.ts","hooks/useMovieForView.ts","components/movie-view-screen/movie-view-screen.component.tsx","components/movie-view-screen/index.ts","components/list-item/list-item.component.tsx","components/list-item/index.ts","components/items-list/items-list.component.tsx","components/items-list/index.ts","pages/watchlist-page/index.ts","pages/watchlist-page/watchlist-page.component.tsx","pages/favorites-page/index.ts","pages/favorites-page/favorites-page.component.tsx","components/auth-route/index.ts","components/auth-route/auth-route.component.tsx","App.tsx","serviceWorker.ts","index.tsx","pages/home-page/home-page.module.scss","components/movie-view-actions/movie-view-actions.module.scss","store/movies-browser/movies-browser.actions.ts","store/movie-view/movie-view.actions.ts","utility/easingFuctions.js","components/app-bar/app-bar.module.scss","components/movie-result-item/movie-result-item.module.scss","components/movie-result-skeleton/movie-result-skeleton.module.scss","components/movie-view-info/movie-view-info.module.scss","store/user/user.actions.ts","utility/CanvasImgDataConverter.ts","utility/custom-events/ImageDataEvent.ts","utility/index.ts","components/items-scroll-x/items-scroll-x.module.scss","components/movie-view-item/movie-view-item.module.scss","components/list-item/list-item.module.scss","components/search-bar/search-bar.module.scss","pages/auth-page/auth-page.module.scss","components/movie-item-image/movie-item-image.module.scss","components/items-list/items-list.module.scss","App.module.scss","components/loading-spinner/loading-spinner.module.scss"],"names":["module","exports","Worker","process","API_KEY","REACT_APP_API_KEY","NODE_ENV","BASE_API_URL","REDIRECT_LOGGING","getApiKeyQuery","getSessionQuery","localStorage","getItem","appProperties","itemsPerPageUI","getPosterSrcPathPrefix","size","buildFetchMovieSearchUrl","searchTerm","page","buildFetchMovieViewUrl","movieId","addPath","searchPageTransitionConfig","duration","easing","easeOutQuad","getThisWeekUrl","getNowPlayingUrl","newSessionUrl","getAccountUrl","session_id","getLogoutConfig","method","body","JSON","stringify","headers","newRequestTokenUrl","buildLoginRedirectUrl","request_token","itemActions","favorite","favState","a","url","fetch","media_type","media_id","watchlist","watchState","rate","value","unRate","getItemsListUrl","name","getItemsBrowseUrl","pageOnApi","browseUrl","INITIAL_STATE","item","movieViewReducer","state","action","type","MovieViewActionsTypes","SET_MOVIE_VIEW","setSearchParam","payload","id","CLEAR_MOVIE_VIEW","userReducer","UserActionsTypes","SET_USER","CLEAR_USER","searchData","searchError","isFetching","isFetchingMore","apiFetchedPages","unshiftToObj","obj","newItem","tempOut","key","tempHold","Object","keys","length","removeFromObjById","removed","numKey","Number","undefined","makeMoviesBrowserReducer","MoviesBrowserActionTypes","UNSHIFT_TO_LIST_ITEMS","results","total_pages","Math","ceil","total_results","REMOVE_FROM_LIST_ITEMS","CLEAR_FETCHED_MOVIES","FETCH_MOVIES_START","FETCH_MOVIES_SUCCESS","fetchedData","data","errors","FETCH_MOVIES_FAILURE","FETCH_MORE_MOVIES_START","FETCH_MORE_MOVIES_SUCCESS","fetchedPage","Set","FETCH_MORE_MOVIES_FAILURE","rootReducer","combineReducers","store","configureStore","reducer","useLocationPath","useState","path","setPath","useLayoutEffect","getHashPath","listener","oldURL","newURL","oldPath","newPath","window","addEventListener","removeEventListener","selectUser","user","equalUser","left","right","logOut","then","res","json","success","console","log","alert","dispatch","clearUser","removeItem","catch","logIn","requestToken","open","useAuth","useSelector","isAuth","signOut","signIn","useIsMobile","checkIsMobile","isMobile","setIsMobile","useEffect","onresize","navItems","icon","HomeIcon","text","to","SearchIcon","FavoriteIcon","BookmarkIcon","NavItem","Icon","setOpen","active","username","className","styles","navItem","onClick","e","currentTarget","target","preventDefault","aria-current","IconButton","color","aria-label","navItemIcon","avatar","charAt","toUpperCase","navItemTxt","AppBar","isOpen","pathname","root","onMouseEnter","onMouseLeave","toolBar","logo","map","i","AccountCircleIcon","usePrevious","ref","useRef","current","useSearchParam","paramName","onParamChange","paramNameRef","URLSearchParams","getHashQuery","get","selectedParam","setSelectedParam","fixSelectedParam","fixParamValue","selectedRef","oldSelectedParam","oldQuery","newQuery","oldParam","newParam","updateParam","useCallback","extraParam","newSearchParams","newValue","delete","set","String","location","hash","toString","SearchBarSuggestions","keyword","onSubmit","inputRef","suggestions","setSuggestions","selected","setSelected","visible","setVisible","isMount","setTimeout","isEffect","slice","ev","code","newSelected","abs","title","handleClickSubmit","suggestionsDropdown","index","aria-selected","bind","SearchBar","React","memo","isMounted","error","setError","setInputTxt","searchParam","inputTxt","keyWord","setKeyWord","isFocus","setFocus","setFocusOn","focus","select","setFocusOff","blur","document","activeElement","is-focused","autoComplete","TextField","bar","label","helperText","onBlur","onChange","onFocus","inputProps","event","onKeyDown","PaginationControls","totalPages","currentPage","setCurrentPage","movieIdParam","goToNextPage","scrollToTop","goToPreviousPage","keydownListener","altKey","ctrlKey","shiftKey","MobileStepper","position","variant","steps","activeStep","nextButton","Button","disabled","backButton","LoadingSpinner","darken","delay","fixed","rest","mounted","style","opacity","CircularProgress","MovieItemsContainer","MovieResultsContainer","children","prevPage","isNextSlide","transition","useTransition","initial","translateX","from","enter","leave","config","unique","getTransitionConfig","props","div","transform","interpolate","v","ErrorMessage","message","TotalSearchResults","totalResults","formatToUSD","onHashChange","split","locationPath","searchQuery","sessionStorage","setItem","useSavedSessionParams","hashPath","savedPathParams","useSessionAvgColor","idRef","imgData","setImgData","imgObj","getMovieImgObjFromSession","onColorReadyListener","detail","movieIdSaved","useOnMovieView","configRef","setProps","onEvent","configPropName","capitalize","configProp","newStateProps","MovieItemImgBg","itemView","isRevealed","setRevealed","opacityReveal","onEnter","onClose","opacityOnMovView","eventState","useSpring","easeOutCubic","imgSrc","movieImgDataObj","jpgData","img","src","alt","crossOrigin","item-view","imageRendering","display","backgroundColor","averageColor","defaultProps","circleCircumference","circleRadius","PI","minScoreColor","maxScoreColor","CircledProgressBar","score","rootRef","progressMultiplier","progressColor","hslInterval","strokeDashOffsetVal","stroke","hslToHex","strokeDashoffset","ignore","visibility","height","width","viewBox","overflow","cx","viewBoxSize","cy","r","fill","strokeWidth","zIndex","circle","strokeDasharray","strokeLinecap","strokeMiterlimit","scoreValue","toPrecision","useLockBodyScroll","maxWidth","maxWidthRef","originalStyle","scrollingElement","getComputedStyle","innerWidth","valuesMap","0","1","2","3","4","5","6","7","8","9","10","RatingModal","rateItem","defaultValue","setRatingModal","setValue","onTouch","getBoundingClientRect","maxPoint","touchPoint","targetTouches","clientX","pointPercent","round","resultPercent","ratingModalContainer","clientY","innerHeight","ratingModal","removeButton","Rating","precision","onTouchMove","onTouchStart","mobileSubmit","AuthPage","setRequestToken","localToken","tokenResponse","parse","isValidRequestToken","getValidLocalToken","goFetch","tokenData","userField","isLoading","filter","rated","initial_state","favoriteActions","getMoviesBrowserActions","watchlistActions","checkAllowToRemove","itemName","confirm","MovieViewActionButtons","MovieViewActions","showLogin","setShowLogin","useReducer","setLoading","actionName","auth","ratedValue","ignoreActions","Tooltip","enterDelay","PopperProps","toolTip","iconWrapper","active-icon","action-name","is-loading","includes","newFavValue","unshiftToFavorites","removeFromListItems","newVal","prev","showAuth","xButton","MovieItemImage","movie","backGroundUrl","poster_path","backgroundImage","setMovieView","image","imageIcon","onViewConfigNotItemView","onLeave","MovieResultItem","itemRef","vote_average","release_date","overview","imgSrcPath","setImgSrcPath","initialOnViewProps","onView","onMovieProps","propsState","titleStyle","fontSize","newSrc","Image","onload","visibilityState","offsetWidth","classList","add","runAnimation","remove","memoizedBackgroundImage","useMemo","content","wrapper","header","year","substr","overViewSection","info","MovieResultSkeleton","imageWrapper","infoWrapper","MoviesGrid","items","Grid","container","alignItems","spacing","xs","sm","md","isFetchingOrLengthEquality","newState","oldState","selectItemsUIPortion","browseState","pageUI","fromIndex","grabIndex","useMovieItems","totalResultsApi","actionsInit","actionsRef","nameRef","checkIfFetchMore","setPage","getState","fetchMoviesAsync","calculatePageOnApi","clearTimeout","totalPagesUI","goToPage","searchActions","SearchPage","clearFetchedMovies","searchHead","ThisWeekItem","onClickHandler","gridArea","movie-title","gridItem","hoveredBg","ThisWeekContainer","gridContainer","backdrop_path","RelatedMovieItem","canClick","itemClassName","relatedMovieItemWrapper","onDragStart","relatedMovieItem","isLoadingItem","noPoster","prevProps","nextProps","setClientXOnRef","MovieItemsXScrollList","ItemsScrollX","noResultsFound","scrollByX","infoTabMessage","scrollXPos","setScrollXPos","onFrame","scroll","update","onMouseMoveHandler","maxScrollLeft","scrollWidth","clientWidth","movementX","buttons","prevState","nextState","onWheelHandler","deltaY","onDownRef","onUpRef","itemChildren","onWheel","onMouseMove","onMouseDown","onMouseUp","overflowX","Array","noMoviesFound","NowPlayingContainer","mainItem","nowPlayingContainer","mainMovieItem","subMovieItemContainerWrapper","subMovieItemContainer","subMovieItemContainerItem","SpotlightSection","sectionSpotlight","sectionTitle","sectionContentWrapper","sectionContent","HomePage","MovieViewInfoChildren","movieView","budget","homepage","revenue","runtime","status","hostname","URL","jsx","sideInfoItem","getReadableDate","href","rel","minutesToRuntimeDisplay","easeOutQuart","trail","Element","animated","MovieViewInfo","colorSessionObj","fade","defaultBgColor","MovieViewBackground","transitionDuration","cssProps","bgColor","bgStyle","background","MovieViewRelated","relatedMovies","setRelatedMovies","MovieViewItem","movieItem","movieItemRef","isMovView","isMovieView","goFetchMovieView","isViewing","mainInfo","mobileRateActions","mobileOverview","sideInfo","MovieViewEvent","CustomEvent","movieViewItem","onSetMovieItem","selectedAreEqual","oldItem","useMovieForView","setMovieId","clearMovieId","selectMovieItem","search","selectedMovie","fromSelectedId","movieForViewState","setMovieForViewState","MovieViewRootDiv","MovieViewScreen","transitionConfig","animatedDiv","getElementById","domRect","initialPosition","animatedDomRect","firstElementChild","top","bottom","x","mass","tension","friction","clamp","onStart","dispatchEvent","onRest","prevConfig","appliedConfig","transitionDiv","ListItem","isMovieItem","movieTitle","onSetMovieView","actionButtons","ListChild","initialStyles","maxHeight","paddingBottom","next","ItemsList","itemType","currentValue","head","WatchlistPage","FavoritesPage","AuthRoute","Component","component","render","routesChildren","exact","App","clear","goFetchUserAccount","setUser","main","Container","Boolean","match","worker","onmessage","onWorkerFetchedDoneEvent","navigator","serviceWorker","ready","registration","unregister","require","default","ReactDOM","basename","StylesProvider","injectFirst","fetchMoviesStart","fetchMoviesSuccess","fetchMoviesFailure","pageApi","ok","goFetchPostersOnWorker","transformedData","convertResultsData","fetchMoreMoviesStart","fetchMoreMoviesSuccess","fetchMoreMoviesFailure","fetchMoreMoviesAsync","nextPageOnApi","otherPagesOnApi","getSearchParam","resultsObject","nextUIPageOnApi","pagesToFetch","isFetchPage","push","t","CanvasImgDataConverter","imgEl","canvas","CANVAS","context","CONTEXT","Error","rgb","g","b","count","naturalHeight","offsetHeight","naturalWidth","drawImage","getImageData","toDataURL","blockSize","createElement","getContext","ImageDataEvent","weight","h1","s1","l1","h2","s2","l2","h_toAdd","s_toAdd","l_toAdd","h","s","l","hue2rgb","p","q","toHex","hex","startIndex","forEach","insertIndex","blobUrl","revokeObjectURL","makeMovieImgSessionObj","movieImgSessionObj","item_s_","toFetch","isArray","postMessage","imgJsonData","months","isoDate","date","n","month","day","Intl","NumberFormat","currency","format","minutes","hours","floor","remaining","query","param","paramNum","is","NaN","hashQuery","newParams","movieId_or_Item","Promise","resolve","options","scrollTo","searchParams","approved","goFetchSessionId","fetchedSessionId","fetchUrl","init","offSet","offBy","Date","expires_at","getTime","now"],"mappings":"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","file":"static/js/main.8bb51222.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"error-message_root__1fZb_\",\"title\":\"error-message_title__2fMjM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"search-page_root__2Nc1S\",\"searchHead\":\"search-page_searchHead__1M6GA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"circled-progress-bar_root__2mkbI\",\"scoreValue\":\"circled-progress-bar_scoreValue__1k3e4\",\"loadingPulse\":\"circled-progress-bar_loadingPulse__FHvDD\",\"opacityPulse\":\"circled-progress-bar_opacityPulse__3VR5b\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"movie-view-screen_root__2Ig-W\",\"transitionDiv\":\"movie-view-screen_transitionDiv__3fEVy\"};","module.exports = function() {\n  return new Worker(__webpack_public_path__ + \"415103c3d8bc69bd7422.worker.js\");\n};","import { easeOutQuad } from \"./utility/easingFuctions\";\r\nimport { MoviesBrowseNames } from \"store/movies-browser\";\r\n\r\nconst {REACT_APP_API_KEY: API_KEY, NODE_ENV} = process.env;\r\nconst BASE_API_URL = 'https://api.themoviedb.org/3'\r\n\r\ntype ImageSizes = \"200\" | \"300\" | \"400\" | \"500\";\r\n\r\nconst REDIRECT_LOGGING = NODE_ENV === 'development' ?\r\n    'http://192.168.1.8:3000/' : ''; //TODO: 'production' url is missing\r\n\r\nconst getApiKeyQuery = () => `api_key=${API_KEY}`;\r\nconst getSessionQuery = () => `session_id=${localStorage.getItem(\"session_id\")}`;\r\n\r\nconst appProperties = {\r\n    //application properties here\r\n    itemsPerPageUI: 9,\r\n\r\n    getPosterSrcPathPrefix: (size: ImageSizes = \"200\") =>  `https://image.tmdb.org/t/p/w${size}`,\r\n\r\n    buildFetchMovieSearchUrl: (searchTerm: string, page: number = 1) =>\r\n        `${BASE_API_URL}/search/movie?${getApiKeyQuery()}&query=${searchTerm}&page=${page}&include_adult=false`,\r\n\r\n    buildFetchMovieViewUrl: (movieId: number, addPath?: string) => {\r\n        return `${BASE_API_URL}/movie/${movieId}${addPath || ''}?${getApiKeyQuery()}`;\r\n    },\r\n\r\n    searchPageTransitionConfig: {\r\n        duration: 400,\r\n        easing: easeOutQuad,\r\n    },\r\n\r\n    getThisWeekUrl: () => `${BASE_API_URL}/trending/movie/week?${getApiKeyQuery()}`,\r\n    getNowPlayingUrl: () => `${BASE_API_URL}/movie/now_playing?${getApiKeyQuery()}`,\r\n\r\n    newSessionUrl: `${BASE_API_URL}/authentication/session/new?${getApiKeyQuery()}`,\r\n\r\n    getAccountUrl: (session_id: string) =>\r\n        `${BASE_API_URL}/account?${getApiKeyQuery()}&session_id=${session_id}`,\r\n\r\n    getLogoutConfig: (session_id: string): [string, RequestInit] => [\r\n        `${BASE_API_URL}/authentication/session?${getApiKeyQuery()}`,\r\n        {\r\n            method: 'DELETE',\r\n            body: JSON.stringify({session_id}),\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n\r\n\r\n            }\r\n        }\r\n    ],\r\n\r\n    newRequestTokenUrl: `${BASE_API_URL}/authentication/token/new?${getApiKeyQuery()}`,\r\n\r\n    buildLoginRedirectUrl: (request_token: string) =>\r\n        `https://www.themoviedb.org/authenticate/${request_token}?redirect_to=${REDIRECT_LOGGING}`,\r\n\r\n    itemActions: {\r\n        favorite: async (favState: boolean, movieId: number) => {\r\n            const url = `${BASE_API_URL}/account/0/favorite?${getApiKeyQuery()}&${getSessionQuery()}`\r\n            await fetch(url, {\r\n                body: JSON.stringify({\r\n                    media_type: \"movie\",\r\n                    media_id: movieId,\r\n                    favorite: favState\r\n                }),\r\n                headers: {\r\n                    'Content-Type': 'application/json;charset=utf-8'\r\n                },\r\n                method: 'POST'\r\n            })\r\n            return true;\r\n        },\r\n        watchlist: async (watchState: boolean, movieId: number) => {\r\n            const url = `${BASE_API_URL}/account/0/watchlist?${getApiKeyQuery()}&${getSessionQuery()}`\r\n            await fetch(url, {\r\n                body: JSON.stringify({\r\n                    media_type: \"movie\",\r\n                    media_id: movieId,\r\n                    watchlist: watchState\r\n                }),\r\n                headers: {\r\n                    'Content-Type': 'application/json;charset=utf-8'\r\n                },\r\n                method: 'POST'\r\n            })\r\n            return true;\r\n        },\r\n        rate: async (value: number, movieId: number) => {\r\n            const url = `${BASE_API_URL}/movie/${movieId}/rating?${getApiKeyQuery()}&${getSessionQuery()}`\r\n            await fetch(url, {\r\n                body: JSON.stringify({\r\n                    value\r\n                }),\r\n                headers: {\r\n                    'Content-Type': 'application/json;charset=utf-8'\r\n                },\r\n                method: 'POST'\r\n            })\r\n            return true;\r\n        },\r\n        unRate: async (movieId: number) => {\r\n            const url = `${BASE_API_URL}/movie/${movieId}/rating?${getApiKeyQuery()}&${getSessionQuery()}`\r\n            await fetch(url, {\r\n                headers: {\r\n                    'Content-Type': 'application/json;charset=utf-8'\r\n                },\r\n                method: 'DELETE'\r\n            })\r\n            return true;\r\n        }\r\n\r\n    },\r\n\r\n    getItemsListUrl: (page: number = 1, name: \"favorite\" | \"watchlist\") =>\r\n        `${BASE_API_URL}/account/0/${name}/movies?${getApiKeyQuery()}&${getSessionQuery()}&page=${page}&sort_by=created_at.desc`,\r\n\r\n    getItemsBrowseUrl(name: MoviesBrowseNames, searchTerm: string = '', pageOnApi: number = 1): string {\r\n        let browseUrl = BASE_API_URL;\r\n\r\n        // concat path\r\n        switch (name) {\r\n            case \"favorite\":\r\n                browseUrl += \"/account/0/favorite/movies\";\r\n                break;\r\n            case \"watchlist\":\r\n                browseUrl += \"/account/0/watchlist/movies\";\r\n                break;\r\n            case \"search\":\r\n                browseUrl += \"/search/movie\";\r\n                break;\r\n            case \"nowPlaying\":\r\n                browseUrl += \"/movie/now_playing\";\r\n                break;\r\n            case \"trendingWeek\":\r\n                browseUrl += \"/trending/movie/week\";\r\n                break;\r\n        }\r\n\r\n        browseUrl += \"?\";\r\n\r\n\r\n        // concat query\r\n        switch (name) {\r\n            case \"favorite\":\r\n                browseUrl += getSessionQuery() + \"&sort_by=created_at.desc\";\r\n                break;\r\n            case \"watchlist\":\r\n                browseUrl += getSessionQuery() + \"&sort_by=created_at.desc\";\r\n                break;\r\n            case \"search\":\r\n                browseUrl += `query=${searchTerm}&include_adult=false`\r\n                break;\r\n            case \"nowPlaying\":\r\n                break;\r\n            case \"trendingWeek\":\r\n                break;\r\n        }\r\n\r\n        return browseUrl + \"&\" + getApiKeyQuery() + `&page=${pageOnApi}`;\r\n    }\r\n\r\n};\r\n\r\n// /account/{account_id}/favorite/movies-browser\r\n// /account/{account_id}/watchlist/movies-browser\r\n\r\nexport default appProperties;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bob\":\"pagination-controls_bob__1kgUG\",\"root\":\"pagination-controls_root__17AgS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"movie-results-container_root__2rRnr\",\"grid\":\"movie-results-container_grid__t-GlL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"total-search-results_root__302j4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"movie-item-img-bg_root__N-Q75\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"movies-grid_root__Bm5D1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"movie-view-background_root__2pCqN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"movie-view-related_root__1_IrX\",\"loadingPulse\":\"movie-view-related_loadingPulse__1CnAp\",\"opacityPulse\":\"movie-view-related_opacityPulse__fpUUx\"};","import { IMovieViewActions } from \"./index\";\r\nimport IMovieResultItem from \"../../interfaces/app-types/IMovieResultItem\";\r\nimport { MovieViewActionsTypes } from \"./movie-view.actions\";\r\nimport { setSearchParam } from \"utility\";\r\n\r\nexport interface MovieItemState {\r\n\titem: IMovieResultItem | null,\r\n}\r\n\r\nconst INITIAL_STATE: MovieItemState = {\r\n\titem: null,\r\n};\r\n\r\nconst movieViewReducer = (state = INITIAL_STATE, action: IMovieViewActions): MovieItemState => {\r\n\tswitch (action.type) {\r\n\t\tcase MovieViewActionsTypes.SET_MOVIE_VIEW:\r\n\t\t\tsetSearchParam(\"movieId\", action.payload.id);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\titem: action.payload,\r\n\t\t\t};\r\n\t\tcase MovieViewActionsTypes.CLEAR_MOVIE_VIEW:\r\n\t\t\treturn {\r\n\t\t\t\t...INITIAL_STATE\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default movieViewReducer;","import { UserActions, UserState } from \"./index\";\r\nimport { UserActionsTypes } from \"./user.actions\";\r\n\r\nconst INITIAL_STATE: UserState | null = null;\r\n\r\nconst userReducer = ( state = INITIAL_STATE, action: UserActions ): UserState | null => {\r\n    switch (action.type) {\r\n\t    case UserActionsTypes.SET_USER:\r\n\t    \treturn action.payload\r\n\t    case UserActionsTypes.CLEAR_USER:\r\n\t    \treturn null;\r\n\t    default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default userReducer;","import IMoviesSearchData, { ResultItemsObject } from \"../../interfaces/app-types/IMoviesSearchData\";\r\nimport IMoviesSearchError from \"../../interfaces/app-types/IMoviesSearchError\";\r\nimport { MoviesBrowserActionTypes } from \"./movies-browser.actions\";\r\nimport { ISearchActions, MoviesBrowseNames } from \"./\";\r\nimport { Reducer } from \"redux\";\r\nimport IMovieResultItem from \"../../interfaces/app-types/IMovieResultItem\";\r\n\r\nexport interface MoviesBrowseState {\r\n\tsearchData: IMoviesSearchData | null;\r\n\tsearchError: IMoviesSearchError | null;\r\n\tisFetching: boolean;\r\n\tisFetchingMore: boolean;\r\n\tapiFetchedPages: number[];\r\n\tsearchTerm: string;\r\n}\r\n\r\nconst INITIAL_STATE: MoviesBrowseState = {\r\n\tsearchData: null,\r\n\tsearchError: null,\r\n\tisFetching: false,\r\n\tisFetchingMore: false,\r\n\tapiFetchedPages: [],\r\n\tsearchTerm: ''\r\n};\r\n\r\nfunction makeMoviesBrowserReducer(name: MoviesBrowseNames): Reducer<MoviesBrowseState, ISearchActions> {\r\n\treturn function(state = INITIAL_STATE, action) {\r\n\r\n\t\tif (action.name !== name) return state;\r\n\r\n\t\tswitch (action.type) {\r\n\t\t\tcase MoviesBrowserActionTypes.UNSHIFT_TO_LIST_ITEMS:\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tsearchData: state.searchData && {\r\n\t\t\t\t\t\t...state.searchData,\r\n\t\t\t\t\t\tresults: unshiftToObj({...state.searchData.results}, action.payload),\r\n\t\t\t\t\t\ttotal_pages: Math.ceil((state.searchData.total_results+1)/20),\r\n\t\t\t\t\t\ttotal_results: state.searchData.total_results+1\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\tcase MoviesBrowserActionTypes.REMOVE_FROM_LIST_ITEMS:\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tsearchData: state.searchData && {\r\n\t\t\t\t\t\t...state.searchData,\r\n\t\t\t\t\t\tresults: removeFromObjById({...state.searchData.results}, action.payload),\r\n\t\t\t\t\t\ttotal_pages: Math.ceil((state.searchData.total_results-1)/20),\r\n\t\t\t\t\t\ttotal_results: state.searchData.total_results-1\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\tcase MoviesBrowserActionTypes.CLEAR_FETCHED_MOVIES:\r\n\t\t\t\treturn INITIAL_STATE;\r\n\t\t\tcase MoviesBrowserActionTypes.FETCH_MOVIES_START:\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...INITIAL_STATE,\r\n\t\t\t\t\tisFetching: true,\r\n\t\t\t\t};\r\n\t\t\tcase MoviesBrowserActionTypes.FETCH_MOVIES_SUCCESS:\r\n\t\t\t\tlet {data: fetchedData} = action.payload;\r\n\r\n\t\t\t\tif (!fetchedData.total_results)\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\t...INITIAL_STATE,\r\n\t\t\t\t\t\tsearchError: {\r\n\t\t\t\t\t\t\terrors: [\"No results found.\"]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...INITIAL_STATE,\r\n\t\t\t\t\tsearchData: fetchedData,\r\n\t\t\t\t\tapiFetchedPages: [1],\r\n\t\t\t\t\tsearchTerm: action.payload.searchTerm || ''\r\n\t\t\t\t};\r\n\t\t\tcase MoviesBrowserActionTypes.FETCH_MOVIES_FAILURE:\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...INITIAL_STATE,\r\n\t\t\t\t\tsearchError: action.payload\r\n\t\t\t\t};\r\n\r\n\t\t\tcase MoviesBrowserActionTypes.FETCH_MORE_MOVIES_START:\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tisFetchingMore: true\r\n\t\t\t\t};\r\n\t\t\tcase MoviesBrowserActionTypes.FETCH_MORE_MOVIES_SUCCESS:\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tsearchData: {\r\n\t\t\t\t\t\t...state.searchData!,\r\n\t\t\t\t\t\tresults: {\r\n\t\t\t\t\t\t\t...state.searchData!.results,\r\n\t\t\t\t\t\t\t...action.payload.results\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tpage: action.payload.fetchedPage\r\n\t\t\t\t\t},\r\n\t\t\t\t\tapiFetchedPages: [\r\n\t\t\t\t\t\t...new Set([...state.apiFetchedPages, action.payload.fetchedPage])\r\n\t\t\t\t\t],\r\n\t\t\t\t\tisFetchingMore: false\r\n\t\t\t\t};\r\n\t\t\tcase MoviesBrowserActionTypes.FETCH_MORE_MOVIES_FAILURE:\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tsearchError: action.payload,\r\n\t\t\t\t\tisFetchingMore: false\r\n\t\t\t\t};\r\n\t\t\tdefault:\r\n\t\t\t\treturn state;\r\n\t\t}\r\n\t};\r\n\r\n}\r\n\r\nfunction unshiftToObj(obj: ResultItemsObject, newItem: IMovieResultItem): ResultItemsObject {\r\n\tlet tempOut = newItem;\r\n\tfor (let key in obj) {\r\n\t\tlet tempHold = obj[key]!;\r\n\t\tobj[key] = tempOut;\r\n\t\ttempOut = tempHold;\r\n\t}\r\n\tobj[Object.keys(obj).length] = tempOut;\r\n\treturn obj;\r\n}\r\n\r\nfunction removeFromObjById(obj: ResultItemsObject, id: number): ResultItemsObject {\r\n\tlet removed = false;\r\n\tfor (let key in obj) {\r\n\t\tlet numKey = Number(key)\r\n\t\tif (obj[numKey]?.id !== id && !removed) continue;\r\n\t\tif (removed)\r\n\t\t\tobj[numKey-1] = obj[numKey];\r\n\t\telse {\r\n\t\t\tobj[numKey] = undefined;\r\n\t\t\tremoved = true;\r\n\t\t}\r\n\t}\r\n\tif (removed)\r\n\t\tdelete obj[Object.keys(obj).length-1];\r\n\treturn obj;\r\n}\r\n\r\nexport default makeMoviesBrowserReducer;\r\n","import { combineReducers } from \"redux\";\r\nimport movieViewReducer from \"./movie-view/movie-view.reducer\";\r\nimport userReducer from \"./user/user.reducer\";\r\nimport makeMoviesBrowserReducer from \"./movies-browser/movies-browser.reducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n  \"trendingWeek\"   : makeMoviesBrowserReducer(\"trendingWeek\"),\r\n  \"nowPlaying\"     : makeMoviesBrowserReducer(\"nowPlaying\"),\r\n  \"watchlist\"      : makeMoviesBrowserReducer(\"watchlist\"),\r\n  \"favorite\"       : makeMoviesBrowserReducer(\"favorite\"),\r\n  \"search\"         : makeMoviesBrowserReducer(\"search\"),\r\n  \"user\"           : userReducer,\r\n  \"movieItem\"      : movieViewReducer,\r\n});\r\n\r\nexport default rootReducer;\r\n","import rootReducer from \"./root-reducer\";\r\nimport { configureStore } from \"@reduxjs/toolkit\";\r\n\r\nconst store = configureStore({\r\n    reducer: rootReducer\r\n})\r\n\r\n\r\n// @ts-ignore\r\nif (process.env.NODE_ENV === 'development' && module.hot) {\r\n    // @ts-ignore\r\n    module.hot.accept(\"./root-reducer\", () => {\r\n        const newRootReducer = require(\"./root-reducer\").default\r\n        store.replaceReducer(newRootReducer)\r\n    })\r\n}\r\n\r\nexport default store;","import { ISearchActions } from \"./movies-browser\";\r\nimport { IMovieViewActions } from \"./movie-view\";\r\nimport { ThunkAction } from \"redux-thunk\";\r\nimport { Action, AnyAction } from \"redux\";\r\nimport rootReducer from \"./root-reducer\";\r\nimport store from \"./store\";\r\n\r\nexport type AppActions =\r\n\t| ISearchActions\r\n\t| IMovieViewActions\r\n\r\nexport { default as store } from './store'\r\n\r\nexport type AppState = ReturnType<typeof rootReducer>\r\n\r\nexport default store;\r\n\r\nexport type AppThunk<A extends Action = AnyAction> = ThunkAction<void, AppState, null, A>","import { useLayoutEffect, useState } from \"react\";\r\nimport { getHashPath } from \"utility\";\r\n\r\n\r\nfunction useLocationPath() {\r\n\tconst [path, setPath] = useState('/');\r\n\r\n\tuseLayoutEffect(() => {\r\n\t\tsetPath(getHashPath())\r\n\t\tconst listener = ({oldURL, newURL}: HashChangeEvent) => {\r\n\t\t\tconst oldPath = getHashPath(oldURL), newPath = getHashPath(newURL);\r\n\t\t\tif (oldPath !== newPath)\r\n\t\t\t\tsetPath(newPath);\r\n\t\t};\r\n\t\twindow.addEventListener(\"hashchange\", listener)\r\n\t\treturn () => window.removeEventListener(\"hashchange\", listener);\r\n\t}, []);\r\n\r\n\treturn path;\r\n}\r\n\r\nexport default useLocationPath;","import store, { AppState } from \"store\";\r\nimport { UserState } from \"store/user\";\r\nimport { useSelector } from \"react-redux\";\r\nimport appProperties from \"../appProperties\";\r\nimport { clearUser } from \"store/user/user.actions\";\r\n\r\nconst {getLogoutConfig, buildLoginRedirectUrl} = appProperties;\r\n\r\n\r\nconst selectUser = (state: AppState) => state.user;\r\n\r\nconst equalUser = (left: UserState|null, right: UserState|null) => left?.id === right?.id;\r\n\r\nfunction useAuth(): AuthHook {\r\n\r\n\tconst user = useSelector<AppState, UserState | null>(selectUser, equalUser);\r\n\r\n\treturn {\r\n\t\tuser,\r\n\t\tisAuth: !!user,\r\n\t\tsignOut: logOut,\r\n\t\tsignIn: logIn\r\n\t}\r\n}\r\n\r\nfunction logOut() {\r\n\tconst session_id = localStorage.getItem(\"session_id\");\r\n\tif (!session_id) return;\r\n\r\n\tfetch(...getLogoutConfig(session_id))\r\n\t\t.then(res => res.json())\r\n\t\t.then(data => {\r\n\t\t\tif (data.success) {\r\n\t\t\t\tconsole.log(\"logout success\");\r\n\t\t\t\talert(\"Successfully logged out.\")\r\n\t\t\t\tstore.dispatch(clearUser());\r\n\t\t\t\tlocalStorage.removeItem(\"session_id\");\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(console.log)\r\n}\r\n\r\nfunction logIn(requestToken: string) {\r\n\twindow.open(buildLoginRedirectUrl(requestToken), \"_blank\");\r\n}\r\n\r\ninterface AuthHook {\r\n\tuser: UserState | null,\r\n\tisAuth: boolean,\r\n\tsignOut: () => void,\r\n\tsignIn: (requestToken: string) => void,\r\n}\r\n\r\nexport default useAuth;","import { checkIsMobile } from \"utility\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\n\r\nfunction useIsMobile() {\r\n\r\n\tconst [isMobile, setIsMobile] = useState(() => checkIsMobile());\r\n\r\n\tuseEffect(() => {\r\n\t\tconst onresize = () => {\r\n\t\t\tsetIsMobile(checkIsMobile())\r\n\t\t};\r\n\t\twindow.addEventListener(\"resize\", onresize);\r\n\t\treturn () => window.removeEventListener(\"resize\", onresize);\r\n\t}, []);\r\n\r\n\treturn isMobile;\r\n}\r\n\r\nexport default useIsMobile;","import React, { Dispatch, FC, SetStateAction, useState } from \"react\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport DoubleArrowIcon from \"@material-ui/icons/DoubleArrow\";\r\nimport HomeIcon from \"@material-ui/icons/Home\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\r\nimport BookmarkIcon from \"@material-ui/icons/Bookmark\";\r\nimport AccountCircleIcon from \"@material-ui/icons/AccountCircle\";\r\nimport styles from \"./app-bar.module.scss\";\r\n// import styles from \"./app-bar.module.scss\";\r\nimport { Link } from \"react-router-dom\";\r\nimport useLocationPath from \"hooks/useLocationPath\";\r\nimport { INavItem } from \"./index.d\";\r\nimport useAuth from \"hooks/useAuth\";\r\nimport useIsMobile from \"hooks/useIsMobile\";\r\n\r\n\r\nconst navItems: INavItem[] = [\r\n\t{\r\n\t\ticon: HomeIcon,\r\n\t\ttext: \"Home\",\r\n\t\tto: \"/\"\r\n\t},\r\n\t{\r\n\t\ticon: SearchIcon,\r\n\t\ttext: \"Search\",\r\n\t\tto: \"/search\"\r\n\t},\r\n\t{\r\n\t\ticon: FavoriteIcon,\r\n\t\ttext: \"Favorites\",\r\n\t\tto: \"/favorites\"\r\n\t},\r\n\t{\r\n\t\ticon: BookmarkIcon,\r\n\t\ttext: \"Watchlist\",\r\n\t\tto: \"/watchlist\"\r\n\t},\r\n];\r\n\r\n\r\nconst AppBar = () => {\r\n\tconst [isOpen, setOpen] = useState(false);\r\n\tconst pathname = useLocationPath();\r\n\r\n\tconst { user } = useAuth();\r\n\r\n\treturn (\r\n\t\t<nav className={`${styles.root} ${isOpen ? styles.isOpen : ''}`}\r\n\t\t     onMouseEnter={() => setOpen(true)} onMouseLeave={() => setOpen(false)}>\r\n\t\t\t<ul className={styles.toolBar}>\r\n\t\t\t\t<li className={styles.navItem}>\r\n\t\t\t\t\t<span className={`${styles.navItemTxt} ${styles.logo}`}>MovieApp</span>\r\n\t\t\t\t\t<IconButton color=\"inherit\" aria-label=\"menu\" className={styles.navItemIcon}>\r\n\t\t\t\t\t\t<DoubleArrowIcon/>\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t</li>\r\n\t\t\t\t{navItems.map((item, i) =>\r\n\t\t\t\t\t<NavItem key={i} {...item} setOpen={setOpen} active={item.to === pathname}/>\r\n\t\t\t\t)}\r\n\t\t\t\t<NavItem\r\n\t\t\t\t\tactive={\"/account\" === pathname}\r\n\t\t\t\t\tsetOpen={setOpen} to=\"/account\"\r\n\t\t\t\t\ticon={AccountCircleIcon} text={user?.username || \"Login\"}\r\n\t\t\t\t\tusername={user?.username}\r\n\t\t\t\t/>\r\n\t\t\t</ul>\r\n\t\t</nav>\r\n\t);\r\n};\r\n\r\ninterface INavItemProps {\r\n\tactive: boolean,\r\n\tsetOpen: Dispatch<SetStateAction<boolean>>,\r\n\tusername?: string\r\n}\r\n\r\ntype NavItemProps = INavItemProps & INavItem;\r\n\r\nconst NavItem: FC<NavItemProps> = ({icon: Icon, text, to, setOpen, active, username}) => {\r\n\r\n\tconst isMobile = useIsMobile();\r\n\r\n\tfunction handleClick(e: React.MouseEvent<HTMLAnchorElement>) {\r\n\t\tif (e.currentTarget === e.target)\r\n\t\t\treturn e.preventDefault();\r\n\t\t!isMobile && setOpen(false);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Link to={to} className={styles.navItem} onClick={handleClick} aria-current={active}>\r\n\t\t\t<IconButton color=\"inherit\" aria-label=\"menu\" className={styles.navItemIcon}>\r\n\t\t\t\t{username ?\r\n\t\t\t\t\t<div className={styles.avatar} >{username.charAt(0).toUpperCase()}</div>\r\n\t\t\t\t\t: <Icon/>\r\n\t\t\t\t}\r\n\t\t\t</IconButton>\r\n\t\t\t{text && <span className={styles.navItemTxt}>{text}</span>}\r\n\t\t</Link>\r\n\t);\r\n};\r\n\r\nexport default AppBar;\r\n","import AppBar from \"./app-bar.component\";\r\n\r\nexport default AppBar;","import { MutableRefObject, useEffect, useRef } from \"react\";\r\n\r\nfunction usePrevious<T>(value: T): T | undefined {\r\n  const ref: MutableRefObject<T | undefined> = useRef();\r\n  useEffect(() => {\r\n    ref.current = value;\r\n  }, [value]);\r\n  return ref.current;\r\n}\r\n\r\nexport default usePrevious;\r\n","import SearchParamsMap from \"../interfaces/app-types/SearchParamsMap\";\r\nimport { useCallback, useEffect, useLayoutEffect, useRef, useState } from \"react\";\r\nimport usePrevious from \"./usePrevious\";\r\nimport { fixParamValue, getHashPath, getHashQuery } from \"utility\";\r\n\r\ntype useSearchParamUpdate<Param extends keyof SearchParamsMap, Extra extends keyof SearchParamsMap = keyof SearchParamsMap> =\r\n\t(\r\n\t\tvalue: SearchParamsMap[Param] | null | ((currentValue: SearchParamsMap[Param] | null) => SearchParamsMap[Param] | null),\r\n\t    extraParam?: [Extra, SearchParamsMap[Extra] | null]\r\n\t) => void\r\n\r\ntype useSearchParamReturnType<Param extends keyof SearchParamsMap> = [SearchParamsMap[Param] | undefined, useSearchParamUpdate<Param>]\r\ntype onParamChangeType<Param extends keyof SearchParamsMap> = (newValue: SearchParamsMap[Param] | null, oldValue: SearchParamsMap[Param] | null) => any;\r\n\r\nfunction useSearchParam<Param extends keyof SearchParamsMap>\r\n(paramName: Param, onParamChange?: onParamChangeType<Param>): useSearchParamReturnType<Param> {\r\n\r\n\tconst paramNameRef = useRef(paramName);\r\n\t// URL bar's searchParam with effect to keep in sync (based on [location.movies-browser])\r\n\tconst [selectedParam, setSelectedParam] = useState(() => {\r\n\t\treturn new URLSearchParams(getHashQuery()).get(paramNameRef.current);\r\n\t});\r\n\tconst fixSelectedParam = fixParamValue<Param>(selectedParam) // convert value to correct data type\r\n\r\n\tconst selectedRef = useRef(fixSelectedParam);\r\n\r\n\tuseLayoutEffect(() => {\r\n\t\tselectedRef.current = fixSelectedParam\r\n\t}, [fixSelectedParam]);\r\n\r\n\tconst oldSelectedParam = usePrevious(fixSelectedParam) || null;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (oldSelectedParam !== fixSelectedParam)\r\n\t\t\tonParamChange && onParamChange(fixSelectedParam, oldSelectedParam);\r\n\t}, [fixSelectedParam, onParamChange, oldSelectedParam]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst listener = ({oldURL, newURL}: HashChangeEvent) => {\r\n\t\t\tif (oldURL === newURL) return;\r\n\t\t\tconst oldQuery = getHashQuery(oldURL);\r\n\t\t\tconst newQuery = getHashQuery(newURL);\r\n\t\t\tconst oldParam = new URLSearchParams(oldQuery).get(paramNameRef.current);\r\n\t\t\tconst newParam = new URLSearchParams(newQuery).get(paramNameRef.current);\r\n\t\t\tif (oldParam !== newParam)\r\n\t\t\t\tsetSelectedParam(newParam);\r\n\t\t};\r\n\t\twindow.addEventListener(\"hashchange\", listener)\r\n\t\treturn () => window.removeEventListener(\"hashchange\", listener);\r\n\t}, []);\r\n\r\n\r\n\t// Update function for the selected searchParam\r\n\tconst updateParam = useCallback<useSearchParamUpdate<Param>>((value, extraParam) => {\r\n\t\tif (selectedRef.current === value && !extraParam) return;\r\n\t\tlet newSearchParams = new URLSearchParams(getHashQuery());\r\n\r\n\t\tlet newValue = (typeof value === \"function\") ?\r\n\t\t\tvalue(selectedRef.current)\r\n\t\t\t: value;\r\n\r\n\t\tif (newValue === null)\r\n\t\t\tnewSearchParams.delete(paramNameRef.current);\r\n\t\telse newSearchParams.set(paramNameRef.current, String(newValue));\r\n\r\n\t\tif (extraParam) {\r\n\t\t\tif (extraParam[1] === null)\r\n\t\t\t\tnewSearchParams.delete(extraParam[0]);\r\n\t\t\telse newSearchParams.set(extraParam[0], String(extraParam[1]));\r\n\t\t}\r\n\r\n\t\t// Update to new location (hash Browser)\r\n\t\twindow.location.hash = getHashPath() + \"?\" + newSearchParams.toString();\r\n\r\n\t}, []);\r\n\r\n\r\n\treturn [fixSelectedParam ?? undefined, updateParam];\r\n}\r\n\r\nexport default useSearchParam;\r\n","import React, { FC, RefObject, useEffect, useState } from \"react\";\r\nimport styles from \"./search-bar.module.scss\";\r\nimport appProperties from \"../../appProperties\";\r\nimport IMovieResultItem from \"../../interfaces/app-types/IMovieResultItem\";\r\n\r\nconst {buildFetchMovieSearchUrl} = appProperties;\r\n\r\ninterface OwnProps {\r\n\tkeyword: string\r\n\tonSubmit: () => void;\r\n\tinputRef: RefObject<HTMLInputElement>\r\n}\r\nconst SearchBarSuggestions: FC<OwnProps> = ({keyword,  onSubmit, inputRef}) => {\r\n\r\n\tconst [suggestions, setSuggestions] = useState<IMovieResultItem[]>([]);\r\n\tconst [selected, setSelected] = useState<number | null>(null);\r\n\tconst [visible, setVisible] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tlet isMount = true;\r\n\t\tsetTimeout(() => isMount && setVisible(true), 360);\r\n\t\treturn () => { isMount = false; }\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tlet isEffect = true;\r\n\t\tsetTimeout(() => {\r\n\t\t\tisEffect && fetch(buildFetchMovieSearchUrl(keyword))\r\n\t\t\t\t.then(res => isEffect && res.json())\r\n\t\t\t\t.then(data => {\r\n\t\t\t\t\tif (!isEffect) return;\r\n\t\t\t\t\tsetSuggestions(data.results.slice(0, 12) ?? []);\r\n\t\t\t\t\tsetSelected(null);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(console.log)\r\n\t\t}, 300);\r\n\t\treturn () => {\r\n\t\t\tisEffect = false;\r\n\t\t}\r\n\t}, [keyword]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst listener = (ev: KeyboardEvent) => {\r\n\t\t\tif (!suggestions.length) return;\r\n\t\t\tswitch (ev.code) {\r\n\t\t\t\tcase \"ArrowUp\":\r\n\t\t\t\t\treturn setSelected(selected => {\r\n\t\t\t\t\t\t\tlet newSelected =\r\n\t\t\t\t\t\t\t\tselected ? Math.abs(--selected % suggestions.length) : suggestions.length - 1;\r\n\t\t\t\t\t\t\tinputRef.current!.value = suggestions[newSelected].title;\r\n\t\t\t\t\t\t\treturn newSelected;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\tcase \"ArrowDown\":\r\n\t\t\t\t\treturn setSelected(selected => {\r\n\t\t\t\t\t\t\tlet newSelected =\r\n\t\t\t\t\t\t\t\tselected !== null ? Math.abs(++selected % suggestions.length) : 0;\r\n\t\t\t\t\t\t\tinputRef.current!.value = suggestions[newSelected].title;\r\n\t\t\t\t\t\t\treturn newSelected;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\tdefault: break;\r\n\t\t\t}\r\n\t\t};\r\n\t\twindow.addEventListener(\"keydown\", listener);\r\n\t\treturn () => window.removeEventListener(\"keydown\", listener);\r\n\t}, [inputRef, suggestions]);\r\n\r\n\r\n\tconst handleClickSubmit = (title: string) => {\r\n\t\tinputRef.current!.value = title;\r\n\t\tonSubmit()\r\n\t};\r\n\r\n\r\n    return visible && suggestions.length ? (\r\n        <ul className={styles.suggestionsDropdown}\r\n            onMouseLeave={() => setSelected(null)}\r\n        >\r\n\t        {suggestions.map(({id, title}, index) => (\r\n\t\t        // eslint-disable-next-line jsx-a11y/role-supports-aria-props\r\n\t        \t<li key={id} aria-selected={(index === selected)}\r\n\t\t            onMouseEnter={() => setSelected(index)}\r\n\t\t            onClick={handleClickSubmit.bind(null, title)}\r\n\t\t        >{title}</li>\r\n\t        ))}\r\n        </ul>\r\n    ) : null;\r\n};\r\n\r\n\r\nexport default SearchBarSuggestions;","import SearchBar from \"./search-bar.component\";\r\n\r\nexport default SearchBar;","import React, { FC, FormEvent, useCallback, useEffect, useLayoutEffect, useRef, useState } from \"react\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport styles from \"./search-bar.module.scss\";\r\nimport useSearchParam from \"hooks/useSearchParam\";\r\nimport SearchBarSuggestions from \"./search-bar-suggestions.component\";\r\n\r\n\r\ninterface OwnProps {\r\n    className?: string,\r\n}\r\n\r\nconst SearchBar: FC<OwnProps> = ({ className }) => {\r\n    const isMounted = useRef(false);\r\n    const inputRef = useRef<HTMLInputElement>(null);\r\n\r\n    const [error, setError] = useState(\"\");\r\n\r\n    const [searchParam = '', setSearchParam] = useSearchParam(\"s\", newValue => {\r\n        !newValue && setInputTxt('')\r\n    });\r\n\r\n    const [inputTxt, setInputTxt] = useState(searchParam);\r\n    const [keyWord, setKeyWord] = useState('');\r\n\r\n    const [isFocus, setFocus] = useState(false);\r\n\r\n    const setFocusOn = useCallback(() => isMounted.current && setFocus(() => {\r\n        setTimeout(() => {\r\n            inputRef.current?.focus();\r\n            inputRef.current?.select();\r\n        }, 200);\r\n        return true;\r\n    }), []);\r\n\r\n    const setFocusOff = useCallback(() => isMounted.current && setFocus(() => {\r\n        inputRef.current?.blur();\r\n        setError(\"\");\r\n        return false;\r\n    }), []);\r\n\r\n\r\n    function onSubmit (e?: FormEvent<HTMLFormElement>) {\r\n        e?.preventDefault();\r\n        let searchTerm = inputRef.current?.value || '';\r\n\r\n        if (!searchTerm)\r\n            return setError(\"Search can't be empty.\");\r\n\r\n        if (searchParam !== searchTerm) {\r\n            setFocusOff();\r\n            error && setError(\"\");\r\n            setTimeout(() => setSearchParam(searchTerm, [\"page\", 1]), 150);\r\n        } else {\r\n            setError(\"Search results already showing.\");\r\n        }\r\n\r\n        setInputTxt(searchTerm);\r\n        setKeyWord('');\r\n    }\r\n\r\n    useEffect(() => {\r\n        isMounted.current = true;\r\n        const listener = (e: KeyboardEvent) => {\r\n            switch (e.code) {\r\n                case \"Slash\":\r\n                    document.activeElement !== inputRef.current && setTimeout(setFocusOn ,50);\r\n                    break;\r\n                case \"Escape\": setFocusOff();\r\n                    break;\r\n                default: break;\r\n            }\r\n        };\r\n        window.addEventListener(\"keydown\", listener);\r\n        return () => {\r\n            isMounted.current = false;\r\n            window.removeEventListener(\"keydown\", listener);\r\n        }\r\n    }, [setFocusOff, setFocusOn]);\r\n\r\n    useLayoutEffect(() => {\r\n        setFocus(!searchParam);\r\n    }, [searchParam]);\r\n\r\n\r\n    return (\r\n        <div className={`${styles.root} ${className || ''}`} is-focused={`${isFocus}`}>\r\n            <form autoComplete=\"off\" onSubmit={onSubmit}>\r\n                <TextField\r\n                    className={styles.bar}\r\n                    label=\"Movie Search\"\r\n                    error={!!error}\r\n                    helperText={error}\r\n                    onBlur={() => {\r\n                        if (!searchParam || keyWord) return;\r\n                        setFocusOff();\r\n                    }}\r\n                    inputRef={inputRef}\r\n                    name={\"searchTerm\"}\r\n                    value={inputTxt}\r\n                    onChange={({target}) => {\r\n                        setInputTxt(target.value);\r\n                        setKeyWord(target.value);\r\n                    }}\r\n                    onFocus={setFocusOn}\r\n                    inputProps={{\r\n                        id: \"movies-browser-bar-input\",\r\n                        onClick: event => event.preventDefault(),\r\n                        onKeyDown: (e) => (e.key === \"ArrowUp\" || e.key === \"ArrowDown\") && e.preventDefault()\r\n                    }}\r\n                />\r\n            </form>\r\n            {!!keyWord && isFocus &&\r\n                <SearchBarSuggestions\r\n                    keyword={keyWord}\r\n                    onSubmit={onSubmit}\r\n                    inputRef={inputRef}\r\n                />\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default React.memo(SearchBar);\r\n","import PaginationControls from \"./pagination-controls.component\";\r\n\r\nexport default PaginationControls;","import React, { FC, memo, useCallback, useEffect } from \"react\";\r\nimport MobileStepper from \"@material-ui/core/MobileStepper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport KeyboardArrowLeft from \"@material-ui/icons/KeyboardArrowLeft\";\r\nimport KeyboardArrowRight from \"@material-ui/icons/KeyboardArrowRight\";\r\nimport styles from \"./pagination-controls.module.scss\";\r\nimport useSearchParam from \"hooks/useSearchParam\";\r\nimport { scrollToTop } from \"utility\";\r\nimport useIsMobile from \"hooks/useIsMobile\";\r\n\r\ninterface OwnProps {\r\n    className?: string,\r\n    totalPages: number,\r\n}\r\n\r\ntype Props = OwnProps\r\n\r\nconst PaginationControls: FC<Props> = ({className, totalPages}) => {\r\n    const isMobile = useIsMobile();\r\n    const [currentPage = 0, setCurrentPage] = useSearchParam(\"page\");\r\n    const [movieIdParam] = useSearchParam(\"movieId\");\r\n\r\n    const goToNextPage = useCallback(() => setCurrentPage(page => {\r\n        if (page && page < totalPages) {\r\n            isMobile && scrollToTop();\r\n            return page + 1;\r\n        }\r\n        return page || 0;\r\n    }), [isMobile, setCurrentPage, totalPages]);\r\n\r\n    const goToPreviousPage = useCallback(() => setCurrentPage(page => {\r\n        if (page && page > 1) {\r\n            isMobile && scrollToTop();\r\n            return page - 1;\r\n        }\r\n        return page || 0;\r\n    }), [isMobile, setCurrentPage]);\r\n\r\n    useEffect(() => {\r\n        const keydownListener = ({code, altKey, ctrlKey, shiftKey}: KeyboardEvent) => {\r\n            if (altKey || ctrlKey || shiftKey) return ;\r\n            if (document.activeElement?.id === \"movies-browser-bar-input\") return;\r\n            if (totalPages)\r\n                switch (code) {\r\n                    case \"ArrowRight\": return goToNextPage();\r\n                    case \"ArrowLeft\":  return goToPreviousPage();\r\n                    default: break;\r\n                }\r\n        };\r\n        if (!movieIdParam) // Only add listener of there is no movie being viewed.\r\n            window.addEventListener(\"keydown\", keydownListener);\r\n\r\n        return () => window.removeEventListener(\"keydown\", keydownListener)\r\n    }, [totalPages, currentPage, movieIdParam, goToNextPage, goToPreviousPage]);\r\n\r\n\r\n    return totalPages ? (\r\n        <MobileStepper\r\n            className={`${styles.root} ${className || ''}`}\r\n            position={\"static\"}\r\n            variant=\"text\"\r\n            steps={totalPages}\r\n            activeStep={currentPage && (currentPage - 1)}\r\n            nextButton={\r\n                <Button\r\n                    size=\"small\"\r\n                    onClick={goToNextPage}\r\n                    disabled={currentPage >= totalPages}\r\n                >\r\n                    Next <KeyboardArrowRight/>\r\n                </Button>\r\n            }\r\n            backButton={\r\n                <Button\r\n                    size=\"small\"\r\n                    onClick={goToPreviousPage}\r\n                    disabled={currentPage <= 1}\r\n                >\r\n                    <KeyboardArrowLeft/> Back\r\n                </Button>\r\n            }\r\n        />\r\n    ) : null\r\n};\r\n\r\nexport default memo(PaginationControls);\r\n","import LoadingSpinner from \"./loading-spinner.component\";\r\n\r\nexport default LoadingSpinner;","import React, { FC, useEffect, useState } from \"react\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport styles from \"./loading-spinner.module.scss\";\r\nimport useIsMobile from \"hooks/useIsMobile\";\r\n\r\n\r\ninterface OwnProps {\r\n    className?: string;\r\n    darken?: boolean;\r\n    delay?: number;\r\n    fixed?: boolean;\r\n}\r\n\r\n\r\nconst LoadingSpinner: FC<OwnProps> = ({className, darken = false, delay = 0, fixed = false, ...rest}) => {\r\n    const [visible, setVisible] = useState(delay === 0);\r\n\r\n    const isMobile = useIsMobile();\r\n\r\n    useEffect(() => {\r\n        let mounted = true;\r\n        if (!visible)\r\n            setTimeout(() => mounted && setVisible(true), delay);\r\n        return () => { mounted = false };\r\n    }, [delay, visible]);\r\n\r\n    return (\r\n        <div\r\n            className={`${styles.root} ${className || ''} ${darken ? styles.darken : ''}`} {...rest}\r\n            style={{opacity: visible ? 1 : 0, position: fixed ? \"fixed\" : \"absolute\"}}\r\n        >\r\n            <CircularProgress\r\n                size={\"15\" + (isMobile ? \"vw\" : \"vh\")}/>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default LoadingSpinner;","import React, { FC } from \"react\";\r\nimport styles from \"./movie-results-container.module.scss\";\r\nimport { animated, useTransition, UseTransitionProps } from \"react-spring\";\r\nimport usePrevious from \"hooks/usePrevious\";\r\nimport appProperties from \"../../appProperties\";\r\n\r\nlet { searchPageTransitionConfig } = appProperties;\r\n\r\ninterface Props {\r\n    page: number;\r\n    children: (page: number) => JSX.Element | JSX.Element[] | null\r\n}\r\nconst MovieItemsContainer: FC<Props> = ({page, children}) => {\r\n\r\n    const prevPage = usePrevious(page);\r\n    const isNextSlide = !prevPage || prevPage < page;\r\n    const transition = useTransition(page, page, getTransitionConfig(isNextSlide));\r\n\r\n    return (\r\n        <>\r\n            {transition.map(({key, props, item: page}) => page ?\r\n                <animated.div key={key} className={`${styles.root} transition-page`}\r\n                              style={{\r\n                                  ...props,\r\n                                  transform: props.translateX.interpolate(v =>\r\n                                      v ? `translateX(${v}%)`: ''\r\n                                  )\r\n                              }}\r\n                >\r\n                    {children(page)}\r\n                </animated.div> : null\r\n            )}\r\n        </>\r\n    )\r\n};\r\n\r\nfunction getTransitionConfig(isNextSlide: boolean): UseTransitionProps<number> {\r\n    let xOffset = 8;\r\n    return {\r\n        initial: {\r\n            opacity: 0,\r\n            translateX: 0,\r\n        },\r\n        from: {\r\n            opacity: -.2,\r\n            translateX: xOffset * (isNextSlide ? 1 : -1)\r\n        },\r\n        enter: {\r\n            opacity: 1,\r\n            translateX: 0\r\n        },\r\n        leave: {\r\n            opacity: -.2,\r\n            translateX: xOffset * (isNextSlide ? -1 : 1)\r\n        },\r\n        config: searchPageTransitionConfig,\r\n        unique: true,\r\n    };\r\n}\r\n\r\nexport default MovieItemsContainer;\r\n","import MovieResultsContainer from \"./movie-results-container.component\";\r\n\r\nexport default MovieResultsContainer;","import ErrorMessage from \"./error-message.component\";\r\n\r\nexport default ErrorMessage;","import React, { FC } from \"react\";\r\nimport IMoviesSearchError from \"../../interfaces/app-types/IMoviesSearchError\";\r\nimport styles from \"./error-message.module.scss\";\r\n\r\n\r\ninterface OwnProps {\r\n    error: IMoviesSearchError,\r\n    className?: string\r\n}\r\n\r\ntype Props = OwnProps;\r\n\r\nconst ErrorMessage: FC<Props> = ({className, error}) => {\r\n    return (\r\n        <div className={`${className ? className : ''} ${styles.root}`}>\r\n            <div className={styles.title}>- Search error -</div>\r\n            {error.errors.map((message, index) =>\r\n                <div key={index}>\"{message}\"</div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nexport default ErrorMessage;","import TotalSearchResults from \"./total-search-results.component\";\r\n\r\nexport default TotalSearchResults;","import React, { FC } from \"react\";\r\nimport styles from \"./total-search-results.module.scss\";\r\nimport { formatToUSD } from \"utility\";\r\n\r\ninterface OwnProps {\r\n    totalResults: number\r\n}\r\n\r\nconst TotalSearchResults: FC<OwnProps> = ({totalResults}) => (\r\n    <div className={styles.root}>\r\n        Found: {formatToUSD(totalResults)}{totalResults === 10_000 && \"+\"}\r\n    </div>\r\n);\r\n\r\nexport default TotalSearchResults;","import { useLayoutEffect } from \"react\";\r\nimport { getHashPath, getHashQuery } from \"utility\";\r\n\r\nfunction onHashChange(e: HashChangeEvent) {\r\n\tconst pathURL = e.newURL.split(\"#\")[1];\r\n\tconst [locationPath, searchQuery = ''] = pathURL.split(\"?\");\r\n\tsessionStorage.setItem(locationPath, searchQuery);\r\n}\r\n\r\nfunction useSavedSessionParams() {\r\n\tuseLayoutEffect(() => {\r\n\t\tconst hashPath = getHashPath();\r\n\t\tconst savedPathParams = sessionStorage.getItem(hashPath);\r\n\r\n\t\tif (savedPathParams && !getHashQuery())\r\n\t\t\twindow.location.hash = hashPath + \"?\" + savedPathParams;\r\n\r\n\t\twindow.addEventListener(\"hashchange\", onHashChange);\r\n\t\treturn () => window.removeEventListener(\"hashchange\", onHashChange)\r\n\t}, [])\r\n}\r\n\r\nexport default useSavedSessionParams;","import { getMovieImgObjFromSession } from \"utility\";\r\nimport { useLayoutEffect, useRef, useState } from \"react\";\r\nimport ImageDataEvent from \"../utility/custom-events/ImageDataEvent\";\r\nimport IMovieImgSessionObj from \"../interfaces/app-types/IMovieImgSessionObj\";\r\n\r\n\r\nexport function useSessionAvgColor(movieId: number) {\r\n    const idRef = useRef(movieId);\r\n    const [imgData, setImgData] = useState<IMovieImgSessionObj | undefined>();\r\n\r\n    useLayoutEffect(() => {\r\n        const imgObj = getMovieImgObjFromSession(idRef.current);\r\n        function onColorReadyListener({detail: { movieId: movieIdSaved, imgData }}: ImageDataEvent) {\r\n            if (movieIdSaved === idRef.current) {\r\n                setImgData(imgData);\r\n                window.removeEventListener(\"imageData\", onColorReadyListener);\r\n            }\r\n        }\r\n        if (!imgObj) window.addEventListener(\"imageData\", onColorReadyListener);\r\n        else setImgData(imgObj);\r\n        return () => window.removeEventListener(\"imageData\", onColorReadyListener);\r\n    }, []);\r\n\r\n\r\n    return imgData;\r\n}\r\n\r\n","import { useEffect, useRef, useState } from \"react\";\r\nimport MovieViewEvent, { MovieViewEventState } from \"../utility/custom-events/MovieViewEvent\";\r\nimport capitalize from \"@material-ui/core/utils/capitalize\";\r\n\r\n\r\ninterface OnMovieViewConfig<T> {\r\n\tonEnter?:  T | (() => T);\r\n\tonUpdate?: T | (() => T);\r\n\tonView?:   T | (() => T);\r\n\tonClose?:  T | (() => T);\r\n\tonLeave?:  T | (() => T);\r\n}\r\n\r\ntype HookState<T> = [T, MovieViewEventState | \"initial\"]\r\n\r\nfunction useOnMovieView<T>(id: number, initial: T, config: OnMovieViewConfig<T>): HookState<T> {\r\n\tconst idRef = useRef(id);\r\n\tconst configRef = useRef(config);\r\n\r\n\tconst [props, setProps] = useState<HookState<T>>([initial, \"initial\"]);\r\n\r\n\r\n\tuseEffect(() => {idRef.current = id}, [id]);\r\n\tuseEffect(() => {configRef.current = config}, [config]);\r\n\r\n\r\n\tuseEffect(() => {\r\n\t\tlet mounted = true;\r\n\r\n\t\tfunction onEvent({detail:{state, movieId}}: MovieViewEvent) {\r\n\t\t\tif (movieId !== idRef.current) return;\r\n\r\n\t\t\tconst configPropName = `on${capitalize(state)}` as keyof OnMovieViewConfig<T>;\r\n\r\n\t\t\tif (configPropName in configRef.current) {\r\n\r\n\t\t\t\tlet configProp = configRef.current[configPropName]!;\r\n\t\t\t\t// @ts-ignore (because the truthy ternary expression is indeed callable)\r\n\t\t\t\tlet newStateProps = typeof configProp === \"function\" ? configProp() : configProp;\r\n\r\n\t\t\t\tmounted && setProps([newStateProps, state]);\r\n\t\t\t}\r\n\t\t}\r\n\t\twindow.addEventListener(\"movieView\", onEvent);\r\n\t\treturn () => {\r\n\t\t\tmounted = false;\r\n\t\t\twindow.removeEventListener(\"movieView\", onEvent);\r\n\t\t}\r\n\t}, []);\r\n\r\n\treturn props;\r\n}\r\n\r\nexport default useOnMovieView;","import React, { FC, useEffect, useState } from \"react\";\r\nimport styles from \"./movie-item-img-bg.module.scss\";\r\nimport { animated, useSpring } from \"react-spring\";\r\nimport { easeOutCubic } from \"../../utility/easingFuctions\";\r\nimport { useSessionAvgColor } from \"hooks/useSessionAvgColor\";\r\nimport useOnMovieView from \"hooks/useOnMovieView\";\r\nimport useIsMobile from \"hooks/useIsMobile\";\r\n\r\n\r\ninterface OwnProps {\r\n    movieId: number,\r\n    itemView?: boolean,\r\n    className?: string,\r\n}\r\n\r\ntype Props = OwnProps;\r\n\r\n\r\nconst MovieItemImgBg: FC<Props> = ({className, movieId, itemView = false}) => {\r\n    const isMobile = useIsMobile();\r\n\r\n    const [isRevealed, setRevealed] = useState<boolean>(itemView);\r\n\r\n    const opacityReveal = isRevealed ? .4 : 0;\r\n\r\n    useEffect(() => {\r\n        let mounted = true;\r\n        if (!itemView) { // reveal\r\n            setTimeout(() => {\r\n                mounted && setRevealed(true)\r\n            }, 450);\r\n        }\r\n        return () => { mounted = false };\r\n    }, [itemView]);\r\n\r\n    const [opacityOnMovView, eventState] = useOnMovieView(movieId, opacityReveal, {\r\n        ...(itemView ? {\r\n            onEnter: 0,\r\n            onClose: opacityReveal\r\n        } : {})\r\n    });\r\n\r\n    let props = useSpring({\r\n        opacity: itemView ? opacityOnMovView : opacityReveal,\r\n        config: {\r\n            duration: eventState === \"close\" ? 450 : 2100,\r\n            easing: eventState === \"close\" ? undefined : easeOutCubic\r\n        }\r\n    });\r\n\r\n    let imgSrc = '';\r\n\r\n    let movieImgDataObj = useSessionAvgColor(movieId);\r\n\r\n    if (!!movieImgDataObj?.jpgData && !isMobile)\r\n        imgSrc = movieImgDataObj.jpgData;\r\n\r\n    return (\r\n        <animated.img src={imgSrc} className={`${styles.root} ${className || ''}`}\r\n            alt={''} crossOrigin={\"anonymous\"} item-view={String(itemView)} style={{\r\n                imageRendering: \"pixelated\",\r\n                display: !!movieImgDataObj ? \"block\" : \"none\",\r\n                backgroundColor: movieImgDataObj?.averageColor,\r\n                ...props\r\n            }}\r\n        />\r\n    );\r\n};\r\n\r\nMovieItemImgBg.defaultProps = {\r\n    itemView: false\r\n};\r\n\r\n\r\nexport default React.memo(MovieItemImgBg);","import MovieItemImgBg from \"./movie-item-img-bg.component\";\r\n\r\nexport default MovieItemImgBg;","import React, { CSSProperties, FC, RefObject, useEffect, useRef } from \"react\";\r\nimport styles from \"./circled-progress-bar.module.scss\";\r\nimport { hslInterval, hslToHex } from \"utility\";\r\nimport { animated, useSpring } from \"react-spring\";\r\nimport { easeOutQuad } from \"../../utility/easingFuctions\";\r\nimport useIsMobile from \"hooks/useIsMobile\";\r\n\r\ninterface OwnProps {\r\n    score: number;\r\n    itemView: boolean;\r\n    className?: string;\r\n}\r\n\r\ntype Props = OwnProps;\r\n\r\nconst viewBoxSize = 60;\r\nconst strokeWidth = viewBoxSize / 15;\r\nconst circleRadius = viewBoxSize / 2 - strokeWidth;\r\nconst circleCircumference = circleRadius * 2 * Math.PI;\r\n\r\n// (min & max) colors MUST be in hsl\r\nconst minScoreColor: [number, number, number] = [1, 81, 40];\r\nconst maxScoreColor: [number, number, number] = [117, 88, 67];\r\nconst backFill = \"rgba(0, 0, 0, .25)\";\r\nconst backStroke = \"#5d5d5d\";\r\n\r\nconst RatingProgressBar: FC<Props> = ({score, itemView = false, className, ...rest}) => {\r\n    const rootRef: RefObject<HTMLDivElement> = useRef(null);\r\n    const progressMultiplier = score / 10;\r\n\r\n    const isMobile = useIsMobile();\r\n\r\n    const progressColor = hslInterval(\r\n        minScoreColor,\r\n        maxScoreColor,\r\n        progressMultiplier\r\n    );\r\n\r\n    const progressValue = circleCircumference * progressMultiplier;\r\n    const strokeDashOffsetVal = circleCircumference - progressValue;\r\n\r\n    const [props, set] = useSpring(() => ({\r\n        stroke: hslToHex(!itemView ? minScoreColor : progressColor),\r\n        strokeDashoffset: !itemView ? circleCircumference : strokeDashOffsetVal,\r\n        config: {\r\n            duration: 3000 * progressMultiplier,\r\n            easing: easeOutQuad\r\n        },\r\n    }));\r\n\r\n    useEffect(onComponentMount, []);\r\n\r\n    const style: CSSProperties = {\r\n        visibility: !itemView ? \"hidden\" : undefined,\r\n        opacity: !itemView ? 0 : 1\r\n    };\r\n\r\n    return (\r\n            <div className={`${styles.root} ${className ? className : ''}`} {...rest} style={style} ref={rootRef}>\r\n                <svg height=\"100%\" width={viewBoxSize} viewBox={`0 0 ${viewBoxSize} ${viewBoxSize}`}\r\n                     overflow={\"visible\"}>\r\n                    <circle\r\n                        cx={viewBoxSize / 2}\r\n                        cy={viewBoxSize / 2}\r\n                        r={circleRadius}\r\n                        fill={backFill}\r\n                        stroke={backStroke}\r\n                        strokeWidth={strokeWidth}\r\n                        style={{zIndex: -1}}\r\n                    />\r\n                    <animated.circle\r\n                        style={!isMobile ? props : undefined}\r\n                        cx={viewBoxSize / 2}\r\n                        cy={viewBoxSize / 2}\r\n                        r={circleRadius}\r\n                        stroke={hslToHex(progressColor)}\r\n                        fill={\"none\"}\r\n                        strokeDasharray={circleCircumference}\r\n                        strokeLinecap={\"round\"}\r\n                        strokeDashoffset={strokeDashOffsetVal.toString()}\r\n                        strokeWidth={strokeWidth}\r\n                        strokeMiterlimit={viewBoxSize / 10}\r\n                        transform={`rotate(-90 ${viewBoxSize / 2} ${viewBoxSize / 2})`}\r\n                    />\r\n                </svg>\r\n                <span className={styles.scoreValue}>{score ? score.toPrecision(2) : 'NR'}</span>\r\n            </div>\r\n    );\r\n\r\n    function onComponentMount() {\r\n        let ignore = false;\r\n        setTimeout(() => {\r\n            if (ignore) return;\r\n            if (!itemView) {\r\n                rootRef.current!.style.visibility = \"visible\";\r\n                rootRef.current!.style.opacity = \"1\";\r\n                animateProgress()\r\n            }\r\n        } ,400);\r\n        return () => void (ignore = true);\r\n    }\r\n\r\n    function animateProgress() {\r\n        set({\r\n            stroke: hslToHex(progressColor),\r\n            strokeDashoffset: strokeDashOffsetVal\r\n        });\r\n    }\r\n};\r\n\r\nexport default RatingProgressBar;\r\n","import CircledProgressBar from \"./circled-progress-bar.component\";\r\n\r\nexport default CircledProgressBar;","import { useLayoutEffect, useRef } from \"react\";\r\n\r\nfunction useLockBodyScroll(maxWidth?: number) {\r\n\tconst maxWidthRef = useRef(maxWidth);\r\n\tuseLayoutEffect(() => {\r\n\t\t// Get original body overflow\r\n\t\t// const originalBodyStyle = window.getComputedStyle(document.body).overflow;\r\n\t\tconst originalStyle = document.scrollingElement ?\r\n\t\t\twindow.getComputedStyle(document.scrollingElement).overflow : ''\r\n\t\t// Prevent scrolling on mount\r\n\t\tif (typeof maxWidthRef.current === \"undefined\" || window.innerWidth <= maxWidthRef.current) {\r\n\t\t\t// document.body.style.overflow = 'hidden';\r\n\t\t\tif (document.scrollingElement)\r\n\t\t\t\t(document.scrollingElement as HTMLElement).style.overflow = 'hidden';\r\n\t\t}\r\n\t\t// Re-enable scrolling on component unmount\r\n\t\treturn () => {\r\n\t\t\tif (document.scrollingElement)\r\n\t\t\t\t(document.scrollingElement as HTMLElement).style.overflow = originalStyle;\r\n\t\t}\r\n\t}, []); // Empty array ensures effect is only run on mount and unmount\r\n}\r\n\r\nexport default useLockBodyScroll;","import React, { FC, useState } from \"react\";\r\nimport Rating from \"@material-ui/lab/Rating\";\r\nimport styles from \"./movie-view-actions.module.scss\";\r\nimport useIsMobile from \"hooks/useIsMobile\";\r\nimport useLockBodyScroll from \"hooks/useLockBodyScroll\";\r\n\r\n\r\ninterface Props {\r\n    rateItem: (newValue: number | null) => void;\r\n    defaultValue?: number;\r\n    setRatingModal: (state: boolean) => void\r\n}\r\n\r\nconst valuesMap = {\r\n    0  : 0.0,\r\n    1  : 0.5,\r\n    2  : 1.0,\r\n    3  : 1.5,\r\n    4  : 2.0,\r\n    5  : 2.5,\r\n    6  : 3.0,\r\n    7  : 3.5,\r\n    8  : 4.0,\r\n    9  : 4.5,\r\n    10 : 5.0\r\n}\r\n\r\nconst RatingModal: FC<Props> = ({rateItem, defaultValue = 0, setRatingModal}) => {\r\n    const isMobile = useIsMobile();\r\n    const [value, setValue] = useState<number | null>(defaultValue/2);\r\n\r\n    useLockBodyScroll(600);\r\n\r\n    const unRate = () => {\r\n        if (isMobile)\r\n            setValue(null)\r\n        else rateItem(null);\r\n    }\r\n    const handleClickAway = (e: React.MouseEvent) => {\r\n        const screenYPercent = e.clientY / window.innerHeight;\r\n        if (screenYPercent < .55)\r\n            setRatingModal(false);\r\n    }\r\n    function onTouch(e: React.TouchEvent<HTMLSpanElement>) {\r\n        const {left, right} = e.currentTarget.getBoundingClientRect();\r\n        const maxPoint = right - left;\r\n        const touchPoint = e.targetTouches[0].clientX - left;\r\n        const pointPercent = Math.round((touchPoint / maxPoint)*100);\r\n        const resultPercent =\r\n            pointPercent > 0 ? (pointPercent <= 100 ? pointPercent : 100) : 0\r\n\r\n        const newValue = valuesMap[Math.round(resultPercent / 10) as keyof typeof valuesMap];\r\n        setValue(newValue);\r\n    }\r\n\r\n    return (\r\n        <div className={styles.ratingModalContainer} onClick={handleClickAway} >\r\n            <div className={styles.ratingModal}>\r\n                {!!defaultValue &&\r\n                <button onClick={unRate} title=\"remove rating\" className={styles.removeButton}>-</button>\r\n                }\r\n                <Rating\r\n                    name=\"movie-rating\"\r\n                    precision={0.5}\r\n                    value={value}\r\n                    onChange={(event, newValue) => {\r\n                        if (isMobile)\r\n                            return;\r\n                        else rateItem((newValue || 0) * 2);\r\n                    }}\r\n                    onTouchMove={onTouch}\r\n                    onTouchStart={onTouch}\r\n                    size={isMobile ? \"large\" : \"medium\"}\r\n                />\r\n                {isMobile && <button\r\n                    disabled={(defaultValue/2) === value}\r\n                    className={styles.mobileSubmit}\r\n                    onClick={() => {\r\n                        rateItem(value ? value*2 : value)\r\n                    }}\r\n                >{value === null ? \"Un-Rate\" : \"Rate\"}</button>\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nexport default RatingModal;","import React, { FC, useEffect, useState } from \"react\";\r\nimport useAuth from \"hooks/useAuth\";\r\nimport styles from \"./auth-page.module.scss\";\r\nimport TokenData from \"../../interfaces/app-types/TokenData\";\r\nimport { goFetch, isValidRequestToken } from \"utility\";\r\nimport appProperties from \"../../appProperties\";\r\n\r\nconst {newRequestTokenUrl} = appProperties;\r\n\r\nconst AuthPage: FC = ({children}) => {\r\n\tconst [requestToken, setRequestToken] = useState<string | null>(null);\r\n\tconst {isAuth, user, signOut, signIn} = useAuth();\r\n\r\n\r\n\tuseEffect(() => {\r\n\t\tlet ignore = false;\r\n\t\tconst localToken = getValidLocalToken();\r\n\r\n\t\tif (localToken)\r\n\t\t\tsetRequestToken(localToken);\r\n\r\n\t\telse goFetch<TokenData>(newRequestTokenUrl)\r\n\t\t\t\t.then(tokenData => {\r\n\t\t\t\t\tlocalStorage.setItem(\"token_data\", JSON.stringify(tokenData));\r\n\t\t\t\t\t!ignore && setRequestToken(tokenData.request_token);\r\n\t\t\t\t});\r\n\r\n\t\treturn () => void (ignore = true)\r\n\t}, []);\r\n\r\n\r\n\tconst handleLogin = () => {\r\n\t\tif (!requestToken) return;\r\n\t\tsignIn(requestToken);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={styles.root}>\r\n\t\t\t{isAuth ? (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<div className={styles.userField}>\r\n\t\t\t\t\t\t<span>Username:</span>\r\n\t\t\t\t\t\t<span>{user!.username}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={styles.userField}>\r\n\t\t\t\t\t\t<span>Name:</span>\r\n\t\t\t\t\t\t<span>{user!.name || '-- '}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</>\r\n\t\t\t) : (\r\n\t\t\t\t<div className={styles.userField}>\r\n\t\t\t\t\t<p>No user logged in</p>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t{isAuth ? (\r\n\t\t\t\t<button onClick={signOut}>Log out</button>\r\n\t\t\t) : (\r\n\t\t\t\t<button disabled={!requestToken} onClick={handleLogin}>Log in</button>\r\n\t\t\t)}\r\n\t\t\t{children}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nfunction getValidLocalToken(): string | null {\r\n\tconst localToken = localStorage.getItem(\"token_data\");\r\n\tif (localToken) {\r\n\t\tconst tokenResponse = JSON.parse(localToken) as TokenData;\r\n\t\treturn isValidRequestToken(tokenResponse) ? tokenResponse.request_token : null;\r\n\t} else return null;\r\n}\r\n\r\nexport default AuthPage;","import AuthPage from \"./auth-page.component\";\r\n\r\nexport default AuthPage;","import React, { FC, useEffect, useReducer, useRef, useState } from \"react\";\r\nimport styles from \"./movie-view-actions.module.scss\";\r\nimport { Tooltip } from \"@material-ui/core\";\r\nimport IMovieUserState, { Rated } from \"../../interfaces/app-types/IMovieUserState\";\r\nimport useAuth from \"hooks/useAuth\";\r\nimport { goFetch } from \"utility\";\r\nimport appProperties from \"../../appProperties\";\r\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\r\nimport BookmarkIcon from \"@material-ui/icons/Bookmark\";\r\nimport GradeIcon from \"@material-ui/icons/Grade\";\r\nimport RatingModal from \"./rating-modal.component\";\r\nimport AuthPage from \"pages/auth-page\";\r\nimport store from \"store\";\r\nimport IMovieResultItem from \"../../interfaces/app-types/IMovieResultItem\";\r\nimport getMoviesBrowserActions from \"../../store/movies-browser/movies-browser.actions\";\r\nimport { AccountItemsNames } from \"../../store/movies-browser\";\r\n\r\nconst {buildFetchMovieViewUrl, itemActions} = appProperties;\r\n\r\ninterface Props {\r\n    item: IMovieResultItem,\r\n    className?: string;\r\n}\r\ntype State = IMovieUserState & {isLoading: Array<keyof IMovieUserState>}\r\n\r\ntype ReducerActions =\r\n    | { type: 'set-account-state', payload: IMovieUserState }\r\n    | { type: 'update-favorite',   payload: boolean }\r\n    | { type: 'update-watchlist',  payload: boolean }\r\n    | { type: 'update-rated',      payload: boolean | Rated }\r\n    | { type: 'set-is-loading',    payload: Array<keyof IMovieUserState> }\r\n    | { type: 'clear-loading' };\r\n\r\nfunction reducer(state: State, action: ReducerActions): State {\r\n    switch (action.type) {\r\n        case \"set-account-state\":\r\n            return {\r\n                ...action.payload,\r\n                isLoading: []\r\n            }\r\n        case \"update-favorite\":\r\n            return {\r\n                ...state,\r\n                favorite: action.payload,\r\n                isLoading: state.isLoading.filter(value => value !== \"favorite\")\r\n            }\r\n        case \"update-watchlist\":\r\n            return {\r\n                ...state,\r\n                watchlist: action.payload,\r\n                isLoading: state.isLoading.filter(value => value !== \"watchlist\")\r\n            }\r\n        case \"update-rated\":\r\n            return {\r\n                ...state,\r\n                rated: action.payload,\r\n                isLoading: state.isLoading.filter(value => value !== \"rated\")\r\n            }\r\n        case \"set-is-loading\":\r\n            return {\r\n                ...state,\r\n                isLoading: [...new Set(\r\n                    [...state.isLoading, ...action.payload]\r\n                )]\r\n            }\r\n        case \"clear-loading\":\r\n            return {\r\n                ...state,\r\n                isLoading: []\r\n            }\r\n        default: return state;\r\n    }\r\n}\r\n\r\nconst initial_state: State = {\r\n    rated: false,\r\n    watchlist: false,\r\n    favorite: false,\r\n    isLoading: [],\r\n    id: 0\r\n}\r\nconst favoriteActions =  getMoviesBrowserActions(\"favorite\");\r\nconst watchlistActions =  getMoviesBrowserActions(\"watchlist\");\r\n\r\n\r\nconst MovieViewActionButtons: FC<Props> = ({item, className}) => {\r\n    const {id: movieId} = item;\r\n    const isMounted = useRef(false);\r\n\r\n    useEffect(() => {\r\n        isMounted.current = true;\r\n        return () => { isMounted.current = false }\r\n    }, []);\r\n\r\n    const [ratingModal, setRatingModal] = useState(false);\r\n    const [showLogin, setShowLogin] = useState(false);\r\n\r\n\r\n    const [state, dispatch] = useReducer(reducer, initial_state);\r\n    const setLoading = (actionName: keyof IMovieUserState) => dispatch({type: 'set-is-loading', payload: [actionName]});\r\n\r\n    const auth = useAuth();\r\n    const ratedValue = typeof state.rated === \"object\" ? state.rated.value : undefined;\r\n\r\n    const ignoreActions = !auth.isAuth || !state.id;\r\n\r\n    useEffect(() => {\r\n        let ignore = false;\r\n        if (auth.isAuth && !state.id) {\r\n            dispatch({type: 'set-is-loading', payload: ['id']});\r\n            goFetch<IMovieUserState>\r\n            (`${buildFetchMovieViewUrl(movieId, \"/account_states\")}&session_id=${localStorage.getItem(\"session_id\")}`)\r\n                .then(data => {\r\n                    !ignore && dispatch({type: 'set-account-state', payload: data});\r\n                });\r\n        }\r\n\r\n        return () => void (ignore = true)\r\n    }, [state.id, auth.isAuth, movieId]);\r\n\r\n    const markFavorite = () => {\r\n        if (ignoreActions) return !auth.isAuth && setShowLogin(true);\r\n        let newFavValue = !state.favorite;\r\n\r\n        if (checkAllowToRemove(newFavValue, \"favorite\")) {\r\n            setLoading('favorite');\r\n            itemActions.favorite(newFavValue, movieId)\r\n                .then(() => {\r\n                    if (newFavValue)\r\n                        store.dispatch(favoriteActions.unshiftToFavorites(item));\r\n                    else store.dispatch(favoriteActions.removeFromListItems(movieId));\r\n\r\n                    isMounted.current && dispatch({\r\n                        type: 'update-favorite', payload: newFavValue\r\n                    });\r\n                })\r\n                .catch(e => {\r\n                    console.error(e);\r\n                    alert(\"Error: could not mark to item-list :(\");\r\n                    isMounted.current && dispatch({type: 'clear-loading'});\r\n                });\r\n        }\r\n    }\r\n\r\n    const markWatchlist = () => {\r\n        if (ignoreActions) return !auth.isAuth && setShowLogin(true);\r\n        let newVal = !state.watchlist;\r\n\r\n        if (checkAllowToRemove(newVal, \"watchlist\")) {\r\n            setLoading('watchlist');\r\n            itemActions.watchlist(newVal, movieId)\r\n                .then(() => {\r\n                    if (newVal)\r\n                        store.dispatch(watchlistActions.unshiftToFavorites(item));\r\n                    else store.dispatch(watchlistActions.removeFromListItems(movieId));\r\n                    isMounted.current && dispatch({\r\n                        type: 'update-watchlist', payload: newVal\r\n                    });\r\n                })\r\n                .catch(e => {\r\n                    console.error(e);\r\n                    alert(\"Error: could not update watchlist :(\");\r\n                    isMounted.current && dispatch({type: 'clear-loading'});\r\n                });\r\n        }\r\n    }\r\n\r\n    const rateItem = (newVal: number | null) => {\r\n        if (ignoreActions) return setRatingModal(false);\r\n        if ((typeof state.rated === \"object\" && newVal === state.rated.value)\r\n            || (newVal === null && state.rated === false)\r\n        )\r\n            return setRatingModal(false);\r\n\r\n        setLoading(\"rated\");\r\n        setRatingModal(false);\r\n        if (newVal)\r\n            itemActions.rate(newVal, movieId)\r\n                .then(() => {\r\n                    isMounted.current && dispatch({\r\n                        type: 'update-rated', payload: {value: newVal}\r\n                    });\r\n                })\r\n                .catch(e => {\r\n                    console.error(e);\r\n                    alert(\"Error: could not update rating :(\")\r\n                    isMounted.current && dispatch({type: 'clear-loading'});\r\n                })\r\n        else itemActions.unRate(movieId)\r\n            .then(() => {\r\n                isMounted.current && dispatch({\r\n                    type: 'update-rated', payload: false\r\n                });\r\n            })\r\n            .catch(e => {\r\n                console.error(e);\r\n                alert(\"Error: could not update rating :(\")\r\n                isMounted.current && dispatch({type: 'clear-loading'});\r\n            })\r\n    }\r\n\r\n    return (\r\n        <ul className={`${styles.root} ${className || ''}`}>\r\n            <Tooltip key={\"favorite\"}\r\n                     title={(!state.favorite ? \"Mark as\" : \"Remove from\") + \" Favorite\"}\r\n                     enterDelay={300}\r\n                     PopperProps={{className: styles.toolTip}}>\r\n                <div className={styles.iconWrapper}\r\n                     active-icon={String(state.favorite)}\r\n                     action-name={\"favorite\"}\r\n                     is-loading={String(state.isLoading.includes(\"favorite\"))}\r\n                     onClick={markFavorite}\r\n                >\r\n                    <FavoriteIcon className={styles.icon} />\r\n                </div>\r\n            </Tooltip>\r\n            <Tooltip key={\"watchlist\"}\r\n                     title={(!state.watchlist ? \"Add to\" : \"Remove from\") + \" Watchlist\"}\r\n                     enterDelay={300}\r\n                     PopperProps={{className: styles.toolTip}}>\r\n                <div className={styles.iconWrapper}\r\n                     active-icon={String(state.watchlist)}\r\n                     action-name={\"watchlist\"}\r\n                     is-loading={String(state.isLoading.includes(\"watchlist\"))}\r\n                     onClick={markWatchlist}\r\n                >\r\n                    <BookmarkIcon className={styles.icon} />\r\n                </div>\r\n            </Tooltip>\r\n            <Tooltip key={\"rated\"}\r\n                     title={\"Rate it!\"}\r\n                     enterDelay={300}\r\n                     PopperProps={{className: styles.toolTip}}>\r\n                <div className={styles.iconWrapper}\r\n                     active-icon={String(!!state.rated)}\r\n                     action-name={\"rated\"}\r\n                     is-loading={String(state.isLoading.includes(\"rated\"))}\r\n                     onClick={() => {\r\n                         if (!auth.isAuth) return setShowLogin(true);\r\n                         setRatingModal(prev => !prev)\r\n                     }}\r\n                     {...(!!state.rated ?\r\n                         {\"icon-score\": (state.rated as Rated).value} : {})}\r\n                >\r\n                    <GradeIcon className={styles.icon} />\r\n                </div>\r\n            </Tooltip>\r\n            {ratingModal && <RatingModal setRatingModal={setRatingModal} rateItem={rateItem} defaultValue={ratedValue}/>}\r\n            {showLogin && (\r\n                <div className={styles.showAuth} onClick={e => {\r\n                    if (e.target === e.currentTarget) setShowLogin(false)\r\n                }}>\r\n                    <AuthPage>\r\n                        <button className={styles.xButton}\r\n                                onClick={() => setShowLogin(false)}\r\n                        >&#10005;</button>\r\n                    </AuthPage>\r\n                </div>\r\n            )}\r\n        </ul>\r\n    );\r\n};\r\n\r\nfunction checkAllowToRemove(newValue: boolean, itemName: AccountItemsNames): boolean {\r\n    if (newValue) return true;\r\n    else return window.confirm(`Remove item from ${itemName === \"favorite\" ? \"favorites\" : itemName}?`)\r\n}\r\n\r\n\r\n\r\nexport default MovieViewActionButtons;\r\n","import MovieViewActions from \"./movie-view-actions.component\";\r\n\r\nexport default MovieViewActions;","import MovieItemImage from \"./movie-item-image.component\";\r\n\r\nexport default MovieItemImage;","import React, { FC } from \"react\";\r\nimport IMovieResultItem from \"../../interfaces/app-types/IMovieResultItem\";\r\nimport store from \"store\";\r\nimport { setMovieView } from \"store/movie-view/movie-view.actions\";\r\nimport ImageIcon from \"@material-ui/icons/Image\";\r\nimport styles from \"./movie-item-image.module.scss\";\r\n\r\n\r\ninterface OwnProps {\r\n\tbackGroundUrl: string;\r\n\tposter_path: string | null;\r\n\tmovie: IMovieResultItem;\r\n\titemView?: boolean;\r\n\tclassName?: string;\r\n}\r\n\r\nconst MovieItemImage: FC<OwnProps> =\r\n\t({movie, backGroundUrl, poster_path, itemView = false, className}) =>\r\n\t\t<div className={`${styles.root} ${className || ''}`} item-view={String(itemView)}>\r\n\t\t\t<div style={{backgroundImage: backGroundUrl}}\r\n\t\t\t     onClick={() => !itemView && store.dispatch(setMovieView(movie))}\r\n\t\t\t     className={styles.image}>\r\n\t\t\t\t{!poster_path && <>\r\n                    <ImageIcon className={styles.imageIcon}/>\r\n                    <span>No<br/>Image</span>\r\n                </>}\r\n\t\t\t</div>\r\n\t\t</div>;\r\n\r\n\r\nexport default MovieItemImage;","import React, { CSSProperties, FC, useEffect, useMemo, useRef, useState } from \"react\";\r\nimport MovieItemImgBg from \"components/movie-item-img-bg\";\r\nimport RatingProgressBar from \"components/circled-progress-bar\";\r\nimport MovieViewActionButtons from \"components/movie-view-actions\";\r\nimport styles from \"./movie-result-item.module.scss\";\r\nimport IMovieResultItem from \"../../interfaces/app-types/IMovieResultItem\";\r\nimport appProperties from \"../../appProperties\";\r\nimport useOnMovieView from \"hooks/useOnMovieView\";\r\nimport useIsMobile from \"hooks/useIsMobile\";\r\nimport MovieItemImage from \"components/movie-item-image\";\r\n\r\nconst {getPosterSrcPathPrefix} = appProperties;\r\n\r\ninterface OwnProps {\r\n\tmovie: IMovieResultItem;\r\n\titemView?: boolean;\r\n\tclassName?: string;\r\n}\r\n\r\ntype OnViewConfigGeneric = \"hidden\" | \"visible\";\r\n\r\nconst MovieResultItem: FC<OwnProps> = ({movie, className, itemView = false}) => {\r\n\tconst isMobile = useIsMobile();\r\n\tconst itemRef = useRef<HTMLDivElement>(null);\r\n\tlet {poster_path, title, vote_average, release_date, overview} = movie;\r\n\r\n\tconst [imgSrcPath, setImgSrcPath] = useState(() => `${getPosterSrcPathPrefix()}${poster_path}`);\r\n\r\n\tconst initialOnViewProps: CSSProperties = {opacity: 0, visibility: \"hidden\"};\r\n\tconst [onMovieProps, propsState] = useOnMovieView<CSSProperties>(movie.id, initialOnViewProps, {\r\n\t\t...(itemView ? {\r\n\t\t\tonEnter: initialOnViewProps,\r\n\t\t\tonView: {opacity: 1, transition: \"opacity 650ms ease\"},\r\n\t\t\tonClose: {opacity: 0, transition: \"opacity 450ms ease\"}\r\n\t\t} : {})\r\n\t});\r\n\r\n\tconst titleStyle: CSSProperties = {\r\n\t\tfontSize: (propsState === \"view\" || propsState === \"enter\" || isMobile) ?\r\n\t\t\t(itemView ? (isMobile ? \"1.4rem\" : \"1.9rem\") : undefined) : undefined\r\n\t};\r\n\r\n\tconst [visibility, visibilityState] = useOnMovieView<OnViewConfigGeneric>\r\n\t(movie.id, \"visible\", !itemView ? onViewConfigNotItemView : {\r\n\t\tonView: () => {\r\n\t\t\tif (itemView && poster_path) { // this is to make image look better (higher quality)\r\n\t\t\t\tlet newSrc = `${getPosterSrcPathPrefix(\"500\")}${poster_path}`;\r\n\t\t\t\tlet image = new Image();\r\n\t\t\t\t// set newSrc upon cached response for better UX\r\n\t\t\t\timage.onload = () => setImgSrcPath(newSrc);\r\n\t\t\t\timage.src = newSrc;\r\n\t\t\t}\r\n\t\t\treturn \"visible\";\r\n\t\t}\r\n\t});\r\n\r\n\tuseEffect(() => {\r\n\t\tif (visibilityState === \"leave\") {\r\n\t\t\tvoid itemRef.current!.offsetWidth; // this trick will trigger animation play/replay\r\n\t\t\titemRef.current!.classList.add(styles.runAnimation);\r\n\t\t} else itemRef.current!.classList.remove(styles.runAnimation);\r\n\t}, [visibilityState]);\r\n\t\r\n\t\r\n\tconst memoizedBackgroundImage = useMemo(() =>\r\n\t\t<MovieItemImage\r\n\t\t\tbackGroundUrl={poster_path ? `url(\"${imgSrcPath}\")` : ''}\r\n\t\t\tposter_path={poster_path}\r\n\t\t\tmovie={movie}\r\n\t\t\titemView={itemView}\r\n\t\t/>, [imgSrcPath, poster_path]\r\n\t)\r\n\r\n\treturn (\r\n\t\t<div className={`${styles.root} ${className || ''}`}\r\n\t\t     item-view={String(itemView)}\r\n\t\t     id={!itemView ? String(movie.id) : ''}\r\n\t\t     ref={itemRef}\r\n\t\t     style={{visibility}}\r\n\t\t>\r\n\t\t\t{!(isMobile && itemView) && <MovieItemImgBg movieId={movie.id} itemView={itemView}/>}\r\n\t\t\t{memoizedBackgroundImage}\r\n\t\t\t<div className={styles.content}>\r\n\t\t\t\t<div className={styles.wrapper}>\r\n\t\t\t\t\t<div className={styles.header}>\r\n\t\t\t\t\t\t<div className={styles.title} style={titleStyle}>{title}</div>\r\n\t\t\t\t\t\t{release_date && (\r\n\t\t\t\t\t\t\t<div className={styles.year}>{release_date.substr(0, 4)}</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{itemView && !isMobile && (\r\n\t\t\t\t\t\t\t<p className={styles.overViewSection} style={onMovieProps}>{overview}</p>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{!(isMobile && itemView) && (\r\n\t\t\t\t\t\t<div className={styles.info}>\r\n\t\t\t\t\t\t\t<div><RatingProgressBar score={vote_average} itemView={itemView}/></div>\r\n\t\t\t\t\t\t\t<div style={onMovieProps}><MovieViewActionButtons item={movie} /></div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst onViewConfigNotItemView = {\r\n\tonEnter: \"hidden\" as OnViewConfigGeneric,\r\n\tonLeave: \"visible\" as OnViewConfigGeneric\r\n};\r\n\r\n\r\nexport default MovieResultItem;","import MovieResultItem from \"./movie-result-item.component\";\r\n\r\nexport default MovieResultItem;","import MovieResultSkeleton from \"./movie-result-skeleton.component\";\r\n\r\nexport default MovieResultSkeleton;","import React, { FC } from \"react\";\r\nimport styles from \"./movie-result-skeleton.module.scss\";\r\n\r\nconst viewBoxSize = 60;\r\nconst strokeWidth = viewBoxSize / 15;\r\nconst circleRadius = viewBoxSize / 2 - strokeWidth;\r\n\r\nconst backFill = \"rgba(0, 0, 0, .25)\";\r\nconst backStroke = \"#5d5d5d\";\r\n\r\nconst MovieResultSkeleton: FC = () => (\r\n    <div className={`${styles.root}`}>\r\n        <div className={styles.imageWrapper}>\r\n            <div className={styles.image}/>\r\n        </div>\r\n        <div className={styles.content}>\r\n            <div className={styles.wrapper}>\r\n                <div className={styles.header}>\r\n                    <div className={styles.title}/>\r\n                    <div className={styles.year}/>\r\n                </div>\r\n                <div className={styles.info}>\r\n                    <div className={styles.infoWrapper}>\r\n                        <svg height=\"100%\" width={viewBoxSize} viewBox={`0 0 ${viewBoxSize} ${viewBoxSize}`}\r\n                             overflow={\"visible\"}>\r\n                            <circle\r\n                                cx={viewBoxSize / 2}\r\n                                cy={viewBoxSize / 2}\r\n                                r={circleRadius}\r\n                                fill={backFill}\r\n                                stroke={backStroke}\r\n                                strokeWidth={strokeWidth}\r\n                                style={{zIndex: -1}}\r\n                            />\r\n                        </svg>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n);\r\n\r\n\r\nexport default MovieResultSkeleton;","import MoviesGrid from \"./movies-grid.component\";\r\n\r\nexport default MoviesGrid;","import React, { FC } from \"react\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport IMovieResultItem from \"../../interfaces/app-types/IMovieResultItem\";\r\nimport MovieResultItem from \"components/movie-result-item\";\r\nimport MovieResultSkeleton from \"components/movie-result-skeleton\";\r\nimport styles from \"./movies-grid.module.scss\";\r\nimport { ItemsPortionUI } from \"hooks/useMovieItems\";\r\n\r\ninterface Props {\r\n\titems: ItemsPortionUI\r\n}\r\n\r\nconst MoviesGrid: FC<Props> = ({items}) => {\r\n\treturn (\r\n\t\t<Grid container alignItems=\"stretch\" spacing={2} className={styles.root}>\r\n\t\t\t{items.map(movie => (\r\n\t\t\t\t<Grid key={movie.key} item xs={12} sm={6} md={4}>\r\n\t\t\t\t\t{!!(movie as IMovieResultItem).id\r\n\t\t\t\t\t\t? <MovieResultItem movie={(movie as IMovieResultItem)}/>\r\n\t\t\t\t\t\t: <MovieResultSkeleton/>}\r\n\t\t\t\t</Grid>\r\n\t\t\t))}\r\n\t\t</Grid>\r\n\t);\r\n};\r\n\r\nexport default MoviesGrid;","import { MoviesBrowseNames } from \"store/movies-browser\";\r\nimport useSearchParam from \"./useSearchParam\";\r\nimport IMovieResultItem from \"../interfaces/app-types/IMovieResultItem\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport getMoviesBrowserActions from \"store/movies-browser/movies-browser.actions\";\r\nimport { useSelector } from \"react-redux\";\r\nimport store, { AppState } from \"store\";\r\nimport { MoviesBrowseState } from \"store/movies-browser/movies-browser.reducer\";\r\nimport { calculatePageOnApi } from \"utility\";\r\nimport appProperties from \"../appProperties\";\r\nimport IMoviesSearchError from \"../interfaces/app-types/IMoviesSearchError\";\r\n\r\nconst {itemsPerPageUI} = appProperties;\r\n\r\ntype MoviesBrowseActions = ReturnType<typeof getMoviesBrowserActions>;\r\nexport type PortionItemUI = IMovieResultItem | Pick<IMovieResultItem, \"key\">;\r\nexport type ItemsPortionUI = PortionItemUI[];\r\n\r\nexport function isMovieItem(item: PortionItemUI): item is IMovieResultItem {\r\n\treturn 'id' in item;\r\n}\r\n\r\ninterface useMovieItemsHook {\r\n\titems: ItemsPortionUI,\r\n\terror: IMoviesSearchError | null\r\n\tpageUI: number,\r\n\tisLoading: boolean,\r\n\tgoToPage: (page: number) => void,\r\n\ttotalPagesUI: number,\r\n\ttotalResults: number,\r\n}\r\ninterface useMovieItemsProps<TNames> {\r\n\tname: TNames;\r\n\tsearchQuery?: string;\r\n}\r\n\r\ntype PropTypes =\r\n\t| {name: \"favorite\" }\r\n\t| {name: \"watchlist\" }\r\n\t| {name: \"search\", searchQuery: string }\r\n\t| {name: \"nowPlaying\" }\r\n\t| {name: \"trendingWeek\" }\r\n\r\n\r\nconst isFetchingOrLengthEquality = (newState: MoviesBrowseState, oldState: MoviesBrowseState) =>\r\n\t(newState.isFetching === oldState.isFetching && newState.isFetchingMore === oldState.isFetchingMore)\r\n\t&& (Object.keys(newState.searchData?.results || {}).length === Object.keys(oldState.searchData?.results || {}).length)\r\n\r\n/**\r\n *  @description <p>The 'goToPage' property of the returned object is not available for \"trendingWeek\"</p>.\r\n *                <p>Also, authentication is required to retrieve: </p>\r\n *                <ul>\r\n *                    <li>favorite</li>\r\n *                    <li>watchlist</li>\r\n *                </ul>\r\n * */\r\nfunction useMovieItems<TNames extends MoviesBrowseNames>\r\n\t(props: useMovieItemsProps<TNames> & PropTypes) {\r\n\r\n\t// get corresponding actions\r\n\tconst [actionsInit] = useState(() => getMoviesBrowserActions(props.name));\r\n\tconst actionsRef = useRef<MoviesBrowseActions>(actionsInit);\r\n\tconst nameRef = useRef<MoviesBrowseNames>(props.name);\r\n\r\n\t// get corresponding state\r\n\tconst state = useSelector<AppState, MoviesBrowseState>\r\n\t\t(state => state[props.name], isFetchingOrLengthEquality);\r\n\r\n\r\n\tconst [pageUI = 1, setPage] = useSearchParam(\"page\", pageUI => {\r\n\t\tpageUI && store.dispatch(actionsRef.current.checkIfFetchMore(pageUI));\r\n\t});\r\n\r\n\tuseEffect(() => {\r\n\t\tif (nameRef.current === \"search\") return;\r\n\t\tif (!store.getState()[nameRef.current].searchData)\r\n\t\t\tstore.dispatch(actionsRef.current.fetchMoviesAsync())\r\n\t}, []);\r\n\r\n\r\n\tuseEffect(() => {\r\n\t\tconst id = setTimeout(() => { // this timeOut is to make sure the effect has the latest dependencies because it there could be a delay between pageUI param and searchQuery arg\r\n\t\t\tif (nameRef.current === \"search\" && state.searchTerm !== props.searchQuery && props.searchQuery && !state.isFetching)\r\n\t\t\t\tstore.dispatch(actionsRef.current.fetchMoviesAsync(props.searchQuery, calculatePageOnApi(pageUI)));\r\n\t\t}, 150)\r\n\t\treturn () => clearTimeout(id);\r\n\t}, [pageUI, props.searchQuery, state]);\r\n\r\n\r\n\treturn ({\r\n\t\t        items  :  selectItemsUIPortion(state, pageUI), // select a portion based on \"itemsPerPageUI\" defined in \"/appProperties\"\r\n\t\t        error  :  state.searchError,\r\n\t\t       pageUI  :  pageUI,\r\n\t\t    isLoading  :  state.isFetching,\r\n\t\t totalPagesUI  :  calculateTotalPagesUI(state.searchData?.total_results || 0),\r\n\t\t totalResults  :  state.searchData?.total_results || 0,\r\n\t\t     goToPage  :  (nameRef.current !== \"trendingWeek\") ? ((page: number) => setPage(page)) : undefined\r\n\t} as\r\n\t\tTNames extends \"trendingWeek\" ? Omit<useMovieItemsHook, \"goToPage\"> : useMovieItemsHook)\r\n\r\n}\r\n\r\nfunction selectItemsUIPortion(browseState: MoviesBrowseState, pageUI: number = 1) {\r\n\tlet selected: ItemsPortionUI = [];\r\n\r\n\tif (browseState.isFetching || !browseState.searchData) return selected;\r\n\r\n\tconst fromIndex = ((pageUI - 1) * itemsPerPageUI);\r\n\r\n\tfor (let i = 0; i < itemsPerPageUI; i++) {\r\n\t\tlet grabIndex = fromIndex + i;\r\n\t\tlet item = browseState.searchData.results[grabIndex];\r\n\t\tselected[i] = item || {key: grabIndex};\r\n\t\tif (grabIndex+1 === browseState.searchData.total_results) break; // break if last item\r\n\t}\r\n\r\n\treturn selected;\r\n}\r\n\r\nfunction calculateTotalPagesUI(totalResultsApi: number) {\r\n\treturn Math.ceil( totalResultsApi / itemsPerPageUI );\r\n}\r\n\r\nexport default useMovieItems;","import React, { FC, useEffect } from \"react\";\r\nimport SearchBar from \"components/search-bar\";\r\nimport PaginationControls from \"components/pagination-controls\";\r\nimport LoadingSpinner from \"components/loading-spinner\";\r\nimport MovieResultsContainer from \"components/movie-results-container\";\r\nimport ErrorMessage from \"components/error-message\";\r\nimport TotalSearchResults from \"components/total-search-results\";\r\nimport styles from \"./search-page.module.scss\";\r\nimport useSearchParam from \"hooks/useSearchParam\";\r\nimport useSavedSessionParams from \"hooks/useSavedSessionParams\";\r\nimport MoviesGrid from \"components/movies-grid\";\r\nimport useMovieItems from \"hooks/useMovieItems\";\r\nimport getMoviesBrowserActions from \"../../store/movies-browser/movies-browser.actions\";\r\nimport store from \"../../store\";\r\n\r\nconst searchActions = getMoviesBrowserActions(\"search\");\r\n\r\nconst SearchPage: FC = () => {\r\n\r\n\tuseSavedSessionParams();\r\n\r\n\r\n\tconst [searchQuery = ''] = useSearchParam(\"s\");\r\n\tconst [page = 0] = useSearchParam(\"page\");\r\n\r\n\tconst {items, isLoading, pageUI, totalPagesUI, totalResults, goToPage, error } =\r\n\t\tuseMovieItems({name: \"search\", searchQuery});\r\n\r\n\t// Effect to clear searchPage component upon empty parameters or sync state with searchParams\r\n\tuseEffect(() => {\r\n\t\tif (!page && !searchQuery && totalResults)\r\n\t\t\tstore.dispatch(searchActions.clearFetchedMovies());\r\n\t\telse if (searchQuery && totalResults && !page)\r\n\t\t\tgoToPage(1)\r\n\t}, [page, searchQuery, totalResults, goToPage]);\r\n\r\n\r\n\r\n\t// This effect is to keep the paging declared on searchParams in sync totalPages max\r\n\tuseEffect(() => {\r\n\t\tif (pageUI > totalPagesUI && totalPagesUI)\r\n\t\t\tgoToPage(totalPagesUI);\r\n\t}, [goToPage, pageUI, totalPagesUI]);\r\n\r\n\treturn (\r\n\t\t<div className={styles.root}>\r\n\t\t\t<div className={styles.searchHead}>\r\n\t\t\t\t<SearchBar/>\r\n\t\t\t\t{!!totalResults && <TotalSearchResults totalResults={totalResults}/>}\r\n\t\t\t\t<PaginationControls totalPages={totalPagesUI} />\r\n\t\t\t</div>\r\n\t\t\t{isLoading ? <LoadingSpinner delay={800} fixed />\r\n\t\t\t\t: error ? <ErrorMessage error={error}/>\r\n\t\t\t\t\t: (\r\n\t\t\t\t\t\t<MovieResultsContainer page={pageUI}>\r\n\t\t\t\t\t\t\t{() => <MoviesGrid items={items}/>}\r\n\t\t\t\t\t\t</MovieResultsContainer>\r\n\t\t\t\t\t)\r\n\t\t\t}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default SearchPage;","import SearchPage from \"./search-page.component\";\r\n\r\nexport default SearchPage;","import React, { FC } from \"react\";\r\nimport IMovieResultItem from \"../../../interfaces/app-types/IMovieResultItem\";\r\nimport styles from \"../home-page.module.scss\";\r\nimport appProperties from \"../../../appProperties\";\r\nimport LoadingSpinner from \"components/loading-spinner\";\r\nimport useMovieItems from \"../../../hooks/useMovieItems\";\r\nimport store from \"../../../store\";\r\nimport { setMovieView } from \"../../../store/movie-view/movie-view.actions\";\r\n\r\nconst {getPosterSrcPathPrefix} = appProperties;\r\n\r\n\r\nconst ThisWeekContainer: FC = () => {\r\n\r\n\tconst results = useMovieItems({name: \"trendingWeek\"});\r\n\tconst items = results.items.filter((item, i) => i < 3) as IMovieResultItem[];\r\n\r\n\treturn (\r\n\t\t<div className={styles.gridContainer}>\r\n\t\t\t{items.map((movie, i) => (\r\n\t\t\t\t<ThisWeekItem\r\n\t\t\t\t\tkey={movie.key}\r\n\t\t\t\t\titem={movie}\r\n\t\t\t\t\tbackgroundImage={`url(${getPosterSrcPathPrefix(i === 2 ? \"500\" : \"400\")}${movie.backdrop_path!})`}\r\n\t\t\t\t\tgridArea={`item${i + 1}`}\r\n\t\t\t\t\tonClickHandler={() => store.dispatch(setMovieView(movie))}\r\n\t\t\t\t/>\r\n\t\t\t))}\r\n\t\t\t{results.isLoading && <LoadingSpinner darken delay={500}/>}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\ninterface ThisWeekItemProps {\r\n\titem: IMovieResultItem;\r\n\tbackgroundImage: string;\r\n\tonClickHandler: () => void;\r\n\tgridArea: string;\r\n}\r\n\r\nconst ThisWeekItem: FC<ThisWeekItemProps> = ({item: movie, backgroundImage, onClickHandler, gridArea}) => {\r\n\treturn (\r\n\t\t<div movie-title={movie.title}\r\n\t\t     className={`${styles.gridItem} ${styles.hoveredBg}`}\r\n\t\t     style={{ gridArea }}\r\n\t\t     key={movie.id}\r\n\t\t     onClick={onClickHandler}\r\n\t\t>\r\n\t\t\t<div style={{ backgroundImage }}/>\r\n\t\t</div>\r\n\t)\r\n};\r\n\r\nexport default ThisWeekContainer;","import IMovieResultItem from \"../../interfaces/app-types/IMovieResultItem\";\r\nimport React, { FC, memo, MutableRefObject, useCallback, useEffect, useMemo, useRef, useState } from \"react\";\r\nimport { useSpring } from \"react-spring\";\r\nimport { setMovieView } from \"store/movie-view/movie-view.actions\";\r\nimport appProperties from \"../../appProperties\";\r\nimport styles from \"./items-scroll-x.module.scss\";\r\nimport store from \"../../store\";\r\n\r\nconst { getPosterSrcPathPrefix } = appProperties;\r\n\r\n\r\ninterface OwnProps {\r\n\tnoResultsFound: boolean;\r\n\tisLoading?: boolean;\r\n\titems?: IMovieResultItem[];\r\n\tclassName?: string;\r\n\tscrollByX?: number;\r\n\titemClassName?: string;\r\n\tinfoTabMessage?: string;\r\n}\r\n\r\nconst MovieItemsXScrollList: FC<OwnProps> =\r\n({isLoading = false, noResultsFound, items = [], className, scrollByX = 200, infoTabMessage, itemClassName}) => {\r\n\r\n\tconst rootRef = useRef<HTMLDivElement>(null);\r\n\r\n\tconst [scrollXPos, setScrollXPos] = useState(0);\r\n\r\n\tconst [, update] = useSpring(() => ({\r\n\t\tto: {scrollXPos},\r\n\t\tonFrame: ({scrollXPos}) => {\r\n\t\t\trootRef.current!.scroll(scrollXPos as number, 0);\r\n\t\t},\r\n\t}));\r\n\r\n\tuseEffect(() => {\r\n\t\tupdate({scrollXPos});\r\n\t}, [scrollXPos, update]);\r\n\r\n\tconst onMouseMoveHandler = useCallback(function onMouseMove(e: React.MouseEvent<HTMLDivElement>) {\r\n\t\tconst {scrollWidth, clientWidth} = e.currentTarget;\r\n\t\tconst maxScrollLeft = scrollWidth - clientWidth;\r\n\t\tlet {movementX} = e;\r\n\r\n\t\tif (e.buttons === 1)\r\n\t\t\tsetScrollXPos((prevState) => {\r\n\t\t\t\tlet nextState = prevState - movementX * 1.5;\r\n\t\t\t\tif (nextState > 0 && nextState <= maxScrollLeft) return nextState;\r\n\t\t\t\telse if (nextState > maxScrollLeft) return maxScrollLeft;\r\n\t\t\t\telse return 0;\r\n\t\t\t});\r\n\t}, []);\r\n\r\n\tconst onWheelHandler = useCallback(function onWheelHandler(e: React.WheelEvent<HTMLDivElement>) {\r\n\t\tconst {scrollWidth, clientWidth} = e.currentTarget;\r\n\t\tconst maxScrollLeft = scrollWidth - clientWidth;\r\n\r\n\t\tif (e.deltaY < 0)\r\n\t\t\t// scroll to left\r\n\t\t\tsetScrollXPos((prevState) => {\r\n\t\t\t\treturn prevState > 0 ? prevState - scrollByX : 0;\r\n\t\t\t});\r\n\t\telse\r\n\t\t\tsetScrollXPos((prevState) => {\r\n\t\t\t\tconst nextState = prevState + scrollByX;\r\n\t\t\t\tif (nextState < maxScrollLeft) return nextState;\r\n\t\t\t\telse return maxScrollLeft;\r\n\t\t\t});\r\n\t},[scrollByX]);\r\n\r\n\tconst onDownRef = useRef(0);\r\n\tconst onUpRef = useRef(0);\r\n\tconst canClick = () => onDownRef.current === onUpRef.current;\r\n\r\n\tconst itemChildren = useMemo(() => items.map((movie) => (\r\n\t\t<RelatedMovieItem\r\n\t\t\tkey={movie.key}\r\n\t\t\tmovie={movie}\r\n\t\t\tcanClick={canClick}\r\n\t\t\titemClassName={itemClassName}\r\n\t\t/>\r\n\t)), [items.length, itemClassName]);\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName={`${styles.root} ${className || ''}`}\r\n\t\t\tonWheel={noResultsFound ? undefined:onWheelHandler}\r\n\t\t\tonMouseMove={noResultsFound ? undefined:onMouseMoveHandler}\r\n\t\t\tref={rootRef}\r\n\t\t\tonMouseDown={(setClientXOnRef.bind(null, onDownRef) as any)}\r\n\t\t\tonMouseUp={(setClientXOnRef.bind(null, onUpRef) as any)}\r\n\t\t\tstyle={{\r\n\t\t\t\toverflowX: isLoading || noResultsFound ? \"hidden\" : \"scroll\",\r\n\t\t\t\topacity: noResultsFound ? 0.5 : 1,\r\n\t\t\t}}\r\n\t\t\t{...(infoTabMessage ? {\"info-tab\": infoTabMessage} : {})}\r\n\t\t>\r\n\t\t\t{noResultsFound ? (\r\n\t\t\t\t<>\r\n\t\t\t\t\t{[...new Array(5)].map((v, i) => (\r\n\t\t\t\t\t\t<RelatedMovieItem isLoading={false} movie={null} key={i}/>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\t<div className={styles.noMoviesFound}>No related movies found</div>\r\n\t\t\t\t</>\r\n\t\t\t) : (\r\n\t\t\t\t<>\r\n\t\t\t\t\t{itemChildren}\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n};\r\n\r\ninterface RelatedMovieItemProps {\r\n\tisLoading?: boolean;\r\n\tmovie: IMovieResultItem | null;\r\n\tcanClick?: () => boolean;\r\n\titemClassName?: string;\r\n}\r\n\r\nconst RelatedMovieItem: FC<RelatedMovieItemProps> =\r\n\tmemo(({isLoading = false, movie, canClick = (() => false), itemClassName}) => {\r\n\t\tconst imgSrc = movie && movie.poster_path && `url(${getPosterSrcPathPrefix(\"300\")}${movie.poster_path})`;\r\n\r\n\t\tconst onClickHandler = () => canClick() && movie && store.dispatch(setMovieView(movie));\r\n\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tclassName={`${styles.relatedMovieItemWrapper} ${itemClassName || ''}`}\r\n\t\t\t\tonDragStart={preventDefault as any}\r\n\t\t\t>\r\n\t\t\t\t<div className={`\r\n\t\t\t\t\t\t${styles.relatedMovieItem}\r\n\t\t\t\t\t\t${isLoading ? styles.isLoadingItem : ''}\r\n\t\t\t\t\t\t${(!imgSrc && !isLoading) ? styles.noPoster : ''}\r\n\t\t\t\t\t`}\r\n\t\t\t\t     title={movie?.title}\r\n\t\t\t\t     style={{backgroundImage: imgSrc || undefined}}\r\n\t\t\t\t     onDragStart={preventDefault as any}\r\n\t\t\t\t     onClick={movie ? onClickHandler : undefined}\r\n\t\t\t\t>{!imgSrc && movie ? movie.title : null}</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}, (prevProps, nextProps) => prevProps.isLoading === nextProps.isLoading);\r\n\r\n\r\nfunction setClientXOnRef(ref: MutableRefObject<number>, ev: React.MouseEvent) {\r\n\tref.current = ev.clientX;\r\n}\r\n\r\nfunction preventDefault(e: Event) {\r\n\te.preventDefault();\r\n}\r\n\r\nexport default MovieItemsXScrollList;","import ItemsScrollX from \"./items-scroll-x.component\";\r\n\r\nexport default ItemsScrollX;","import React, { FC } from \"react\";\r\nimport styles from \"../home-page.module.scss\";\r\nimport appProperties from \"appProperties\";\r\nimport { setMovieView } from \"store/movie-view/movie-view.actions\";\r\nimport store from \"store\";\r\nimport LoadingSpinner from \"components/loading-spinner\";\r\nimport MovieItemsXScrollList from \"components/items-scroll-x\";\r\nimport IMovieResultItem from \"../../../interfaces/app-types/IMovieResultItem\";\r\nimport useMovieItems from \"../../../hooks/useMovieItems\";\r\n\r\nlet {getPosterSrcPathPrefix} = appProperties;\r\n\r\n\r\nconst NowPlayingContainer: FC = () => {\r\n\r\n\tconst results = useMovieItems({name: \"nowPlaying\"});\r\n\tconst items = (results.items as IMovieResultItem[])\r\n\r\n\tconst mainItem = items.length ? items[0] : null;\r\n\r\n\treturn (\r\n\t\t<div className={styles.nowPlayingContainer}>\r\n\t\t\t{(!results.isLoading && items.length && (\r\n\t\t\t\t<>\r\n\t                <div\r\n\t                    className={`${styles.mainMovieItem} ${styles.hoveredBg}`}\r\n\t                    movie-title={mainItem!.title}\r\n\t                    onClick={() => store.dispatch(setMovieView(mainItem!))}\r\n\t                >\r\n\t                    <div style={{backgroundImage: `url(${getPosterSrcPathPrefix(\"500\")}${mainItem!.backdrop_path!})`}}/>\r\n\t                </div>\r\n\t                <div className={styles.subMovieItemContainerWrapper}>\r\n\t\t                <MovieItemsXScrollList\r\n\t\t\t                noResultsFound={false}\r\n\t\t\t                items={items}\r\n\t\t\t                className={styles.subMovieItemContainer}\r\n\t\t\t                itemClassName={styles.subMovieItemContainerItem}\r\n\t\t\t                scrollByX={175}\r\n\t\t                />\r\n\t                </div>\r\n\t            </>\r\n\t\t\t)) || (results.isLoading && <LoadingSpinner darken delay={500}/>)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default NowPlayingContainer;","import React, { FC, memo } from \"react\";\r\nimport styles from \"./home-page.module.scss\";\r\nimport ThisWeekContainer from \"./subcomponents/this-week-container.component\";\r\nimport NowPlayingContainer from \"./subcomponents/now-playing-container.component\";\r\n\r\n\r\nconst HomePage: FC = () => {\r\n\r\n\treturn (\r\n\t\t<div className={styles.root}>\r\n\t\t\t<h1>Movie Ratings App</h1>\r\n\t\t\t<div className={styles.content}>\r\n\t\t\t\t<SpotlightSection title=\"Trending This Week\">\r\n\t\t\t\t\t<ThisWeekContainer/>\r\n\t\t\t\t</SpotlightSection>\r\n\t\t\t\t<SpotlightSection title=\"Now Playing\">\r\n\t\t\t\t\t<NowPlayingContainer/>\r\n\t\t\t\t</SpotlightSection>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst SpotlightSection: FC<{ title: string }> = ({title, children}) => (\r\n\t<div className={styles.sectionSpotlight}>\r\n\t\t<h2 className={styles.sectionTitle}>{title}</h2>\r\n\t\t<div className={styles.sectionContentWrapper}>\r\n\t\t\t<div className={styles.sectionContent}>\r\n\t\t\t\t{children}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n);\r\n\r\nexport default memo(HomePage, () => true);","import HomePage from \"./home-page.component\";\r\n\r\nexport default HomePage;","import React, { FC, ReactText } from \"react\";\r\nimport styles from \"./movie-view-info.module.scss\";\r\nimport { formatToUSD, getReadableDate, minutesToRuntimeDisplay } from \"utility\";\r\nimport IMovieView from \"../../interfaces/app-types/IMovieView\";\r\nimport { animated, useTransition } from \"react-spring\";\r\nimport { easeOutQuart } from \"../../utility/easingFuctions\";\r\n\r\n\r\ninterface OwnProps {\r\n    movieView: IMovieView\r\n}\r\n\r\ntype Props = OwnProps;\r\n\r\nconst MovieViewInfoChildren: FC<Props> = ({movieView: {budget, homepage, release_date, revenue, runtime, status}}) => {\r\n    let hostname = homepage ? (new URL(homepage).hostname) : null;\r\n    let jsx = (\r\n        <>\r\n            <h2 key={1} className={styles.title}>Facts</h2>\r\n\r\n            {status ? (<div key={2} className={styles.sideInfoItem}>\r\n                <h4>Status</h4>\r\n                <div>{status}</div>\r\n            </div>) : null}\r\n\r\n            {release_date ? (<div key={3} className={styles.sideInfoItem}>\r\n                <h4>Release Date</h4>\r\n                <div>{getReadableDate(release_date)}</div>\r\n            </div>) : null}\r\n\r\n            {budget ? (<div key={4} className={styles.sideInfoItem}>\r\n                <h4>Budget</h4>\r\n                <div>{'$' + formatToUSD(budget)}</div>\r\n            </div>) : null}\r\n\r\n            {revenue ? (<div key={5} className={styles.sideInfoItem}>\r\n                <h4>Revenue</h4>\r\n                <div>{'$' + formatToUSD(revenue)}</div>\r\n            </div>) : null}\r\n\r\n            {homepage ? (<div key={6} className={styles.sideInfoItem}>\r\n                <h4>Homepage</h4>\r\n                <a href={homepage} target=\"_blank\" rel=\"noopener noreferrer\">{hostname}</a>\r\n            </div>) : null}\r\n\r\n            {runtime ? (<div key={7} className={styles.sideInfoItem}>\r\n                <h4>Runtime</h4>\r\n                <div>{minutesToRuntimeDisplay(runtime)}</div>\r\n            </div>) : null}\r\n        </>\r\n    );\r\n\r\n    const transition = useTransition(\r\n        jsx!.props!.children, item => (item?.key as ReactText), {\r\n            initial: {\r\n                transform: 'translateX(300px)',\r\n                opacity: -1\r\n            },\r\n            enter: {\r\n                transform: 'translateX(0px)',\r\n                opacity: 1,\r\n            },\r\n            config: {\r\n                duration: 1300,\r\n                easing: easeOutQuart\r\n            },\r\n            trail: 105\r\n        });\r\n\r\n\r\n    return (\r\n        <>\r\n        {transition.map(({props, key, item}) => {\r\n            if(!item) return null;\r\n            // @ts-ignore\r\n            let Element = animated[item.type];\r\n            return <Element key={key} {...item.props} style={props}/>\r\n        })}\r\n        </>\r\n    );\r\n};\r\n\r\n\r\nexport default MovieViewInfoChildren;","import MovieViewInfo from \"./movie-view-info.component\";\r\n\r\nexport default MovieViewInfo;","import React, { FC } from \"react\";\r\nimport IMovieView from \"../../interfaces/app-types/IMovieView\";\r\nimport { getMovieImgObjFromSession } from \"utility\";\r\nimport styles from \"./movie-view-info.module.scss\";\r\nimport { fade } from \"@material-ui/core\";\r\nimport { animated, useSpring } from \"react-spring\";\r\nimport { easeOutQuart } from \"../../utility/easingFuctions\";\r\nimport MovieViewInfoChildren from \"./movie-view-info-children.component\";\r\nimport useOnMovieView from \"hooks/useOnMovieView\";\r\nimport useIsMobile from \"hooks/useIsMobile\";\r\n\r\ninterface OwnProps {\r\n    movieView: IMovieView | undefined;\r\n    movieId: number;\r\n}\r\n\r\ntype Props = OwnProps;\r\n\r\nconst defaultBgColor = 'rgba(160, 160, 160, .2)';\r\n\r\nconst MovieViewInfo: FC<Props> = ({movieView, movieId}) => {\r\n    const isMobile = useIsMobile();\r\n    const [left, propsState] = useOnMovieView(movieId, !isMobile ? 105 : 0, !isMobile ? {\r\n        onView: 0,\r\n        onClose: 0\r\n    } : {});\r\n\r\n    const opacity = propsState === \"close\" ? 0 : 1;\r\n\r\n    const props = useSpring({\r\n        left,\r\n        config: {\r\n            duration: 900,\r\n            easing: easeOutQuart\r\n        }\r\n    });\r\n\r\n    let colorSessionObj = getMovieImgObjFromSession(movieId);\r\n\r\n    let backgroundColor = colorSessionObj ? fade(colorSessionObj.averageColor, .2) : defaultBgColor;\r\n\r\n    return (\r\n        <animated.div className={styles.root} style={{\r\n            left: props.left.to(v => v+\"%\"),\r\n            backgroundColor,\r\n            opacity\r\n        }}>\r\n            {movieView && <MovieViewInfoChildren movieView={(movieView as IMovieView)} />}\r\n        </animated.div>\r\n    );\r\n};\r\n\r\nexport default MovieViewInfo;","import React, { CSSProperties, FC } from \"react\";\r\nimport styles from \"./movie-view-background.module.scss\";\r\nimport { fade } from \"@material-ui/core\";\r\nimport { useSessionAvgColor } from \"hooks/useSessionAvgColor\";\r\nimport useOnMovieView from \"hooks/useOnMovieView\";\r\n\r\n\r\ninterface OwnProps {\r\n    movieId: number\r\n}\r\n\r\ntype Props = OwnProps;\r\n\r\nconst bgColorOpacity = .6;\r\nconst defaultBgColor = `rgba(160, 160, 160, ${bgColorOpacity})`;\r\n\r\nconst MovieViewBackground: FC<Props> = ({movieId}) => {\r\n\r\n    const movieImgDataObj = useSessionAvgColor(movieId);\r\n\r\n    const [cssProps] = useOnMovieView<CSSProperties>(movieId, {opacity: 0}, {\r\n        onView: {\r\n            opacity: 1,\r\n            transitionDuration: \"800\"\r\n        },\r\n        onClose: {\r\n            opacity: 0,\r\n            transitionDuration: \"450\"\r\n        }\r\n    });\r\n\r\n    let bgColor = defaultBgColor;\r\n\r\n    if (movieImgDataObj)\r\n        bgColor = fade(movieImgDataObj.averageColor, bgColorOpacity);\r\n\r\n    let bgStyle: CSSProperties = {\r\n        background: `linear-gradient(180deg, transparent 0%, ${bgColor} 100%)`\r\n    };\r\n\r\n    return (\r\n        <div style={{...bgStyle, ...cssProps}} className={styles.root}/>\r\n    );\r\n};\r\n\r\n\r\nexport default React.memo(MovieViewBackground, () => true);","import MovieViewBackground from \"./movie-view-background.component\";\r\n\r\nexport default MovieViewBackground;","import React, { FC, useEffect, useState } from \"react\";\nimport styles from \"./movie-view-related.module.scss\";\nimport IMovieResultItem from \"../../interfaces/app-types/IMovieResultItem\";\nimport IMoviesResponseData from \"../../interfaces/app-types/IMoviesResponseData\";\nimport { goFetch } from \"utility\";\nimport appProperties from \"../../appProperties\";\nimport MovieItemsXScrollList from \"components/items-scroll-x\";\n\nconst {buildFetchMovieViewUrl} = appProperties;\n\ninterface OwnProps {\n\tmovieId: number;\n\tclassName?: string;\n}\n\nconst MovieViewRelated: FC<OwnProps> = ({movieId, className}) => {\n\n\tconst [relatedMovies, setRelatedMovies] = useState<IMovieResultItem[] | null>(\n\t\tnull\n\t);\n\n\tuseEffect(() => {\n\t\tlet mounted = true;\n\t\tgoFetch<IMoviesResponseData>(buildFetchMovieViewUrl(movieId, \"/similar\"))\n\t\t\t.then(data => {\n\t\t\t\tmounted && setRelatedMovies(data.results)\n\t\t\t});\n\t\treturn () => { mounted = false };\n\t}, [movieId]);\n\n\n\tconst noResultsFound = !!relatedMovies && !relatedMovies.length;\n\n\treturn (\n\t\t<MovieItemsXScrollList\n\t\t\tclassName={`${styles.root} ${className || ''}`}\n\t\t\tisLoading={!relatedMovies}\n\t\t\tnoResultsFound={noResultsFound}\n\t\t\titems={relatedMovies ?? undefined}\n\t\t\tinfoTabMessage={'Related Movies \\u27A5'}\n\t\t\tscrollByX={200}\n\t\t/>\n\t);\n};\n\nexport default MovieViewRelated;\n\n","import MovieViewRelated from \"./movie-view-related.component\";\r\n\r\nexport default MovieViewRelated;","import MovieViewItem from \"./movie-view-item.component\";\r\n\r\nexport default MovieViewItem;","import React, { FC, memo, useEffect, useRef, useState } from \"react\";\r\nimport MovieResultItem from \"components/movie-result-item\";\r\nimport IMovieResultItem from \"../../interfaces/app-types/IMovieResultItem\";\r\nimport styles from \"./movie-view-item.module.scss\";\r\nimport IMovieView from \"../../interfaces/app-types/IMovieView\";\r\nimport MovieViewInfo from \"components/movie-view-info\";\r\nimport MovieViewBackground from \"components/movie-view-background\";\r\nimport MovieViewRelated from \"components/movie-view-related\";\r\nimport useOnMovieView from \"hooks/useOnMovieView\";\r\nimport { checkIsMobile, goFetchMovieView, isMovieView, scrollToTop } from \"utility\";\r\nimport MovieViewActionButtons from \"components/movie-view-actions\";\r\nimport RatingProgressBar from \"components/circled-progress-bar\";\r\nimport useIsMobile from \"hooks/useIsMobile\";\r\n\r\n\r\ninterface OwnProps {\r\n    movieItem: IMovieResultItem | IMovieView;\r\n}\r\n\r\nconst MovieViewItem: FC<OwnProps> = ({movieItem}) => {\r\n    const movieItemRef = useRef(movieItem);\r\n    const isMobile = useIsMobile();\r\n    const isMovView = isMovieView(movieItem);\r\n\r\n    const [movieView, setMovieView] = useState<IMovieView | null>(() =>\r\n        isMovView ? movieItem as IMovieView : null\r\n    );\r\n\r\n    useEffect(() => {\r\n        let ignore = false;\r\n        if (checkIsMobile())\r\n            scrollToTop();\r\n\r\n        if (!isMovieView(movieItemRef.current))\r\n            goFetchMovieView(movieItemRef.current as IMovieResultItem)\r\n                .then(movie => !ignore && setMovieView(movie))\r\n\r\n        return () => {\r\n            ignore = true\r\n        }\r\n    }, []);\r\n\r\n    const [ , state] = useOnMovieView(movieItem.id, false,  !isMobile ? {\r\n        onView: true,\r\n        onClose: false\r\n    } : {});\r\n\r\n    const isViewing = isMobile || state === \"view\";\r\n\r\n    return (\r\n        <div className={styles.root} id=\"movie-item-view\">\r\n            <MovieViewBackground movieId={movieItem.id}/>\r\n            <div className={styles.mainInfo}>\r\n                <MovieResultItem movie={movieItem as IMovieResultItem} itemView className={styles.movieItem}/>\r\n                {isMobile && (\r\n                    <>\r\n                        <div className={styles.mobileRateActions}>\r\n                            <RatingProgressBar score={movieItem.vote_average} itemView/>\r\n                            <MovieViewActionButtons item={(movieItem as IMovieResultItem)} />\r\n                        </div>\r\n                        <p className={styles.mobileOverview}>{movieItem.overview}</p>\r\n                    </>\r\n                )}\r\n                {isViewing ? <MovieViewRelated movieId={movieItem.id}/> : null}\r\n            </div>\r\n            <div className={styles.sideInfo}>\r\n                {movieView && <MovieViewInfo movieView={movieView} movieId={movieItem.id} />}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default memo<OwnProps>(MovieViewItem, (prevProps, nextProps) =>\r\n    prevProps.movieItem.id === nextProps.movieItem.id\r\n);","class MovieViewEvent extends CustomEvent<IMovieViewEventDetail> {\r\n    constructor(movieId: number, state: MovieViewEventState) {\r\n        super(\"movieView\", {\r\n            detail: {\r\n                movieId,\r\n                state\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nexport type MovieViewEventState = \"enter\" | \"update\" | \"view\" | \"close\" | \"leave\"\r\n\r\ninterface IMovieViewEventDetail {\r\n    movieId: number,\r\n    state: MovieViewEventState\r\n}\r\n\r\nexport default MovieViewEvent;","import { Reducer, useCallback, useEffect, useReducer, useState } from \"react\";\r\nimport useSearchParam from \"./useSearchParam\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { AppState } from \"store\";\r\nimport IMovieResultItem from \"../interfaces/app-types/IMovieResultItem\";\r\nimport IMovieView from \"../interfaces/app-types/IMovieView\";\r\nimport { goFetchMovieView } from \"utility\";\r\n\r\nconst INITIAL_STATE: MovieForViewState = {movieViewItem: null, isLoading: false};\r\n\r\nconst movieViewReducer: Reducer<MovieForViewState, ReducerAction<keyof ActionsTypesToPayloadTypeMap>> =\r\n\tfunction movieViewReducer(state, action) {\r\n\t\tswitch (action.type) {\r\n\t\t\tcase \"clear-item\":\r\n\t\t\t\treturn INITIAL_STATE;\r\n\t\t\tcase \"set-is-loading\":\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tisLoading: true\r\n\t\t\t\t};\r\n\t\t\tcase \"set-movie-item\":\r\n\t\t\t\treturn {\r\n\t\t\t\t\tisLoading: false,\r\n\t\t\t\t\tmovieViewItem: action.payload as ItemViewState\r\n\t\t\t\t};\r\n\t\t}\r\n\t};\r\n\r\n// Reducer action creators\r\nconst onSetMovieItem = (item: ItemViewState): ReducerAction<\"set-movie-item\"> => ({\r\n\ttype: \"set-movie-item\",\r\n\tpayload: item\r\n});\r\n\r\n// @ts-ignore (because \"payload\" type = undefined)\r\nconst onSetIsLoading = (): ReducerAction<\"set-is-loading\"> => ({\r\n\ttype: \"set-is-loading\",\r\n});\r\n\r\nfunction useMovieForView(): ReturnHookState {\r\n\tconst [movieIdParam = 0, setMovieId] = useSearchParam(\"movieId\");\r\n\r\n\tconst [state, dispatch] = useReducer(movieViewReducer, INITIAL_STATE);\r\n\tconst {movieViewItem, isLoading} = state;\r\n\r\n\tconst clearMovieId = () => setMovieId(null);\r\n\r\n\tconst selectMovieItem = useCallback((state: AppState) => {\r\n\t\tif (!movieIdParam) return null;\r\n\t\tconst results = state.search.searchData?.results;\r\n\t\tif (results) {\r\n\t\t\tfor (let key in results)\r\n\t\t\t\tif (results[key]?.id === movieIdParam)\r\n\t\t\t\t\treturn results[key] as IMovieResultItem;\r\n\t\t}\r\n\t\t// eslint-disable-next-line eqeqeq\r\n\t\treturn state.movieItem.item?.id == movieIdParam ? state.movieItem.item : null;\r\n\t}, [movieIdParam]);\r\n\r\n\tconst selectedMovie = useSelector<AppState, IMovieResultItem | null>(selectMovieItem, selectedAreEqual);\r\n\r\n\tconst fromSelectedId = selectedMovie?.id ?? 0;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (isLoading) return;\r\n\r\n\t\t// selectedMovie matches movieIdParam and the item id on state is not same as selectedMovie id;\r\n\t\tif (fromSelectedId === movieIdParam && movieViewItem?.id !== movieIdParam)\r\n\t\t\tdispatch(onSetMovieItem(selectedMovie)); // set selectedMovie for view\r\n\r\n\t\telse if (( !movieViewItem || ( movieViewItem && (\r\n\t\t\t\t\t\t// current itemId on state !== id on searchParam\r\n\t\t\t\t\t\t// eslint-disable-next-line eqeqeq\r\n\t\t\t\t\t\tmovieViewItem.id != movieIdParam\r\n\t\t\t\t))) && movieIdParam\r\n\t\t) {\r\n\t\t\tdispatch(onSetIsLoading());\r\n\t\t\tgoFetchMovieView(selectedMovie ?? movieIdParam)\r\n\t\t\t.then(movieView => {\r\n\t\t\t\tdispatch(onSetMovieItem(movieView))\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\telse if ( !movieIdParam && movieViewItem !== null) {\r\n\t\t\t// @ts-ignore (because \"payload\" type = undefined)\r\n\t\t\tdispatch({type: \"clear-item\"});\r\n\t\t}\r\n\r\n\t}, [movieIdParam, fromSelectedId, isLoading, movieViewItem, selectedMovie]);\r\n\r\n\tconst [movieForViewState, setMovieForViewState] =\r\n\t\tuseState<ReturnHookState>({movieViewItem, isLoading, clearMovieId});\r\n\r\n\tuseEffect(() => {\r\n\t\tsetMovieForViewState({movieViewItem, isLoading, clearMovieId})\r\n\t}, [state]);\r\n\r\n\treturn movieForViewState;\r\n}\r\n\r\nfunction selectedAreEqual(oldItem: IMovieResultItem | null, newItem: IMovieResultItem | null) {\r\n\treturn oldItem?.id === newItem?.id\r\n}\r\n\r\n// Types\r\ntype ItemViewState = IMovieResultItem | IMovieView | null;\r\ntype ReturnHookState = MovieForViewState & {clearMovieId: () => void};\r\n\r\ninterface MovieForViewState {\r\n\tmovieViewItem: ItemViewState;\r\n\tisLoading: boolean;\r\n}\r\n\r\ninterface ActionsTypesToPayloadTypeMap {\r\n\t\"set-is-loading\": undefined;\r\n\t\"set-movie-item\": ItemViewState;\r\n\t\"clear-item\": undefined;\r\n}\r\n\r\ninterface ReducerAction<Type extends keyof ActionsTypesToPayloadTypeMap> {\r\n\ttype: Type;\r\n\tpayload: ActionsTypesToPayloadTypeMap[Type]\r\n}\r\n\r\nexport default useMovieForView;","import React, { FC } from \"react\";\r\nimport styles from \"./movie-view-screen.module.scss\";\r\nimport { animated, UnknownProps, useTransition, UseTransitionProps } from \"react-spring\";\r\nimport IMovieResultItem from \"../../interfaces/app-types/IMovieResultItem\";\r\nimport usePrevious from \"hooks/usePrevious\";\r\nimport MovieViewItem from \"components/movie-view-item\";\r\nimport MovieViewEvent from \"../../utility/custom-events/MovieViewEvent\";\r\nimport useOnMovieView from \"hooks/useOnMovieView\";\r\nimport IMovieView from \"../../interfaces/app-types/IMovieView\";\r\nimport LoadingSpinner from \"components/loading-spinner\";\r\nimport useMovieForView from \"hooks/useMovieForView\";\r\nimport useIsMobile from \"hooks/useIsMobile\";\r\n\r\n\r\ntype ItemState = IMovieResultItem | IMovieView | null;\r\n\r\nconst MovieViewScreen: FC = () => {\r\n\tconst isMobile = useIsMobile();\r\n\r\n\tconst {movieViewItem, isLoading, clearMovieId} = useMovieForView();\r\n\r\n\tconst transitionConfig = getTransitionConfig(movieViewItem, isMobile);\r\n\r\n\tconst prevConfig = usePrevious(transitionConfig);\r\n\r\n\tconst appliedConfig = movieViewItem ? transitionConfig : (prevConfig ?? {});\r\n\r\n\tconst transition = useTransition(movieViewItem, movieViewItem?.id || 0, appliedConfig);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{!isMobile ? (\r\n\t\t\t\ttransition.map(({props, key, item: movieItem}) => movieItem &&\r\n                    <MovieViewRootDiv clearMovieId={clearMovieId} movieViewItem={movieItem} key={key}>\r\n                        <animated.div key={key} className={styles.transitionDiv} style={props as any}>\r\n                            <MovieViewItem movieItem={movieItem}/>\r\n                        </animated.div>\r\n                    </MovieViewRootDiv>\r\n\t\t\t\t)) : (\r\n\t\t\t\ttransition.map(({item: movieItem, key}) => movieItem &&\r\n                    <MovieViewItem key={key} movieItem={movieItem}/>\r\n\t\t\t\t)\r\n\t\t\t)}\r\n\t\t\t{isLoading && <LoadingSpinner fixed darken delay={700}/>}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\ninterface RootDivProps {\r\n\tmovieViewItem: ItemState;\r\n\tclearMovieId: () => void;\r\n}\r\n\r\nconst MovieViewRootDiv: FC<RootDivProps> = React.memo(({children, movieViewItem, clearMovieId}) => {\r\n\tconst [backgroundColor] = useOnMovieView(movieViewItem?.id || 0, '', {\r\n\t\tonEnter: `rgba(0, 0, 0, 0.5)`,\r\n\t\tonClose: undefined\r\n\t});\r\n\r\n\tfunction handleClickAway({target, currentTarget}: React.MouseEvent<HTMLDivElement>) {\r\n\t\tif (target === currentTarget) {\r\n\t\t\t(target as HTMLDivElement).style.backgroundColor = \"rgba(0, 0, 0, 0)\";\r\n\t\t\tclearMovieId();\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={styles.root} onClick={handleClickAway}\r\n\t\t     style={{backgroundColor}}>\r\n\t\t\t{children}\r\n\t\t</div>\r\n\t);\r\n}, () => true);\r\n\r\nfunction getTransitionConfig(movie: ItemState, isMobile: boolean): UnknownProps & UseTransitionProps<ItemState> {\r\n\tif (!movie) return {};\r\n\tlet animatedDiv = document.getElementById(\"main-container\") as HTMLDivElement;\r\n\tconst domRect = document.getElementById(String(movie.id))?.getBoundingClientRect();\r\n\tif (!!movie) {\r\n\t\tlet animatedDomRect = animatedDiv.firstElementChild!.getBoundingClientRect();\r\n\r\n\t\tlet initialPosition;\r\n\r\n\t\tif (domRect) {\r\n\t\t\tinitialPosition = {\r\n\t\t\t\ttop: domRect.top,\r\n\t\t\t\tleft: domRect.left,\r\n\t\t\t\tbottom: window.innerHeight - domRect.bottom,\r\n\t\t\t\twidth: domRect.width,\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\tinitialPosition = {\r\n\t\t\t\ttop: window.innerHeight,\r\n\t\t\t\tleft: animatedDomRect.left,\r\n\t\t\t\tbottom: -10,\r\n\t\t\t\twidth: animatedDomRect.width,\r\n\t\t\t\topacity: 0\r\n\t\t\t};\r\n\t\t}\r\n\r\n\r\n\t\treturn {\r\n\t\t\tfrom: initialPosition,\r\n\t\t\tenter: {\r\n\t\t\t\ttop: window.innerHeight * .10,\r\n\t\t\t\tleft: animatedDomRect.x,\r\n\t\t\t\tbottom: -10,\r\n\t\t\t\twidth: animatedDomRect.width,\r\n\t\t\t\topacity: 1\r\n\t\t\t},\r\n\t\t\tleave: {\r\n\t\t\t\t...initialPosition,\r\n\t\t\t\tconfig: {\r\n\t\t\t\t\tmass: 1.5 && 12,\r\n\t\t\t\t\ttension: 170,\r\n\t\t\t\t\tfriction: 24,\r\n\t\t\t\t\tclamp: true\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tconfig: isMobile ? {\r\n\t\t\t\tduration: 0,\r\n\t\t\t} : {\r\n\t\t\t\tmass: 1.3 && 11,\r\n\t\t\t\ttension: 350,\r\n\t\t\t\tfriction: 97,\r\n\t\t\t\tprecision: 0.8,\r\n\t\t\t\tclamp: true\r\n\t\t\t},\r\n\t\t\tonStart: !isMobile ? (item: ItemState, state: string) => {\r\n\t\t\t\tif (item) {\r\n\t\t\t\t\tif (state === \"enter\") {\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tdispatchEvent(new MovieViewEvent(item.id, \"enter\"));\r\n\t\t\t\t\t\t}, 50);\r\n\t\t\t\t\t} else if (state === \"leave\")\r\n\t\t\t\t\t\tdispatchEvent(new MovieViewEvent(item.id, \"close\"));\r\n\t\t\t\t}\r\n\t\t\t} : undefined,\r\n\t\t\tonRest: !isMobile ? (item: ItemState, state: string) => {\r\n\t\t\t\tif (item) {\r\n\t\t\t\t\tif (state === \"leave\")\r\n\t\t\t\t\t\tdispatchEvent(new MovieViewEvent(item.id, \"leave\"));\r\n\t\t\t\t\telse if (state === \"enter\")\r\n\t\t\t\t\t\tdispatchEvent(new MovieViewEvent(item.id, \"view\"));\r\n\t\t\t\t}\r\n\t\t\t} : undefined\r\n\t\t};\r\n\t} else return {};\r\n}\r\n\r\nexport default React.memo(MovieViewScreen, () => true);","import MovieViewScreen from \"./movie-view-screen.component\";\r\n\r\nexport default MovieViewScreen;","import React, { FC } from \"react\";\r\nimport MovieItemImage from \"components/movie-item-image\";\r\nimport RatingProgressBar from \"components/circled-progress-bar\";\r\nimport MovieViewActionButtons from \"components/movie-view-actions\";\r\nimport IMovieResultItem from \"../../interfaces/app-types/IMovieResultItem\";\r\nimport appProperties from \"../../appProperties\";\r\nimport styles from \"./list-item.module.scss\";\r\nimport { setMovieView } from \"store/movie-view/movie-view.actions\";\r\nimport store from \"store\";\r\nimport { isMovieItem, PortionItemUI } from \"../../hooks/useMovieItems\";\r\nimport LoadingSpinner from \"../loading-spinner\";\r\n\r\nconst {getPosterSrcPathPrefix} = appProperties;\r\n\r\ninterface OwnProps {\r\n\titem: PortionItemUI\r\n}\r\n\r\nconst ListItem: FC<OwnProps> = ({item}) => {\r\n\r\n\tconst onSetMovieView = (item: IMovieResultItem) =>\r\n\t\tstore.dispatch(setMovieView(item))\r\n\r\n    return (\r\n\t    <div className={styles.root}>\r\n\t\t    {isMovieItem(item) ? <>\r\n\t\t\t    <MovieItemImage\r\n\t\t\t\t    backGroundUrl={`url(${getPosterSrcPathPrefix(\"300\")}${item.poster_path})`}\r\n\t\t\t\t    movie={item}\r\n\t\t\t\t    poster_path={item.poster_path}\r\n\t\t\t\t    className={styles.image}\r\n\t\t\t    />\r\n\t\t\t    <div className={styles.info}>\r\n\t\t\t\t    <h3 className={styles.movieTitle}\r\n\t\t\t\t        onClick={() => onSetMovieView(item!)}\r\n\t\t\t\t    >{item.title}</h3>\r\n\t\t\t\t    <div className={styles.itemActions}>\r\n\t\t\t\t\t    <RatingProgressBar score={item.vote_average} itemView/>\r\n\t\t\t\t\t    <MovieViewActionButtons item={item} className={styles.actionButtons}/>\r\n\t\t\t\t    </div>\r\n\t\t\t    </div>\r\n\t\t    </> : <LoadingSpinner delay={100} darken />}\r\n\t    </div>\r\n    );\r\n};\r\n\r\n\r\nexport default ListItem;","import ListItem from \"./list-item.component\";\r\n\r\nexport default ListItem;","import React, { CSSProperties, FC, memo, useEffect } from \"react\";\r\nimport PaginationControls from \"components/pagination-controls\";\r\nimport styles from \"./items-list.module.scss\";\r\nimport LoadingSpinner from \"components/loading-spinner\";\r\nimport ListItem from \"components/list-item\";\r\nimport MovieItemsContainer from \"components/movie-results-container\";\r\nimport { animated, useTransition } from \"react-spring\";\r\nimport { easeOutQuad } from \"../../utility/easingFuctions\";\r\nimport { UnknownProps, UseTransitionProps } from \"@react-spring/core\";\r\nimport useMovieItems, { ItemsPortionUI } from \"../../hooks/useMovieItems\";\r\nimport useSearchParam from \"../../hooks/useSearchParam\";\r\nimport { AccountItemsNames } from \"../../store/movies-browser\";\r\n\r\ninterface Props {\r\n\titemType: AccountItemsNames;\r\n}\r\n\r\nconst ItemsList: FC<Props> = ({itemType}) => {\r\n\r\n\tconst {items, totalPagesUI, pageUI, isLoading} = useMovieItems({name: itemType});\r\n\r\n\tconst [, setPage] = useSearchParam(\"page\");\r\n\r\n\tuseEffect(() => {\r\n\t\tsetPage(currentValue => currentValue ? currentValue : 1)\r\n\t}, [setPage]);\r\n\r\n\tconst title = itemType === \"favorite\" ? \"Favorites\" : \"Watchlist\";\r\n\r\n\treturn (\r\n\t\t<div className={styles.root}>\r\n\t\t\t<div className={styles.head}>\r\n\t\t\t\t<h2 className={styles.title}>{title}</h2>\r\n\t\t\t\t{totalPagesUI>1 && <PaginationControls totalPages={totalPagesUI}/>}\r\n\t\t\t</div>\r\n\r\n\t\t\t{isLoading && <LoadingSpinner darken fixed delay={750} />}\r\n\t\t\t<MovieItemsContainer page={pageUI}>\r\n\t\t\t\t{() => <ListChild items={items} />}\r\n\t\t\t</MovieItemsContainer>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\ninterface ListChildProps {\r\n\titems: ItemsPortionUI\r\n}\r\n\r\nconst ListChild: FC<ListChildProps> = memo(({items}) => {\r\n\r\n\tconst transition = useTransition(items, item => item.key, transitionConfig);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{\r\n\t\t\t\ttransition.map(({item, key, props}) => !!item && (\r\n\t\t\t\t\t<animated.div\r\n\t\t\t\t\t\tkey={key}\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t...props,\r\n\t\t\t\t\t\t\ttransform: props.translateX.interpolate(v =>\r\n\t\t\t\t\t\t\t\tv ? `translateX(${v}px)` : ''\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ListItem item={item} />\r\n\t\t\t\t\t</animated.div>\r\n\t\t\t\t))\r\n\r\n\t\t\t}\r\n\t\t</>\r\n\t);\r\n})\r\n\r\nconst initialStyles: CSSProperties & UnknownProps = {\r\n\topacity: 1,\r\n\tmaxHeight: 500,\r\n\ttranslateX: 0,\r\n\tpaddingBottom: 20,\r\n};\r\n\r\nconst transitionConfig: UnknownProps & UseTransitionProps = {\r\n\tfrom: initialStyles,\r\n\tenter: initialStyles,\r\n\tleave: () => async next => {\r\n\t\t// @ts-ignore\r\n\t\tnext({maxHeight: 0, paddingBottom: 0, delay: 300}).catch(() => void 0)\r\n\t\t// @ts-ignore\r\n\t\tnext({ opacity: -.2, translateX: 300 }).catch(() => void 0)\r\n\t},\r\n\tconfig: {\r\n\t\tduration: 500,\r\n\t\teasing: easeOutQuad\r\n\t},\r\n\tunique: true\r\n}\r\n\r\nexport default ItemsList;","import ItemsList from \"./items-list.component\";\r\n\r\nexport default ItemsList;","import WatchlistPage from \"./watchlist-page.component\";\r\n\r\nexport default WatchlistPage;","import React, { FC } from \"react\";\r\nimport useSavedSessionParams from \"hooks/useSavedSessionParams\";\r\nimport ItemsList from \"components/items-list\";\r\n\r\nconst WatchlistPage: FC = () => {\r\n\r\n\tuseSavedSessionParams();\r\n\r\n    return <ItemsList itemType=\"watchlist\" />\r\n};\r\n\r\n\r\nexport default WatchlistPage;","import FavoritesPage from \"./favorites-page.component\";\r\n\r\nexport default FavoritesPage;","import React, { FC } from \"react\";\r\nimport useSavedSessionParams from \"hooks/useSavedSessionParams\";\r\nimport ItemsList from \"components/items-list\";\r\n\r\n\r\nconst FavoritesPage: FC = () => {\r\n\r\n    useSavedSessionParams();\r\n\r\n    return <ItemsList itemType=\"favorite\" />\r\n};\r\n\r\nexport default FavoritesPage;","import AuthRoute from \"./auth-route.component\";\r\n\r\nexport default AuthRoute;","import React, { FC } from 'react';\r\nimport { RouteProps } from \"react-router\";\r\nimport useAuth from \"../../hooks/useAuth\";\r\nimport { Route } from 'react-router-dom';\r\nimport AuthPage from \"../../pages/auth-page\";\r\n\r\n\r\nconst AuthRoute: FC<RouteProps> = ({component: Component, render, ...rest}) => {\r\n\tconst {isAuth} = useAuth();\r\n\r\n\treturn <Route {...rest} render={(props) => {\r\n\t\tif (!isAuth)\r\n\t\t\treturn <AuthPage/>\r\n\t\telse if (Component)\r\n\t\t\treturn <Component {...props} />\r\n\t\telse if (render)\r\n\t\t\treturn render(props)\r\n\t\telse return null\r\n\t}}/>\r\n};\r\n\r\n\r\nexport default AuthRoute;","import React, { FC, useEffect } from \"react\";\nimport AppBar from \"./components/app-bar\";\nimport Container from \"@material-ui/core/Container\";\nimport styles from \"./App.module.scss\";\nimport SearchPage from \"pages/search-page\";\nimport { goFetchUserAccount } from \"utility\";\nimport { Route, Switch } from \"react-router-dom\";\nimport HomePage from \"pages/home-page\";\nimport MovieViewScreen from \"components/movie-view-screen\";\nimport { setUser } from \"store/user/user.actions\";\nimport store from \"store\";\nimport AuthPage from \"pages/auth-page\";\nimport useIsMobile from \"hooks/useIsMobile\";\nimport WatchlistPage from \"pages/watchlist-page\";\nimport FavoritesPage from \"pages/favorites-page\";\nimport AuthRoute from \"components/auth-route\";\n\nconst routesChildren = (\n\t<>\n\t\t<Route exact path=\"/\" render={() => <HomePage /> } />\n\t\t<Route path=\"/search\" render={() => <SearchPage /> } />\n\t\t<AuthRoute path=\"/favorites\" render={() => <FavoritesPage /> } />\n\t\t<AuthRoute path=\"/watchlist\" render={() => <WatchlistPage /> } />\n\t\t<Route path=\"/account\" render={() => <AuthPage /> } />\n\t</>\n);\n\n\nconst App: FC = () => {\n\tconst isMobile = useIsMobile();\n\n\tuseEffect(() => {\n\t\tsessionStorage.clear();\n\t\tgoFetchUserAccount()\n\t\t\t.then(user => store.dispatch(setUser(user)))\n\t\t\t.catch(console.error)\n\t}, []);\n\n\treturn (<div className={styles.root}>\n\t\t<AppBar/>\n\t\t<main className={styles.main} id=\"main-container\">\n\t\t\t<Container>\n\t\t\t\t{!isMobile ? (\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t{routesChildren}\n\t\t\t\t\t</Switch>\n\t\t\t\t\t) : (\n\t\t\t\t\t<Route render={ ({location}) => {\n\t\t\t\t\t\tif (!location.search.includes('movieId'))\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Switch location={location}>\n\t\t\t\t\t\t\t\t\t{routesChildren}\n\t\t\t\t\t\t\t\t</Switch>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\telse return <MovieViewScreen/>\n\t\t\t\t\t}}/>\n\t\t\t\t)}\n\t\t\t</Container>\n\t\t\t{!isMobile && <MovieViewScreen/>}\n\t\t</main>\n\t</div>);\n};\n\n\nexport default App;\n","// @ts-nocheck\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport './styles/index.scss';\nimport * as serviceWorker from \"./serviceWorker\";\nimport 'typeface-roboto';\nimport { HashRouter } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport store from \"store\";\nimport { StylesProvider } from \"@material-ui/core/styles\";\nimport { onWorkerFetchedDoneEvent } from \"utility\";\n// @ts-ignore\n// eslint-disable-next-line import/no-webpack-loader-syntax\nimport Worker from \"worker-loader!./myWebWorker\";\n\nwindow.worker = new Worker();\nwindow.worker.onmessage = onWorkerFetchedDoneEvent;\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n\nconst rootPath =\n    process.env.NODE_ENV === 'development' ? '/' : '/movie-ratings-app/';\n\nconst render = () => {\n    const App = require('./App').default\n\n    ReactDOM.render(\n        <Provider store={store}>\n            <HashRouter basename={rootPath}>\n                <StylesProvider injectFirst>\n                    <App />\n                </StylesProvider>\n            </HashRouter>\n        </Provider>,\n        document.getElementById('root')\n    )\n}\n\nrender();\n\n// @ts-ignore\nif (process.env.NODE_ENV === 'development' && module.hot) module.hot.accept('./App', render);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"home-page_root__2-E_q\",\"content\":\"home-page_content__2DYa5\",\"sectionSpotlight\":\"home-page_sectionSpotlight__234NV\",\"sectionTitle\":\"home-page_sectionTitle__ND_aN\",\"sectionContentWrapper\":\"home-page_sectionContentWrapper__1qtbg\",\"sectionContent\":\"home-page_sectionContent__3oypc\",\"gridContainer\":\"home-page_gridContainer__3QeH7\",\"gridItem\":\"home-page_gridItem__Q70rq\",\"nowPlayingContainer\":\"home-page_nowPlayingContainer__3GXQT\",\"mainMovieItem\":\"home-page_mainMovieItem__2yXC8\",\"subMovieItemContainerWrapper\":\"home-page_subMovieItemContainerWrapper__3Twb0\",\"subMovieItemContainer\":\"home-page_subMovieItemContainer__4tiGn\",\"subMovieItemContainerItem\":\"home-page_subMovieItemContainerItem__2zsRL\",\"hoveredBox\":\"home-page_hoveredBox__bpY7K\",\"hoveredBg\":\"home-page_hoveredBg__2OVsD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"movie-view-actions_root__1keFE\",\"iconWrapper\":\"movie-view-actions_iconWrapper__373Yc\",\"rotateLoading\":\"movie-view-actions_rotateLoading__1IIst\",\"icon\":\"movie-view-actions_icon__3FBHQ\",\"ratingModalContainer\":\"movie-view-actions_ratingModalContainer__qWecy\",\"ratingModal\":\"movie-view-actions_ratingModal__1pStS\",\"removeButton\":\"movie-view-actions_removeButton__3q4JD\",\"showAuth\":\"movie-view-actions_showAuth__1NDq0\",\"xButton\":\"movie-view-actions_xButton__3q70E\",\"toolTip\":\"movie-view-actions_toolTip__23lw6\",\"mobileSubmit\":\"movie-view-actions_mobileSubmit__1N0Va\"};","import IMoviesSearchData, { ResultItemsObject } from \"../../interfaces/app-types/IMoviesSearchData\";\r\nimport IMoviesSearchError from \"../../interfaces/app-types/IMoviesSearchError\";\r\nimport { AccountItemsNames, ISearchActions, MoviesBrowseNames } from \"./\";\r\nimport { ThunkAction } from \"redux-thunk\";\r\nimport { AppState, AppThunk } from \"store\";\r\nimport IMoviesResponseData from \"../../interfaces/app-types/IMoviesResponseData\";\r\nimport { calculatePageOnApi, convertResultsData, getSearchParam, goFetchPostersOnWorker } from \"utility\";\r\nimport appProperties from \"../../appProperties\";\r\nimport IMovieResultItem from \"../../interfaces/app-types/IMovieResultItem\";\r\n\r\nconst {buildFetchMovieSearchUrl, itemsPerPageUI, getItemsBrowseUrl} = appProperties;\r\n\r\nexport enum MoviesBrowserActionTypes {\r\n    FETCH_MOVIES_START = \"FETCH_MOVIES_START\",\r\n    FETCH_MOVIES_SUCCESS = \"FETCH_MOVIES_SUCCESS\",\r\n    FETCH_MOVIES_FAILURE = \"FETCH_MOVIES_FAILURE\",\r\n    FETCH_MORE_MOVIES_START = \"FETCH_MORE_MOVIES_START\",\r\n    FETCH_MORE_MOVIES_SUCCESS = \"FETCH_MORE_MOVIES_SUCCESS\",\r\n    FETCH_MORE_MOVIES_FAILURE = \"FETCH_MORE_MOVIES_FAILURE\",\r\n    CLEAR_FETCHED_MOVIES = \"CLEAR_FETCHED_MOVIES\",\r\n    UNSHIFT_TO_LIST_ITEMS = \"UNSHIFT_TO_LIST_ITEMS\", // these last two are for updating \"favorite\" and \"watchlist\"\r\n    REMOVE_FROM_LIST_ITEMS = \"REMOVE_FROM_LIST_ITEMS\"\r\n}\r\n\r\n/**\r\n * @param name Values: \"watchlist\" & \"favorite\" need authentication\r\n * */\r\nexport default function getMoviesBrowserActions<T extends MoviesBrowseNames>(name: T) {\r\n\r\n    let unshiftToFavorites: ((item: IMovieResultItem) => ISearchActions)|undefined = undefined;\r\n    let removeFromListItems: ((id: number) => ISearchActions)|undefined = undefined;\r\n\r\n    if (name === \"favorite\" || name === \"watchlist\") {\r\n        unshiftToFavorites = (item: IMovieResultItem): ISearchActions => ({\r\n            type: MoviesBrowserActionTypes.UNSHIFT_TO_LIST_ITEMS,\r\n            payload: item,\r\n            name: name as AccountItemsNames\r\n        });\r\n\r\n        removeFromListItems = (id: number): ISearchActions => ({\r\n            type: MoviesBrowserActionTypes.REMOVE_FROM_LIST_ITEMS,\r\n            payload: id,\r\n            name: name as AccountItemsNames\r\n        });\r\n    }\r\n\r\n    const browseActions = {\r\n        clearFetchedMovies: (): ISearchActions => ({\r\n            type: MoviesBrowserActionTypes.CLEAR_FETCHED_MOVIES,\r\n            name\r\n        }),\r\n\r\n        fetchMoviesStart: (): ISearchActions => ({\r\n            type: MoviesBrowserActionTypes.FETCH_MOVIES_START,\r\n            name\r\n        }),\r\n\r\n        fetchMoviesSuccess: (data: IMoviesSearchData, searchTerm: string): ISearchActions => ({\r\n            type: MoviesBrowserActionTypes.FETCH_MOVIES_SUCCESS,\r\n            payload: {data, searchTerm},\r\n            name\r\n        }),\r\n\r\n        fetchMoviesFailure: (error: IMoviesSearchError): ISearchActions => ({\r\n            type: MoviesBrowserActionTypes.FETCH_MOVIES_FAILURE,\r\n            payload: error,\r\n            name\r\n        }),\r\n\r\n        fetchMoviesAsync(searchTerm: string = '', pageApi: number = 1): AppThunk<ISearchActions> {\r\n            return async dispatch => {\r\n                if (name === \"search\" && !searchTerm) return;\r\n                // Start\r\n                dispatch(this.fetchMoviesStart());\r\n                try {\r\n                    let res = await fetch(getItemsBrowseUrl(name, searchTerm, pageApi));\r\n                    if (!res.ok) {\r\n                        let error: IMoviesSearchError = await res.json();\r\n                        dispatch(this.fetchMoviesFailure(error)); // Failure\r\n                    } else {\r\n                        let data: IMoviesResponseData = await res.json();\r\n\r\n                        goFetchPostersOnWorker(data.results);\r\n\r\n                        let transformedData: IMoviesSearchData = {\r\n                            ...data,\r\n                            results: convertResultsData(data.results, pageApi)\r\n                        };\r\n\r\n                        dispatch(this.fetchMoviesSuccess(transformedData, searchTerm)); // Success\r\n                    }\r\n                } catch (error) {\r\n                    dispatch(\r\n                        this.fetchMoviesFailure({\r\n                            errors: [\"Internal server error.\"] // Failure\r\n                        })\r\n                    );\r\n                }\r\n            };\r\n        },\r\n\r\n        fetchMoreMoviesStart: (): ISearchActions => ({\r\n            type: MoviesBrowserActionTypes.FETCH_MORE_MOVIES_START,\r\n            name\r\n        }),\r\n\r\n        fetchMoreMoviesSuccess: (results: ResultItemsObject, fetchedPage: number): ISearchActions => ({\r\n            type: MoviesBrowserActionTypes.FETCH_MORE_MOVIES_SUCCESS,\r\n            payload: {results, fetchedPage},\r\n            name\r\n        }),\r\n\r\n        fetchMoreMoviesFailure: (error: IMoviesSearchError): ISearchActions => ({\r\n            type: MoviesBrowserActionTypes.FETCH_MORE_MOVIES_FAILURE,\r\n            payload: error,\r\n            name\r\n        }),\r\n\r\n        fetchMoreMoviesAsync(nextPageOnApi: number, ...otherPagesOnApi: number[]):\r\n            ThunkAction<void, AppState, null, ISearchActions> {\r\n            return async (dispatch, getState) => {\r\n                let searchTerm = getSearchParam(\"s\") || '';\r\n                // Start\r\n                dispatch(this.fetchMoreMoviesStart());\r\n                try {\r\n                    let res = await fetch(getItemsBrowseUrl(name, searchTerm, nextPageOnApi));\r\n                    if (!res.ok) {\r\n                        let error: IMoviesSearchError = await res.json();\r\n                        dispatch(this.fetchMoreMoviesFailure(error)); // Failure\r\n                    } else {\r\n                        let data: IMoviesResponseData = await res.json();\r\n\r\n                        goFetchPostersOnWorker(data.results);\r\n\r\n                        let resultsObject = convertResultsData(data.results, nextPageOnApi);\r\n\r\n                        dispatch(this.fetchMoreMoviesSuccess(resultsObject, nextPageOnApi)) // Success\r\n                    }\r\n                } catch (error) {\r\n                    dispatch(\r\n                        this.fetchMoreMoviesFailure({\r\n                            errors: [\"Internal server error.\"] // Failure\r\n                        })\r\n                    );\r\n                } finally {\r\n                    if (otherPagesOnApi.length) {\r\n                        // @ts-ignore\r\n                        dispatch(this.fetchMoreMoviesAsync(...otherPagesOnApi))\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        checkIfFetchMore(pageUI: number): AppThunk<ISearchActions> {\r\n            return async (dispatch, getState) => {\r\n                if (!pageUI || name === \"trendingWeek\") return;\r\n                const { apiFetchedPages, searchData, isFetchingMore } = getState()[name];\r\n\r\n                if (isFetchingMore) return;\r\n\r\n                const pageOnApi = calculatePageOnApi(pageUI);\r\n                const nextUIPageOnApi = calculatePageOnApi(pageUI, \"next\")\r\n                const total_pages = searchData?.total_pages || 0;\r\n\r\n                const isFetchPage = (pageOnApi: number) =>\r\n                    pageOnApi>0 && pageOnApi<=total_pages && !apiFetchedPages.includes(pageOnApi);\r\n\r\n                const pagesToFetch: number[] = [];\r\n\r\n                isFetchPage(nextUIPageOnApi)   && pagesToFetch.push(nextUIPageOnApi);\r\n                isFetchPage(pageOnApi)         && pagesToFetch.push(pageOnApi);\r\n                isFetchPage(pageOnApi-1)       && pagesToFetch.push(pageOnApi-1);\r\n                isFetchPage(pageOnApi-2)       && pagesToFetch.push(pageOnApi-2);\r\n\r\n                if (pagesToFetch.length) {\r\n                    // @ts-ignore\r\n                    dispatch(this.fetchMoreMoviesAsync(...pagesToFetch));\r\n                }\r\n            }\r\n        },\r\n        unshiftToFavorites: (unshiftToFavorites as T extends AccountItemsNames ? NonNullable<typeof unshiftToFavorites> : undefined),\r\n        removeFromListItems: (removeFromListItems as T extends AccountItemsNames ? NonNullable<typeof removeFromListItems> : undefined),\r\n\r\n    }\r\n\r\n    return browseActions as T extends AccountItemsNames ? typeof browseActions : Omit<typeof browseActions, \"unshiftToFavorites\" | \"removeFromListItems\">\r\n}\r\n","import IMovieResultItem from \"../../interfaces/app-types/IMovieResultItem\";\r\nimport { IMovieViewActions } from \"./\";\r\n\r\nexport enum MovieViewActionsTypes {\r\n\tSET_MOVIE_VIEW = 'SET_MOVIE_VIEW',\r\n\tCLEAR_MOVIE_VIEW = 'CLEAR_MOVIE_VIEW'\r\n}\r\n\r\nexport const setMovieView = (item: IMovieResultItem): IMovieViewActions => ({\r\n\ttype: MovieViewActionsTypes.SET_MOVIE_VIEW,\r\n\tpayload: item\r\n});\r\n\r\nexport const clearMovieView = (): IMovieViewActions => ({\r\n\ttype: MovieViewActionsTypes.CLEAR_MOVIE_VIEW,\r\n});","// no easing, no acceleration\r\nexport const linear = function(t) {\r\n  return t;\r\n};\r\n// accelerating from zero velocity\r\nexport const easeInQuad = function(t) {\r\n  return t * t;\r\n};\r\n// decelerating to zero velocity\r\nexport const easeOutQuad = function(t) {\r\n  return t * (2 - t);\r\n};\r\n// acceleration until halfway, then deceleration\r\nexport const easeInOutQuad = function(t) {\r\n  return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\r\n};\r\n// accelerating from zero velocity\r\nexport const easeInCubic = function(t) {\r\n  return t * t * t;\r\n};\r\n// decelerating to zero velocity\r\nexport const easeOutCubic = function(t) {\r\n  return --t * t * t + 1;\r\n};\r\n// acceleration until halfway, then deceleration\r\nexport const easeInOutCubic = function(t) {\r\n  return t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\r\n};\r\n// accelerating from zero velocity\r\nexport const easeInQuart = function(t) {\r\n  return t * t * t * t;\r\n};\r\n// decelerating to zero velocity\r\nexport const easeOutQuart = function(t) {\r\n  return 1 - --t * t * t * t;\r\n};\r\n// acceleration until halfway, then deceleration\r\nexport const easeInOutQuart = function(t) {\r\n  return t < 0.5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t;\r\n};\r\n// accelerating from zero velocity\r\nexport const easeInQuint = function(t) {\r\n  return t * t * t * t * t;\r\n};\r\n// decelerating to zero velocity\r\nexport const easeOutQuint = function(t) {\r\n  return 1 + --t * t * t * t * t;\r\n};\r\n// acceleration until halfway, then deceleration\r\nexport const easeInOutQuint = function(t) {\r\n  return t < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * --t * t * t * t * t;\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"app-bar_root__ZaWLU\",\"logo\":\"app-bar_logo__gW0P4\",\"toolBar\":\"app-bar_toolBar__3tX9V\",\"navItem\":\"app-bar_navItem__EZmlQ\",\"navItemIcon\":\"app-bar_navItemIcon__3IKWo\",\"avatar\":\"app-bar_avatar__1X2-X\",\"navItemTxt\":\"app-bar_navItemTxt__huMFw\",\"isOpen\":\"app-bar_isOpen__35lBP\",\"onNavHover\":\"app-bar_onNavHover__K89v7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"runAnimation\":\"movie-result-item_runAnimation__X9hb_\",\"onViewRest\":\"movie-result-item_onViewRest__1-46_\",\"root\":\"movie-result-item_root__1UwRT\",\"content\":\"movie-result-item_content__1TfaJ\",\"wrapper\":\"movie-result-item_wrapper__3XDt2\",\"header\":\"movie-result-item_header__1Vzu4\",\"title\":\"movie-result-item_title__39tTB\",\"year\":\"movie-result-item_year__1Mho9\",\"overViewSection\":\"movie-result-item_overViewSection__38QXw\",\"info\":\"movie-result-item_info__3nKmA\",\"loadingPulse\":\"movie-result-item_loadingPulse__1B3cH\",\"opacityPulse\":\"movie-result-item_opacityPulse__2XXIc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"movie-result-skeleton_root__3qHsq\",\"imageWrapper\":\"movie-result-skeleton_imageWrapper__33o31\",\"opacityPulse\":\"movie-result-skeleton_opacityPulse__1Z9f0\",\"image\":\"movie-result-skeleton_image__2mssJ\",\"content\":\"movie-result-skeleton_content__2DMMu\",\"wrapper\":\"movie-result-skeleton_wrapper__21vpy\",\"header\":\"movie-result-skeleton_header__2B94f\",\"title\":\"movie-result-skeleton_title__2zcIy\",\"year\":\"movie-result-skeleton_year__2u-ar\",\"info\":\"movie-result-skeleton_info__2zErA\",\"infoWrapper\":\"movie-result-skeleton_infoWrapper__L_6pL\",\"circle\":\"movie-result-skeleton_circle__1qM-d\",\"loadingPulse\":\"movie-result-skeleton_loadingPulse__2GBI2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"movie-view-info_root__29ehZ\",\"title\":\"movie-view-info_title__2UGWO\",\"sideInfoItem\":\"movie-view-info_sideInfoItem__-MyRA\"};","import { UserActions, UserState } from \"./index\";\r\n\r\nexport enum UserActionsTypes {\r\n\tSET_USER = \"SET_USER\",\r\n\tCLEAR_USER = \"CLEAR_USER\"\r\n}\r\n\r\n\r\nexport const setUser = (user: UserState): UserActions => ({\r\n\ttype: UserActionsTypes.SET_USER,\r\n\tpayload: user\r\n});\r\n\r\nexport const clearUser = (): UserActions => ({\r\n\ttype: UserActionsTypes.CLEAR_USER\r\n});","import IMovieImgSessionObj from \"../interfaces/app-types/IMovieImgSessionObj\";\r\n\r\nclass CanvasImgDataConverter {\r\n    private static CANVAS = document.createElement('canvas');\r\n    private static CONTEXT = CanvasImgDataConverter.CANVAS.getContext && CanvasImgDataConverter.CANVAS.getContext('2d');\r\n\r\n    public static makeMovieImgSessionObj(imgEl: HTMLImageElement): IMovieImgSessionObj | never {\r\n        let canvas = CanvasImgDataConverter.CANVAS;\r\n        let context = CanvasImgDataConverter.CONTEXT;\r\n\r\n        if (!context) {\r\n            throw new Error(\"canvas context not supported\");\r\n        }\r\n        let data: ImageData;\r\n        let blockSize = 8, // only visit every 8 pixels\r\n            width, height,\r\n            i = -4,\r\n            length,\r\n            rgb = {r: 0, g: 0, b: 0}, jpgData = '',\r\n            count = 0;\r\n\r\n        height = canvas.height = imgEl.naturalHeight || imgEl.offsetHeight || imgEl.height;\r\n        width  = canvas.width  = imgEl.naturalWidth  || imgEl.offsetWidth  || imgEl.width;\r\n\r\n        context.drawImage(imgEl, 0, 0);\r\n\r\n        try {\r\n            data = context.getImageData(0, 0, width, height);\r\n            jpgData = canvas.toDataURL(\"image/jpeg\", .1);\r\n        } catch(e) {\r\n            console.error(e)\r\n            throw new Error(e);\r\n        }\r\n\r\n        length = data.data.length;\r\n\r\n        while ( (i += blockSize * 4) < length ) {\r\n            ++count;\r\n            rgb.r += data.data[i];\r\n            rgb.g += data.data[i+1];\r\n            rgb.b += data.data[i+2];\r\n        }\r\n\r\n        // ~~ used to floor values\r\n        rgb.r = ~~(rgb.r/count);\r\n        rgb.g = ~~(rgb.g/count);\r\n        rgb.b = ~~(rgb.b/count);\r\n\r\n        return {\r\n            jpgData,\r\n            averageColor: `rgb(${rgb.r}, ${rgb.g}, ${rgb.b})`\r\n        };\r\n    }\r\n}\r\n\r\nexport default CanvasImgDataConverter;","import IMovieImgSessionObj from \"../../interfaces/app-types/IMovieImgSessionObj\";\r\n\r\nclass ImageDataEvent extends CustomEvent<ImageDataEventDetail> {\r\n    constructor(movieId: number, imgData: IMovieImgSessionObj) {\r\n        super(\"imageData\", {\r\n            detail: {\r\n                movieId,\r\n                imgData\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\ninterface ImageDataEventDetail {\r\n    movieId: number;\r\n    imgData: IMovieImgSessionObj;\r\n}\r\n\r\nexport default ImageDataEvent;","import IMovieResultItem from \"../interfaces/app-types/IMovieResultItem\";\r\nimport { ResultItemsObject } from \"../interfaces/app-types/IMoviesSearchData\";\r\nimport IMovieImgSessionObj from \"../interfaces/app-types/IMovieImgSessionObj\";\r\nimport appProperties from \"../appProperties\";\r\nimport CanvasImgDataConverter from \"./CanvasImgDataConverter\";\r\nimport WorkerFetchedDoneEvent from \"../interfaces/custom-events-types/WorkerFetchedDoneEvent\";\r\nimport ImageDataEvent from \"./custom-events/ImageDataEvent\";\r\nimport SearchParamsMap from \"../interfaces/app-types/SearchParamsMap\";\r\nimport IMovieView from \"../interfaces/app-types/IMovieView\";\r\nimport { UserState } from \"store/user\";\r\nimport TokenData from \"../interfaces/app-types/TokenData\";\r\n\r\nconst {buildFetchMovieViewUrl, newSessionUrl, getAccountUrl, itemsPerPageUI} = appProperties;\r\n\r\nexport function wait(time: number) {\r\n\treturn new Promise((resolve) => {\r\n\t\tsetTimeout(resolve, time);\r\n\t});\r\n}\r\n\r\nexport function checkIsMobile(): boolean {\r\n\treturn window.innerWidth <= 600;\r\n}\r\n\r\nexport function hslInterval(\r\n\t[h1, s1, l1]: [number, number, number],\r\n\t[h2, s2, l2]: [number, number, number],\r\n\tweight: number): [number, number, number] {\r\n\t// difference * weight\r\n\tconst [h_toAdd, s_toAdd, l_toAdd] = [\r\n\t\tMath.abs(h1 - h2) * weight,\r\n\t\tMath.abs(s1 - s2) * weight,\r\n\t\tMath.abs(l1 - l2) * weight,\r\n\t];\r\n\r\n\treturn [\r\n\t\th1 < h2 ? h1 + h_toAdd : h1 - h_toAdd,\r\n\t\ts1 < s2 ? s1 + s_toAdd : s1 - s_toAdd,\r\n\t\tl1 < l2 ? l1 + l_toAdd : l1 - l_toAdd,\r\n\t];\r\n}\r\n\r\nexport function hslToHex([h, s, l]: [number, number, number]): string {\r\n\th /= 360;\r\n\ts /= 100;\r\n\tl /= 100;\r\n\tlet r, g, b;\r\n\tif (s === 0) {\r\n\t\tr = g = b = l; // achromatic\r\n\t} else {\r\n\t\tconst hue2rgb = (p: number, q: number, t: number) => {\r\n\t\t\tif (t < 0) t += 1;\r\n\t\t\tif (t > 1) t -= 1;\r\n\t\t\tif (t < 1 / 6) return p + (q - p) * 6 * t;\r\n\t\t\tif (t < 1 / 2) return q;\r\n\t\t\tif (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\r\n\t\t\treturn p;\r\n\t\t};\r\n\t\tconst q = l < 0.5 ? l * (1 + s) : l + s - l * s;\r\n\t\tconst p = 2 * l - q;\r\n\t\tr = hue2rgb(p, q, h + 1 / 3);\r\n\t\tg = hue2rgb(p, q, h);\r\n\t\tb = hue2rgb(p, q, h - 1 / 3);\r\n\t}\r\n\tconst toHex = (x: number) => {\r\n\t\tconst hex = Math.round(x * 255).toString(16);\r\n\t\treturn hex.length === 1 ? '0' + hex : hex;\r\n\t};\r\n\treturn `#${toHex(r)}${toHex(g)}${toHex(b)}`;\r\n}\r\n\r\n\r\n/**\r\n * Converts IMovieResultItem[] to ResultItemsObject\r\n * @see ResultItemsObject\r\n * @see IMovieResultItem\r\n * @return {ResultItemsObject} The transformed array to a map(object)\r\n * */\r\nexport function convertResultsData(results: IMovieResultItem[], pageApi: number = 1): ResultItemsObject {\r\n\tlet transformedData: ResultItemsObject = {};\r\n\tlet startIndex = (pageApi - 1) * 20;\r\n\tresults.forEach((value, index) => {\r\n\t\tlet insertIndex = startIndex + index;\r\n\t\ttransformedData[insertIndex] = value\r\n\t\t// @ts-ignore\r\n\t\ttransformedData[insertIndex].key = insertIndex\r\n\t});\r\n\treturn transformedData;\r\n}\r\n\r\nexport function onWorkerFetchedDoneEvent({data: {blobUrl, id}}: WorkerFetchedDoneEvent) {\r\n\tif (sessionStorage.getItem(String(id))) {\r\n\t\tURL.revokeObjectURL(blobUrl);\r\n\t\treturn;\r\n\t}\r\n\r\n\tlet img = new Image();\r\n\timg.crossOrigin = \"anonymous\";\r\n\timg.onload = () => {\r\n\t\ttry {\r\n\t\t\tlet movieImgDataObj = (CanvasImgDataConverter.makeMovieImgSessionObj(img) as IMovieImgSessionObj);\r\n\t\t\tsaveMovieImgDataOnSession(movieImgDataObj, id);\r\n\t\t\tdispatchEvent(new ImageDataEvent(id, movieImgDataObj));\r\n\t\t} catch (e) {\r\n\t\t\tconsole.error(e);\r\n\t\t}\r\n\t};\r\n\timg.src = blobUrl;\r\n}\r\n\r\nexport function goFetchPostersOnWorker(item_s_: IMovieResultItem[] | IMovieResultItem | undefined): void {\r\n\tif (!item_s_) return;\r\n\r\n\tconst isArray = Array.isArray(item_s_);\r\n\tlet toFetch: IMovieResultItem[];\r\n\r\n\tif (isArray) {\r\n\t\ttoFetch = (item_s_ as IMovieResultItem[]).filter(({id, poster_path}) =>\r\n\t\t\tposter_path && !sessionStorage.getItem(String(id))\r\n\t\t);\r\n\t} else toFetch = [item_s_ as IMovieResultItem];\r\n\r\n\tif (!(isArray && (toFetch as []).length === 0))\r\n\t\twindow.worker.postMessage(toFetch);\r\n}\r\n\r\nfunction saveMovieImgDataOnSession(movieImgSessionObj: IMovieImgSessionObj, movieId: number) {\r\n\tsessionStorage.setItem(String(movieId), JSON.stringify(movieImgSessionObj));\r\n}\r\n\r\nexport function getMovieImgObjFromSession(movieId: number): IMovieImgSessionObj | undefined {\r\n\tlet movieImgDataObj: IMovieImgSessionObj | undefined;\r\n\tlet imgJsonData = sessionStorage.getItem(String(movieId));\r\n\r\n\tif (imgJsonData)\r\n\t\tmovieImgDataObj = (JSON.parse(imgJsonData) as IMovieImgSessionObj);\r\n\r\n\treturn movieImgDataObj;\r\n}\r\n\r\nexport function clearTimeouts(...timeouts: (NodeJS.Timeout | undefined)[]): void {\r\n\tfor (let timeout of timeouts)\r\n\t\tif (timeout)\r\n\t\t\tclearTimeout(timeout);\r\n}\r\n\r\nconst months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\r\n\r\nexport function getReadableDate(isoDate: string) {\r\n\tlet date = isoDate.split('-').map(n => Number(n));\r\n\tlet month = months[date[1] - 1];\r\n\tlet day = date[2];\r\n\tlet year = date[0];\r\n\r\n\treturn `${month} ${day}, ${year}`;\r\n}\r\n\r\nexport const formatToUSD = new Intl.NumberFormat('en-US', {\r\n\tcurrency: \"USD\"\r\n}).format;\r\n\r\nexport function minutesToRuntimeDisplay(minutes: number) {\r\n\tlet hours = Math.floor(minutes / 60);\r\n\tlet remaining = minutes % 60;\r\n\treturn `${hours}h ${remaining}m`;\r\n}\r\n\r\nexport function getSearchParam<Param extends keyof SearchParamsMap>(paramName: Param): SearchParamsMap[Param] | null {\r\n\tlet query = window.location.hash.split(\"?\")[1];\r\n\tlet param = new URLSearchParams(query).get(paramName);\r\n\treturn fixParamValue<Param>(param);\r\n}\r\n\r\nexport function fixParamValue<Param extends keyof SearchParamsMap>(param: string | null) {\r\n\tif(param === null) return null;\r\n\tlet paramNum = Number(param);\r\n\treturn (Object.is(paramNum, NaN) ? param : paramNum) as SearchParamsMap[Param] | null;\r\n}\r\n\r\nexport function setSearchParam<Param extends keyof SearchParamsMap>\r\n(paramName: Param, value: SearchParamsMap[Param] | null): void {\r\n\tlet [hash, hashQuery] = window.location.hash.split(\"?\");\r\n\tlet newParams = new URLSearchParams(hashQuery);\r\n\r\n\tvalue === null ?\r\n\t\tnewParams.delete(paramName) : newParams.set(paramName, String(value));\r\n\r\n\twindow.location.hash = hash.substr(1) + \"?\" + newParams.toString();\r\n}\r\n\r\nexport function isMovieView(movie: IMovieResultItem | IMovieView | null): movie is IMovieView {\r\n\tif (!movie) return false;\r\n\treturn 'budget' in movie;\r\n}\r\n\r\nexport function goFetchMovieView(movieId_or_Item: number | IMovieResultItem): Promise<IMovieView> {\r\n\tlet id: number;\r\n\r\n\tif (typeof movieId_or_Item === \"number\") {\r\n\t\tid = movieId_or_Item;\r\n\t} else {\r\n\t\tid = movieId_or_Item.id;\r\n\t\tgoFetchPostersOnWorker(movieId_or_Item);\r\n\t}\r\n\r\n\treturn new Promise<IMovieView>((resolve) => {\r\n\t\tfetch(buildFetchMovieViewUrl(id))\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(resolve)\r\n\t\t\t.catch(console.error);\r\n\t});\r\n}\r\n\r\nexport function goFetch<T = any>(url: string, options?: RequestInit) {\r\n\treturn new Promise<T>((resolve) => {\r\n\t\tfetch(url, options)\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(resolve)\r\n\t\t\t.catch(console.log);\r\n\t});\r\n}\r\n\r\nexport function scrollToTop() {\r\n\tdocument.scrollingElement?.scrollTo(0, 0);\r\n}\r\n\r\nexport async function goFetchUserAccount(): Promise<UserState> {\r\n\tlet fetchUrl: string;\r\n\r\n\tconst session_id = localStorage.getItem(\"session_id\");\r\n\r\n\tif (!session_id) {\r\n\t\tconst searchParams = new URLSearchParams(window.location.search);\r\n\t\tconst requestToken = searchParams.get('request_token');\r\n\t\tconst approved = searchParams.get('approved');\r\n\r\n\t\tif (requestToken && approved && approved === 'true') {\r\n\t\t\ttry {\r\n\t\t\t\tlet fetchedSessionId = await goFetchSessionId(requestToken);\r\n\t\t\t\tfetchUrl = getAccountUrl(fetchedSessionId);\r\n\t\t\t\talert(\"Successfully logged in!\");\r\n\t\t\t\tlocalStorage.setItem(\"session_id\", fetchedSessionId);\r\n\t\t\t} catch (e) {\r\n\t\t\t\tthrow e;\r\n\t\t\t}\r\n\t\t}\r\n\t\t// eslint-disable-next-line no-throw-literal\r\n\t\telse throw \"No user logged in\";\r\n\r\n\t} else {\r\n\t\tfetchUrl = getAccountUrl(session_id);\r\n\t}\r\n\r\n\tconst res = await fetch(fetchUrl);\r\n\r\n\treturn await res.json();\r\n}\r\n\r\nasync function goFetchSessionId(request_token: string): Promise<string> {\r\n\r\n\tconst init: RequestInit = {\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify({request_token}),\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'application/json'\r\n\t\t}\r\n\t};\r\n\r\n\tconst res = await fetch(newSessionUrl, init);\r\n\r\n\tconst data = await res.json();\r\n\r\n\treturn data.session_id as string;\r\n}\r\n\r\n/**\r\n * @return The corresponding page in API based on the current page on UI\r\n * */\r\nexport function calculatePageOnApi(pageUI: number, offSet: \"current\" | \"previous\" | \"next\" = \"current\") {\r\n\t// (API = 20 items/page) & (UI = 9 items/page)\r\n\tlet offBy = 0;\r\n\tswitch (offSet) {\r\n\t\tcase \"previous\":\r\n\t\t\t(offBy = -itemsPerPageUI);\r\n\t\t\tbreak;\r\n\t\tcase \"next\":\r\n\t\t\t(offBy = itemsPerPageUI);\r\n\t\t\tbreak;\r\n\t\tdefault: break;\r\n\t}\r\n\treturn Math.ceil(\r\n\t\t((pageUI * itemsPerPageUI) + offBy) / 20\r\n\t) || 1;\r\n}\r\n\r\n\r\nexport function goFetchRequestToken() {\r\n\r\n}\r\n\r\n/**\r\n *  @return the current path on a HashBrowser-based url\r\n *  @param url Can be either a full URL of a hash portion\r\n * */\r\nexport const getHashPath = (url: string = window.location.hash): string =>\r\n\t(url[0] === '#' ? url.substr(1) :\r\n\t\t\t(url.includes('#') ? (url.split('#')[1] || '') : url)\r\n\t).split('?')[0] || '/';\r\n\r\n/**\r\n *  @return a string of query parameters on a HashBrowser-based url\r\n *  @param url Can be either a full URL of a hash portion\r\n * */\r\nexport const getHashQuery = (url: string = window.location.hash): string =>\r\n\t(url[0] === '#' ? url.substr(1) :\r\n\t\t\t(url.includes('#') ? (url.split('#')[1] || '') : url)\r\n\t).split('?')[1] || '';\r\n\r\nexport function isValidRequestToken(tokenResponse: TokenData): boolean {\r\n\tconst expireTime = new Date(tokenResponse.expires_at).getTime();\r\n\t// at least five(5) minutes remaining until expiration\r\n\treturn expireTime - Date.now() > 300_000;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"items-scroll-x_root__3c9UL\",\"noMoviesFound\":\"items-scroll-x_noMoviesFound__2-fDP\",\"relatedMovieItemWrapper\":\"items-scroll-x_relatedMovieItemWrapper__EHdJ7\",\"relatedMovieItem\":\"items-scroll-x_relatedMovieItem__3fqg8\",\"noPoster\":\"items-scroll-x_noPoster__2sOrv\",\"isLoadingItem\":\"items-scroll-x_isLoadingItem__1RwSn\",\"loadingPulse\":\"items-scroll-x_loadingPulse__2-Z61\",\"opacityPulse\":\"items-scroll-x_opacityPulse__2aTxh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"movie-view-item_root__29mJy\",\"mainInfo\":\"movie-view-item_mainInfo__3aRXn\",\"movieItem\":\"movie-view-item_movieItem__cnJAR\",\"sideInfo\":\"movie-view-item_sideInfo__2gth1\",\"mobileOverview\":\"movie-view-item_mobileOverview__PuMxJ\",\"mobileRateActions\":\"movie-view-item_mobileRateActions__gs6h4\",\"loadingPulse\":\"movie-view-item_loadingPulse__2TSh7\",\"opacityPulse\":\"movie-view-item_opacityPulse__3OJ1H\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"list-item_root__3K_Eq\",\"image\":\"list-item_image__8W0Zw\",\"info\":\"list-item_info__3wCV1\",\"movieTitle\":\"list-item_movieTitle__3zky-\",\"itemActions\":\"list-item_itemActions__AfTc2\",\"actionButtons\":\"list-item_actionButtons__5ncys\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"search-bar_root__3CzrZ\",\"bar\":\"search-bar_bar__2gGAM\",\"suggestionsDropdown\":\"search-bar_suggestionsDropdown__2UdGS\",\"loadingPulse\":\"search-bar_loadingPulse__TFS67\",\"opacityPulse\":\"search-bar_opacityPulse__1lUZ8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"auth-page_root__Ocxm3\",\"userField\":\"auth-page_userField__2Rh--\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"movie-item-image_root__1JXgj\",\"image\":\"movie-item-image_image__X04m2\",\"imageIcon\":\"movie-item-image_imageIcon__31gPF\",\"loadingPulse\":\"movie-item-image_loadingPulse__hFBnd\",\"opacityPulse\":\"movie-item-image_opacityPulse__3iP0F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"items-list_root__1f0lq\",\"head\":\"items-list_head__1zGqy\",\"title\":\"items-list_title__2oh11\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"App_root__27yrb\",\"main\":\"App_main__1a1JF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"loading-spinner_root__11EEJ\",\"darken\":\"loading-spinner_darken__A_g8a\"};"],"sourceRoot":""}