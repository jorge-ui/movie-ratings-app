{"version":3,"sources":["components/error-message/error-message.module.scss","pages/search-page/search-page.module.scss","components/circled-progress-bar/circled-progress-bar.module.scss","components/movie-view-screen/movie-view-screen.module.scss","myWebWorker.ts","appProperties.ts","components/pagination-controls/pagination-controls.module.scss","components/movie-results-container/movie-results-container.module.scss","components/total-search-results/total-search-results.module.scss","components/movie-item-img-bg/movie-item-img-bg.module.scss","components/movies-grid/movies-grid.module.scss","components/movie-view-background/movie-view-background.module.scss","components/movie-view-related/movie-view-related.module.scss","store/movie-view/movie-view.reducer.ts","store/user/user.reducer.ts","store/movies-browser/movies-browser.reducer.ts","store/root-reducer.ts","store/store.ts","store/index.ts","hooks/useLocationPath.ts","hooks/useAuth.ts","hooks/useIsMobile.ts","components/app-bar/app-bar.component.tsx","components/app-bar/index.ts","hooks/usePrevious.ts","hooks/useSearchParam.ts","components/search-bar/search-bar-suggestions.component.tsx","components/search-bar/index.ts","components/search-bar/search-bar.component.tsx","components/pagination-controls/index.ts","components/pagination-controls/pagination-controls.component.tsx","components/loading-spinner/index.ts","components/loading-spinner/loading-spinner.component.tsx","components/movie-results-container/movie-results-container.component.tsx","components/movie-results-container/index.ts","components/error-message/index.ts","components/error-message/error-message.component.tsx","components/total-search-results/index.ts","components/total-search-results/total-search-results.component.tsx","hooks/useSavedSessionParams.ts","hooks/useSessionAvgColor.ts","hooks/useOnMovieView.ts","components/movie-item-img-bg/movie-item-img-bg.component.tsx","components/movie-item-img-bg/index.ts","components/circled-progress-bar/circled-progress-bar.component.tsx","components/circled-progress-bar/index.ts","hooks/useLockBodyScroll.ts","components/movie-view-actions/rating-modal.component.tsx","pages/auth-page/auth-page.component.tsx","pages/auth-page/index.ts","components/movie-view-actions/movie-view-actions.component.tsx","components/movie-view-actions/index.ts","components/movie-item-image/index.ts","components/movie-item-image/movie-item-image.component.tsx","components/movie-result-item/movie-result-item.component.tsx","components/movie-result-item/index.ts","components/movie-result-skeleton/index.ts","components/movie-result-skeleton/movie-result-skeleton.component.tsx","hooks/useMovieItems.ts","components/movies-grid/index.ts","components/movies-grid/movies-grid.component.tsx","pages/search-page/index.ts","pages/search-page/search-page.component.tsx","pages/home-page/subcomponents/this-week-container.component.tsx","components/items-scroll-x/items-scroll-x.component.tsx","components/items-scroll-x/index.ts","pages/home-page/subcomponents/now-playing-container.component.tsx","pages/home-page/home-page.component.tsx","pages/home-page/index.ts","components/movie-view-info/movie-view-info-children.component.tsx","components/movie-view-info/index.ts","components/movie-view-info/movie-view-info.component.tsx","components/movie-view-background/movie-view-background.component.tsx","components/movie-view-background/index.ts","components/movie-view-related/movie-view-related.component.tsx","components/movie-view-related/index.ts","components/movie-view-item/index.ts","components/movie-view-item/movie-view-item.component.tsx","utility/custom-events/MovieViewEvent.ts","hooks/useMovieForView.ts","components/movie-view-screen/movie-view-screen.component.tsx","components/movie-view-screen/index.ts","components/list-item/list-item.component.tsx","components/list-item/index.ts","components/items-list/items-list.component.tsx","components/items-list/index.ts","pages/watchlist-page/index.ts","pages/watchlist-page/watchlist-page.component.tsx","pages/favorites-page/index.ts","pages/favorites-page/favorites-page.component.tsx","components/auth-route/index.ts","components/auth-route/auth-route.component.tsx","App.tsx","serviceWorker.ts","index.tsx","pages/home-page/home-page.module.scss","components/movie-view-actions/movie-view-actions.module.scss","store/movies-browser/movies-browser.actions.ts","store/movie-view/movie-view.actions.ts","utility/easingFuctions.js","components/app-bar/app-bar.module.scss","components/movie-result-item/movie-result-item.module.scss","components/movie-result-skeleton/movie-result-skeleton.module.scss","components/movie-view-info/movie-view-info.module.scss","store/user/user.actions.ts","utility/CanvasImgDataConverter.ts","utility/custom-events/ImageDataEvent.ts","utility/index.ts","components/items-scroll-x/items-scroll-x.module.scss","components/movie-view-item/movie-view-item.module.scss","components/list-item/list-item.module.scss","components/search-bar/search-bar.module.scss","pages/auth-page/auth-page.module.scss","components/movie-item-image/movie-item-image.module.scss","components/items-list/items-list.module.scss","App.module.scss","components/loading-spinner/loading-spinner.module.scss"],"names":["module","exports","Worker","process","API_KEY","REACT_APP_API_KEY","NODE_ENV","BASE_API_URL","REDIRECT_LOGGING","getApiKeyQuery","getSessionQuery","localStorage","getItem","appProperties","itemsPerPageUI","getPosterSrcPathPrefix","size","buildFetchMovieSearchUrl","searchTerm","page","buildFetchMovieViewUrl","movieId","addPath","searchPageTransitionConfig","duration","easing","easeOutQuad","newSessionUrl","getAccountUrl","session_id","getLogoutConfig","method","body","JSON","stringify","headers","newRequestTokenUrl","buildLoginRedirectUrl","request_token","itemActions","favorite","favState","a","url","fetch","media_type","media_id","watchlist","watchState","rate","value","unRate","getItemsBrowseUrl","name","pageOnApi","browseUrl","INITIAL_STATE","item","movieViewReducer","state","action","type","MovieViewActionsTypes","SET_MOVIE_VIEW","setSearchParam","payload","id","CLEAR_MOVIE_VIEW","userReducer","UserActionsTypes","SET_USER","CLEAR_USER","searchData","searchError","isFetching","isFetchingMore","apiFetchedPages","unshiftToObj","obj","newItem","temp","key","tempHold","Object","keys","length","removeFromObjById","removed","numKey","Number","undefined","makeMoviesBrowserReducer","MoviesBrowserActionTypes","UNSHIFT_TO_LIST_ITEMS","results","total_pages","Math","ceil","total_results","REMOVE_FROM_LIST_ITEMS","CLEAR_FETCHED_MOVIES","FETCH_MOVIES_START","FETCH_MOVIES_SUCCESS","fetchedData","data","errors","FETCH_MOVIES_FAILURE","FETCH_MORE_MOVIES_START","FETCH_MORE_MOVIES_SUCCESS","fetchedPage","Set","FETCH_MORE_MOVIES_FAILURE","rootReducer","combineReducers","store","configureStore","reducer","useLocationPath","useState","path","setPath","useLayoutEffect","getHashPath","listener","oldURL","newURL","oldPath","newPath","window","addEventListener","removeEventListener","selectUser","user","equalUser","left","right","logOut","then","res","json","success","console","log","alert","dispatch","clearUser","removeItem","catch","logIn","requestToken","open","useAuth","useSelector","isAuth","signOut","signIn","useIsMobile","checkIsMobile","isMobile","setIsMobile","useEffect","onresize","searchActions","getMoviesBrowserActions","navItems","icon","HomeIcon","text","to","SearchIcon","FavoriteIcon","BookmarkIcon","NavItem","Icon","setOpen","active","username","className","styles","navItem","onClick","e","currentTarget","target","preventDefault","clearFetchedMovies","aria-current","IconButton","color","aria-label","navItemIcon","avatar","charAt","toUpperCase","navItemTxt","AppBar","isOpen","pathname","root","onMouseEnter","onMouseLeave","toolBar","logo","map","i","AccountCircleIcon","usePrevious","ref","useRef","current","useSearchParam","paramName","onParamChange","paramNameRef","URLSearchParams","getHashQuery","get","selectedParam","setSelectedParam","fixSelectedParam","fixParamValue","selectedRef","oldSelectedParam","oldQuery","newQuery","oldParam","newParam","updateParam","useCallback","extraParam","newSearchParams","newValue","delete","set","String","location","hash","toString","SearchBarSuggestions","keyword","onSubmit","inputRef","suggestions","setSuggestions","selected","setSelected","visible","setVisible","isMount","setTimeout","isEffect","slice","ev","code","newSelected","abs","title","handleClickSubmit","suggestionsDropdown","index","aria-selected","bind","SearchBar","React","memo","isMounted","error","setError","setInputTxt","searchParam","inputTxt","keyWord","setKeyWord","isFocus","setFocus","setFocusOn","focus","select","setFocusOff","blur","document","activeElement","is-focused","autoComplete","TextField","bar","label","helperText","onBlur","onChange","onFocus","inputProps","event","onKeyDown","PaginationControls","totalPages","currentPage","setCurrentPage","movieIdParam","goToNextPage","scrollToTop","goToPreviousPage","keydownListener","altKey","ctrlKey","shiftKey","MobileStepper","position","variant","steps","activeStep","nextButton","Button","disabled","backButton","LoadingSpinner","darken","delay","fixed","rest","mounted","style","opacity","CircularProgress","MovieItemsContainer","MovieResultsContainer","children","prevPage","isNextSlide","transition","useTransition","initial","translateX","from","enter","leave","config","unique","getTransitionConfig","props","div","transform","interpolate","v","ErrorMessage","message","TotalSearchResults","totalResults","formatToUSD","onHashChange","split","locationPath","searchQuery","sessionStorage","setItem","useSavedSessionParams","hashPath","savedPathParams","useSessionAvgColor","idRef","imgData","setImgData","imgObj","getMovieImgObjFromSession","onColorReadyListener","detail","movieIdSaved","useOnMovieView","configRef","setProps","onEvent","configPropName","capitalize","configProp","newStateProps","MovieItemImgBg","itemView","isRevealed","setRevealed","opacityReveal","onEnter","onClose","opacityOnMovView","eventState","useSpring","easeOutCubic","imgSrc","movieImgDataObj","jpgData","img","src","alt","crossOrigin","item-view","imageRendering","display","backgroundColor","averageColor","defaultProps","circleCircumference","circleRadius","PI","minScoreColor","maxScoreColor","CircledProgressBar","score","rootRef","progressMultiplier","progressColor","hslInterval","strokeDashOffsetVal","stroke","hslToHex","strokeDashoffset","ignore","visibility","height","width","viewBox","overflow","cx","viewBoxSize","cy","r","fill","strokeWidth","zIndex","circle","strokeDasharray","strokeLinecap","strokeMiterlimit","scoreValue","toPrecision","useLockBodyScroll","maxWidth","maxWidthRef","originalStyle","scrollingElement","getComputedStyle","innerWidth","valuesMap","0","1","2","3","4","5","6","7","8","9","10","RatingModal","rateItem","defaultValue","setRatingModal","setValue","onTouch","getBoundingClientRect","maxPoint","touchPoint","targetTouches","clientX","pointPercent","round","resultPercent","ratingModalContainer","clientY","innerHeight","ratingModal","removeButton","Rating","precision","onTouchMove","onTouchStart","mobileSubmit","AuthPage","setRequestToken","localToken","tokenResponse","parse","isValidRequestToken","getValidLocalToken","goFetch","tokenData","userField","isLoading","filter","rated","initial_state","favoriteActions","watchlistActions","checkAllowToRemove","itemName","confirm","MovieViewActionButtons","MovieViewActions","showLogin","setShowLogin","useReducer","setLoading","actionName","auth","ratedValue","ignoreActions","Tooltip","enterDelay","PopperProps","toolTip","iconWrapper","active-icon","action-name","is-loading","includes","newFavValue","unshiftToFavorites","removeFromListItems","newVal","prev","showAuth","xButton","MovieItemImage","movie","backGroundUrl","poster_path","backgroundImage","setMovieView","image","imageIcon","onViewConfigNotItemView","onLeave","MovieResultItem","itemRef","vote_average","release_date","overview","imgSrcPath","setImgSrcPath","initialOnViewProps","onView","onMovieProps","propsState","titleStyle","fontSize","newSrc","Image","onload","visibilityState","offsetWidth","classList","add","runAnimation","remove","memoizedItemImage","useMemo","content","wrapper","header","year","substr","overViewSection","info","MovieResultSkeleton","imageWrapper","infoWrapper","isMovieItem","isFetchingOrLengthEquality","newState","oldState","selectItemsUIPortion","browseState","pageUI","fromIndex","grabIndex","useMovieItems","totalResultsApi","actionsInit","actionsRef","nameRef","checkIfFetchMore","setPage","getState","fetchMoviesAsync","calculatePageOnApi","clearTimeout","items","totalPagesUI","goToPage","MoviesGrid","Grid","container","alignItems","spacing","xs","sm","md","SearchPage","searchHead","ThisWeekItem","onClickHandler","gridArea","movie-title","gridItem","hoveredBg","ThisWeekContainer","gridContainer","backdrop_path","RelatedMovieItem","canClick","itemClassName","relatedMovieItemWrapper","onDragStart","relatedMovieItem","isLoadingItem","noPoster","prevProps","nextProps","setClientXOnRef","MovieItemsXScrollList","ItemsScrollX","noResultsFound","scrollByX","infoTabMessage","scrollXPos","setScrollXPos","onFrame","scroll","update","onMouseMoveHandler","maxScrollLeft","scrollWidth","clientWidth","movementX","buttons","prevState","nextState","onWheelHandler","deltaY","onDownRef","onUpRef","itemChildren","onWheel","onMouseMove","onMouseDown","onMouseUp","overflowX","Array","noMoviesFound","NowPlayingContainer","mainItem","nowPlayingContainer","mainMovieItem","subMovieItemContainerWrapper","subMovieItemContainer","subMovieItemContainerItem","SpotlightSection","sectionSpotlight","sectionTitle","sectionContentWrapper","sectionContent","HomePage","MovieViewInfoChildren","movieView","budget","homepage","revenue","runtime","status","hostname","URL","jsx","sideInfoItem","getReadableDate","href","rel","minutesToRuntimeDisplay","easeOutQuart","trail","Element","animated","MovieViewInfo","colorSessionObj","fade","defaultBgColor","MovieViewBackground","transitionDuration","cssProps","bgColor","bgStyle","background","MovieViewRelated","relatedMovies","setRelatedMovies","MovieViewItem","movieItem","movieItemRef","isMovView","isMovieView","goFetchMovieView","isViewing","mainInfo","mobileRateActions","mobileOverview","sideInfo","MovieViewEvent","CustomEvent","movieViewItem","onSetMovieItem","selectedAreEqual","oldItem","useMovieForView","setMovieId","clearMovieId","selectMovieItem","search","selectedMovie","fromSelectedId","movieForViewState","setMovieForViewState","MovieViewRootDiv","MovieViewScreen","transitionConfig","animatedDiv","getElementById","domRect","initialPosition","animatedDomRect","firstElementChild","top","bottom","x","mass","tension","friction","clamp","onStart","dispatchEvent","onRest","prevConfig","appliedConfig","transitionDiv","ListItem","movieTitle","onSetMovieView","actionButtons","ListChild","initialStyles","maxHeight","paddingBottom","next","ItemsList","itemType","head","WatchlistPage","FavoritesPage","AuthRoute","Component","component","render","routesChildren","exact","App","clear","goFetchUserAccount","setUser","main","Container","Boolean","match","worker","onmessage","onWorkerFetchedDoneEvent","navigator","serviceWorker","ready","registration","unregister","require","default","ReactDOM","basename","StylesProvider","injectFirst","fetchMoviesStart","fetchMoviesSuccess","fetchMoviesFailure","pageApi","ok","goFetchPostersOnWorker","transformedData","convertResultsData","fetchMoreMoviesStart","fetchMoreMoviesSuccess","fetchMoreMoviesFailure","fetchMoreMoviesAsync","nextPageOnApi","otherPagesOnApi","getSearchParam","resultsObject","nextUIPageOnApi","pagesToFetch","isFetchPage","push","t","CanvasImgDataConverter","imgEl","canvas","CANVAS","context","CONTEXT","Error","rgb","g","b","count","naturalHeight","offsetHeight","naturalWidth","drawImage","getImageData","toDataURL","blockSize","createElement","getContext","ImageDataEvent","weight","h1","s1","l1","h2","s2","l2","h_toAdd","s_toAdd","l_toAdd","h","s","l","hue2rgb","p","q","toHex","hex","startIndex","forEach","insertIndex","blobUrl","revokeObjectURL","makeMovieImgSessionObj","movieImgSessionObj","item_s_","toFetch","isArray","postMessage","imgJsonData","months","isoDate","date","n","month","day","Intl","NumberFormat","currency","format","minutes","hours","floor","remaining","query","param","paramNum","is","NaN","hashQuery","newParams","movieId_or_Item","Promise","resolve","options","scrollTo","searchParams","approved","goFetchSessionId","fetchedSessionId","fetchUrl","init","offSet","offBy","Date","expires_at","getTime","now"],"mappings":"iHACAA,EAAOC,QAAU,CAAC,KAAO,4BAA4B,MAAQ,+B,oBCA7DD,EAAOC,QAAU,CAAC,KAAO,0BAA0B,WAAa,kC,oBCAhED,EAAOC,QAAU,CAAC,KAAO,mCAAmC,WAAa,yCAAyC,aAAe,2CAA2C,aAAe,6C,oBCA3LD,EAAOC,QAAU,CAAC,KAAO,gCAAgC,cAAgB,2C,oBCDzED,EAAOC,QAAU,WACf,OAAO,IAAIC,OAAO,IAA0B,oC,uECECC,0LAArBC,E,EAAnBC,kBAA4BC,E,EAAAA,SAC7BC,EAAe,+BAIfC,EAAgC,gBAAbF,EACrB,2BAA6B,2CAE3BG,EAAiB,mCAAiBL,IAClCM,EAAkB,sCAAoBC,aAAaC,QAAQ,gBAE3DC,EAAgB,CAElBC,eAAgB,EAEhBC,uBAAwB,eAACC,EAAD,uDAAoB,MAApB,4CAA8DA,IAEtFC,yBAA0B,SAACC,GAAD,IAAqBC,EAArB,uDAAoC,EAApC,gBACnBZ,EADmB,yBACUE,IADV,kBACoCS,EADpC,iBACuDC,EADvD,yBAG1BC,uBAAwB,SAACC,EAAiBC,GACtC,MAAM,GAAN,OAAUf,EAAV,kBAAgCc,GAAhC,OAA0CC,GAAW,GAArD,YAA2Db,MAG/Dc,2BAA4B,CACxBC,SAAU,IACVC,OAAQC,KAGZC,cAAc,GAAD,OAAKpB,EAAL,uCAAgDE,KAE7DmB,cAAe,SAACC,GAAD,gBACRtB,EADQ,oBACgBE,IADhB,uBAC+CoB,IAE9DC,gBAAiB,SAACD,GAAD,MAA+C,CAAC,GAAD,OACzDtB,EADyD,mCAClBE,KAC1C,CACIsB,OAAQ,SACRC,KAAMC,KAAKC,UAAU,CAACL,eACtBM,QAAS,CACL,eAAgB,uBAO5BC,mBAAmB,GAAD,OAAK7B,EAAL,qCAA8CE,KAEhE4B,sBAAuB,SAACC,GAAD,wDACwBA,EADxB,wBACqD9B,IAE5E+B,YAAa,CACTC,SAAS,WAAD,4BAAE,WAAOC,EAAmBpB,GAA1B,eAAAqB,EAAA,6DACAC,EADA,UACSpC,EADT,+BAC4CE,IAD5C,YACgEC,KADhE,SAEAkC,MAAMD,EAAK,CACbX,KAAMC,KAAKC,UAAU,CACjBW,WAAY,QACZC,SAAUzB,EACVmB,SAAUC,IAEdN,QAAS,CACL,eAAgB,kCAEpBJ,OAAQ,SAXN,iCAaC,GAbD,2CAAF,qDAAC,GAeTgB,UAAU,WAAD,4BAAE,WAAOC,EAAqB3B,GAA5B,eAAAqB,EAAA,6DACDC,EADC,UACQpC,EADR,gCAC4CE,IAD5C,YACgEC,KADhE,SAEDkC,MAAMD,EAAK,CACbX,KAAMC,KAAKC,UAAU,CACjBW,WAAY,QACZC,SAAUzB,EACV0B,UAAWC,IAEfb,QAAS,CACL,eAAgB,kCAEpBJ,OAAQ,SAXL,iCAaA,GAbA,2CAAF,qDAAC,GAeVkB,KAAK,WAAD,4BAAE,WAAOC,EAAe7B,GAAtB,eAAAqB,EAAA,6DACIC,EADJ,UACapC,EADb,kBACmCc,EADnC,mBACqDZ,IADrD,YACyEC,KADzE,SAEIkC,MAAMD,EAAK,CACbX,KAAMC,KAAKC,UAAU,CACjBgB,UAEJf,QAAS,CACL,eAAgB,kCAEpBJ,OAAQ,SATV,iCAWK,GAXL,2CAAF,qDAAC,GAaLoB,OAAO,WAAD,4BAAE,WAAO9B,GAAP,eAAAqB,EAAA,6DACEC,EADF,UACWpC,EADX,kBACiCc,EADjC,mBACmDZ,IADnD,YACuEC,KADvE,SAEEkC,MAAMD,EAAK,CACbR,QAAS,CACL,eAAgB,kCAEpBJ,OAAQ,WANR,iCAQG,GARH,2CAAF,mDAAC,IAaXqB,kBAlGkB,SAkGAC,GAAkF,IAAzDnC,EAAwD,uDAAnC,GAAIoC,EAA+B,uDAAX,EAChFC,EAAYhD,EAGhB,OAAQ8C,GACJ,IAAK,WACDE,GAAa,6BACb,MACJ,IAAK,YACDA,GAAa,8BACb,MACJ,IAAK,SACDA,GAAa,gBACb,MACJ,IAAK,aACDA,GAAa,qBACb,MACJ,IAAK,eACDA,GAAa,uBAQrB,OAJAA,GAAa,IAILF,GACJ,IAAK,WAGL,IAAK,YACDE,GAAa7C,IAAoB,2BACjC,MACJ,IAAK,SACD6C,GAAS,gBAAarC,EAAb,wBAQjB,OAAOqC,EAAY,IAAM9C,IAAlB,gBAA8C6C,KAK9CzC,O,oBC9Jfb,EAAOC,QAAU,CAAC,IAAM,iCAAiC,KAAO,oC,oBCAhED,EAAOC,QAAU,CAAC,KAAO,sCAAsC,KAAO,wC,oBCAtED,EAAOC,QAAU,CAAC,KAAO,qC,oBCAzBD,EAAOC,QAAU,CAAC,KAAO,kC,oBCAzBD,EAAOC,QAAU,CAAC,KAAO,4B,oBCAzBD,EAAOC,QAAU,CAAC,KAAO,sC,oBCAzBD,EAAOC,QAAU,CAAC,KAAO,iCAAiC,aAAe,yCAAyC,aAAe,2C,wGCQ3HuD,EAAgC,CACrCC,KAAM,MAoBQC,EAjBU,WAAuE,IAAtEC,EAAqE,uDAA7DH,EAAeI,EAA8C,uCAC9F,OAAQA,EAAOC,MACd,KAAKC,IAAsBC,eAE1B,OADAC,YAAe,UAAWJ,EAAOK,QAAQC,IAClC,eACHP,EADJ,CAECF,KAAMG,EAAOK,UAEf,KAAKH,IAAsBK,iBAC1B,OAAO,eACHX,GAEL,QACC,OAAOG,I,QCVKS,EAXK,WAAqE,IAAnET,EAAkE,uDAFhD,KAEKC,EAA2C,uCACpF,OAAQA,EAAOC,MACd,KAAKQ,IAAiBC,SACrB,OAAOV,EAAOK,QACf,KAAKI,IAAiBE,WACrB,OAAO,KACR,QACO,OAAOZ,I,gBCIbH,EAAmC,CACxCgB,WAAY,KACZC,YAAa,KACbC,YAAY,EACZC,gBAAgB,EAChBC,gBAAiB,GACjB1D,WAAY,IA+Fb,SAAS2D,EAAaC,EAAwBC,GAE7C,IAAIC,EAAOD,EAEX,IAAK,IAAIE,KAAOH,EAAK,CACpB,IAAII,EAAWJ,EAAIG,GACnBH,EAAIG,GAAOD,EACXA,EAAOE,EAKR,OAFAJ,EAAIK,OAAOC,KAAKN,GAAKO,QAAUL,EAExBF,EAGR,SAASQ,EAAkBR,EAAwBZ,GAClD,IAAIqB,GAAU,EACd,IAAK,IAAIN,KAAOH,EAAK,CAAC,IAAD,EAChBU,EAASC,OAAOR,KAChB,UAAAH,EAAIU,UAAJ,eAAatB,MAAOA,GAAOqB,KAE3BA,EACHT,EAAIU,EAAS,GAAKV,EAAIU,IAEtBV,EAAIU,QAAUE,EACdH,GAAU,IAKZ,OAFIA,UACIT,EAAIK,OAAOC,KAAKN,GAAKO,OAAO,GAC7BP,EAGOa,MA7Hf,SAAkCtC,GACjC,OAAO,WAAyC,IAAhCM,EAA+B,uDAAvBH,EAAeI,EAAQ,uCAE9C,GAAIA,EAAOP,OAASA,EAAM,OAAOM,EAEjC,OAAQC,EAAOC,MACd,KAAK+B,IAAyBC,sBAC7B,OAAO,eACHlC,EADJ,CAECa,WAAYb,EAAMa,YAAN,eACRb,EAAMa,WADE,CAEXsB,QAASjB,EAAa,eAAIlB,EAAMa,WAAWsB,SAAUlC,EAAOK,SAC5D8B,YAAaC,KAAKC,MAAMtC,EAAMa,WAAW0B,cAAc,GAAG,IAC1DA,cAAevC,EAAMa,WAAW0B,cAAc,MAIjD,KAAKN,IAAyBO,uBAC7B,OAAO,eACHxC,EADJ,CAECa,WAAYb,EAAMa,YAAN,eACRb,EAAMa,WADE,CAEXsB,QAASR,EAAkB,eAAI3B,EAAMa,WAAWsB,SAAUlC,EAAOK,SACjE8B,YAAaC,KAAKC,MAAMtC,EAAMa,WAAW0B,cAAc,GAAG,IAC1DA,cAAevC,EAAMa,WAAW0B,cAAc,MAIjD,KAAKN,IAAyBQ,qBAC7B,OAAO5C,EACR,KAAKoC,IAAyBS,mBAC7B,OAAO,eACH7C,EADJ,CAECkB,YAAY,IAEd,KAAKkB,IAAyBU,qBAA9B,IACYC,EAAe3C,EAAOK,QAA5BuC,KAEL,OAAKD,EAAYL,cAQV,eACH1C,EADJ,CAECgB,WAAY+B,EACZ3B,gBAAiB,CAAC,GAClB1D,WAAY0C,EAAOK,QAAQ/C,YAAc,KAXlC,eACHsC,EADJ,CAECiB,YAAa,CACZgC,OAAQ,CAAC,wBAUb,KAAKb,IAAyBc,qBAC7B,OAAO,eACHlD,EADJ,CAECiB,YAAab,EAAOK,UAGtB,KAAK2B,IAAyBe,wBAC7B,OAAO,eACHhD,EADJ,CAECgB,gBAAgB,IAElB,KAAKiB,IAAyBgB,0BAC7B,OAAO,eACHjD,EADJ,CAECa,WAAW,eACPb,EAAMa,WADA,CAETsB,QAAQ,eACJnC,EAAMa,WAAYsB,QADf,GAEHlC,EAAOK,QAAQ6B,SAEnB3E,KAAMyC,EAAOK,QAAQ4C,cAEtBjC,gBAAgB,YACZ,IAAIkC,IAAJ,sBAAYnD,EAAMiB,iBAAlB,CAAmChB,EAAOK,QAAQ4C,gBAEtDlC,gBAAgB,IAElB,KAAKiB,IAAyBmB,0BAC7B,OAAO,eACHpD,EADJ,CAECc,YAAab,EAAOK,QACpBU,gBAAgB,IAElB,QACC,OAAOhB,KChGIqD,EAVKC,YAAgB,CAClC,aAAmBtB,EAAyB,gBAC5C,WAAmBA,EAAyB,cAC5C,UAAmBA,EAAyB,aAC5C,SAAmBA,EAAyB,YAC5C,OAAmBA,EAAyB,UAC5C,KAAmBvB,EACnB,UAAmBV,I,SCKNwD,MAdDC,YAAe,CACzBC,QAASJ,ICWEE,O,4OCMAG,MAjBf,WAA4B,IAAD,EACFC,mBAAS,KADP,mBACnBC,EADmB,KACbC,EADa,KAc1B,OAXAC,2BAAgB,WACfD,EAAQE,eACR,IAAMC,EAAW,SAAC,GAAuC,IAAtCC,EAAqC,EAArCA,OAAQC,EAA6B,EAA7BA,OACpBC,EAAUJ,YAAYE,GAASG,EAAUL,YAAYG,GACvDC,IAAYC,GACfP,EAAQO,IAGV,OADAC,OAAOC,iBAAiB,aAAcN,GAC/B,kBAAMK,OAAOE,oBAAoB,aAAcP,MACpD,IAEIJ,G,wCCZDzF,EAA0CjB,IAA1CiB,gBAAiBO,EAAyBxB,IAAzBwB,sBAGlB8F,EAAa,SAACxE,GAAD,OAAqBA,EAAMyE,MAExCC,EAAY,SAACC,EAAsBC,GAAvB,OAAqD,OAAJD,QAAI,IAAJA,OAAA,EAAAA,EAAMpE,OAAN,OAAaqE,QAAb,IAAaA,OAAb,EAAaA,EAAOrE,KAcvF,SAASsE,IACR,IAAM3G,EAAalB,aAAaC,QAAQ,cACnCiB,GAELe,MAAK,WAAL,cAASd,EAAgBD,KACvB4G,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAAjC,GACDA,EAAKoC,UACRC,QAAQC,IAAI,kBACZC,MAAM,4BACN7B,IAAM8B,SAASC,eACftI,aAAauI,WAAW,kBAGzBC,MAAMN,QAAQC,KAGjB,SAASM,EAAMC,GACdrB,OAAOsB,KAAKjH,EAAsBgH,GAAe,UAUnCE,MAxCf,WAEC,IAAMnB,EAAOoB,YAAwCrB,EAAYE,GAEjE,MAAO,CACND,OACAqB,SAAUrB,EACVsB,QAASlB,EACTmB,OAAQP,ICFKQ,MAff,WAAwB,IAAD,EAEUtC,oBAAS,kBAAMuC,iBAFzB,mBAEfC,EAFe,KAELC,EAFK,KAYtB,OARAC,qBAAU,WACT,IAAMC,EAAW,WAChBF,EAAYF,gBAGb,OADA7B,OAAOC,iBAAiB,SAAUgC,GAC3B,kBAAMjC,OAAOE,oBAAoB,SAAU+B,MAChD,IAEIH,G,QCGFI,EAAgBC,YAAwB,UAExCC,EAAW,CAChB,CACCC,KAAMC,IACNC,KAAM,OACNC,GAAI,KAEL,CACCH,KAAMI,IACNF,KAAM,SACNC,GAAI,WAEL,CACCH,KAAMK,IACNH,KAAM,YACNC,GAAI,cAEL,CACCH,KAAMM,IACNJ,KAAM,YACNC,GAAI,eAmDAI,EAA4B,SAAC,GAAuD,IAAhDC,EAA+C,EAArDR,KAAYE,EAAyC,EAAzCA,KAAMC,EAAmC,EAAnCA,GAAIM,EAA+B,EAA/BA,QAASC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,SAEpElB,EAAWF,IAWjB,OACC,kBAAC,IAAD,CAAMY,GAAIA,EAAIS,UAAWC,IAAOC,QAASC,QAV1C,SAAqBC,GACpB,GAAIA,EAAEC,gBAAkBD,EAAEE,OACzB,OAAOF,EAAEG,kBACT1B,GAAYgB,GAAQ,GAEV,YAAPN,GAAoBO,GACvB7D,IAAM8B,SAASkB,EAAcuB,uBAIiCC,eAAcX,GAC5E,kBAACY,EAAA,EAAD,CAAYC,MAAM,UAAUC,aAAW,OAAOZ,UAAWC,IAAOY,aAC9Dd,EACA,yBAAKC,UAAWC,IAAOa,QAAUf,EAASgB,OAAO,GAAGC,eAClD,kBAACpB,EAAD,OAGHN,GAAQ,0BAAMU,UAAWC,IAAOgB,YAAa3B,KC9GlC4B,EDmDA,WAAO,IAAD,EACM7E,oBAAS,GADf,mBACb8E,EADa,KACLtB,EADK,KAEduB,EAAWhF,IAETe,EAASmB,IAATnB,KAER,OACC,yBAAK6C,UAAS,UAAKC,IAAOoB,KAAZ,YAAoBF,EAASlB,IAAOkB,OAAS,IACtDG,aAAc,kBAAMzB,GAAQ,IAAO0B,aAAc,kBAAM1B,GAAQ,KACnE,wBAAIG,UAAWC,IAAOuB,SACrB,wBAAIxB,UAAWC,IAAOC,SACrB,0BAAMF,UAAS,UAAKC,IAAOgB,WAAZ,YAA0BhB,IAAOwB,OAAhD,YACA,kBAACf,EAAA,EAAD,CAAYC,MAAM,UAAUC,aAAW,OAAOZ,UAAWC,IAAOY,aAC/D,kBAAC,IAAD,QAGD1B,EAASuC,KAAI,SAAClJ,EAAMmJ,GAAP,OACb,kBAAC,EAAD,eAAS3H,IAAK2H,GAAOnJ,EAArB,CAA2BqH,QAASA,EAASC,OAAQtH,EAAK+G,KAAO6B,QAElE,kBAAC,EAAD,CACCtB,OAAQ,aAAesB,EACvBvB,QAASA,EAASN,GAAG,WACrBH,KAAMwC,IAAmBtC,MAAU,OAAJnC,QAAI,IAAJA,OAAA,EAAAA,EAAM4C,WAAY,QACjDA,SAAQ,OAAE5C,QAAF,IAAEA,OAAF,EAAEA,EAAM4C,c,oDElEN8B,MARf,SAAwB5J,GACtB,IAAM6J,EAAuCC,mBAI7C,OAHAhD,qBAAU,WACR+C,EAAIE,QAAU/J,IACb,CAACA,IACG6J,EAAIE,SCyEEC,MAlEf,SACCC,EAAkBC,GAElB,IAAMC,EAAeL,iBAAOG,GAFiE,EAInD7F,oBAAS,WAClD,OAAO,IAAIgG,gBAAgBC,eAAgBC,IAAIH,EAAaJ,YALgC,mBAItFQ,EAJsF,KAIvEC,EAJuE,KAOvFC,EAAmBC,YAAqBH,GAExCI,EAAcb,iBAAOW,GAE3BlG,2BAAgB,WACfoG,EAAYZ,QAAUU,IACpB,CAACA,IAEJ,IAAMG,EAAmBhB,EAAYa,IAAqB,KAE1D3D,qBAAU,WACL8D,IAAqBH,GACxBP,GAAiBA,EAAcO,EAAkBG,KAChD,CAACH,EAAkBP,EAAeU,IAErC9D,qBAAU,WACT,IAAMrC,EAAW,SAAC,GAAuC,IAAtCC,EAAqC,EAArCA,OAAQC,EAA6B,EAA7BA,OAC1B,GAAID,IAAWC,EAAf,CACA,IAAMkG,EAAWR,YAAa3F,GACxBoG,EAAWT,YAAa1F,GACxBoG,EAAW,IAAIX,gBAAgBS,GAAUP,IAAIH,EAAaJ,SAC1DiB,EAAW,IAAIZ,gBAAgBU,GAAUR,IAAIH,EAAaJ,SAC5DgB,IAAaC,GAChBR,EAAiBQ,KAGnB,OADAlG,OAAOC,iBAAiB,aAAcN,GAC/B,kBAAMK,OAAOE,oBAAoB,aAAcP,MACpD,IAIH,IAAMwG,EAAcC,uBAAyC,SAAClL,EAAOmL,GACpE,GAAIR,EAAYZ,UAAY/J,GAAUmL,EAAtC,CACA,IAAIC,EAAkB,IAAIhB,gBAAgBC,eAEtCgB,EAA6B,oBAAVrL,EACtBA,EAAM2K,EAAYZ,SAChB/J,EAEc,OAAbqL,EACHD,EAAgBE,OAAOnB,EAAaJ,SAChCqB,EAAgBG,IAAIpB,EAAaJ,QAASyB,OAAOH,IAElDF,IACmB,OAAlBA,EAAW,GACdC,EAAgBE,OAAOH,EAAW,IAC9BC,EAAgBG,IAAIJ,EAAW,GAAIK,OAAOL,EAAW,MAI3DrG,OAAO2G,SAASC,KAAOlH,cAAgB,IAAM4G,EAAgBO,cAE3D,IAGH,MAAO,QAAClB,QAAD,IAACA,SAAoBjI,EAAWyI,ICxEjClN,EAA4BJ,IAA5BI,yBAsFQ6N,EA/E4B,SAAC,GAAoC,IAAnCC,EAAkC,EAAlCA,QAAUC,EAAwB,EAAxBA,SAAUC,EAAc,EAAdA,SAAc,EAExC3H,mBAA6B,IAFW,mBAEvE4H,EAFuE,KAE1DC,EAF0D,OAG9C7H,mBAAwB,MAHsB,mBAGvE8H,EAHuE,KAG7DC,EAH6D,OAIhD/H,oBAAS,GAJuC,mBAIvEgI,EAJuE,KAI9DC,EAJ8D,KAM9EvF,qBAAU,WACT,IAAIwF,GAAU,EAEd,OADAC,YAAW,kBAAMD,GAAWD,GAAW,KAAO,KACvC,WAAQC,GAAU,KACvB,IAEHxF,qBAAU,WACT,IAAI0F,GAAW,EAWf,OAVAD,YAAW,WACVC,GAAY9M,MAAM3B,EAAyB8N,IACzCtG,MAAK,SAAAC,GAAG,OAAIgH,GAAYhH,EAAIC,UAC5BF,MAAK,SAAAjC,GAAS,IAAD,EACRkJ,IACLP,EAAc,UAAC3I,EAAKV,QAAQ6J,MAAM,EAAG,WAAvB,QAA8B,IAC5CN,EAAY,UAEZlG,MAAMN,QAAQC,OACd,KACI,WACN4G,GAAW,KAEV,CAACX,IAEJ/E,qBAAU,WACT,IAAMrC,EAAW,SAACiI,GACjB,GAAKV,EAAY7J,OACjB,OAAQuK,EAAGC,MACV,IAAK,UACJ,OAAOR,GAAY,SAAAD,GACjB,IAAIU,EACHV,EAAWpJ,KAAK+J,MAAMX,EAAWF,EAAY7J,QAAU6J,EAAY7J,OAAS,EAE7E,OADA4J,EAAShC,QAAS/J,MAAQgM,EAAYY,GAAaE,MAC5CF,KAGV,IAAK,YACJ,OAAOT,GAAY,SAAAD,GACjB,IAAIU,EACU,OAAbV,EAAoBpJ,KAAK+J,MAAMX,EAAWF,EAAY7J,QAAU,EAEjE,OADA4J,EAAShC,QAAS/J,MAAQgM,EAAYY,GAAaE,MAC5CF,OAOZ,OADA9H,OAAOC,iBAAiB,UAAWN,GAC5B,kBAAMK,OAAOE,oBAAoB,UAAWP,MACjD,CAACsH,EAAUC,IAGd,IAAMe,EAAoB,SAACD,GAC1Bf,EAAShC,QAAS/J,MAAQ8M,EAC1BhB,KAIE,OAAOM,GAAWJ,EAAY7J,OAC1B,wBAAI4F,UAAWC,IAAOgF,oBAClB1D,aAAc,kBAAM6C,EAAY,QAElCH,EAAYvC,KAAI,WAAcwD,GAAd,IAAEjM,EAAF,EAAEA,GAAI8L,EAAN,EAAMA,MAAN,OAEhB,wBAAI/K,IAAKf,EAAIkM,gBAAgBD,IAAUf,EACnC7C,aAAc,kBAAM8C,EAAYc,IAChC/E,QAAS6E,EAAkBI,KAAK,KAAML,IACxCA,OAGJ,MCrFOM,ECwHAC,IAAMC,MA/GW,SAAC,GAAmB,IAAjBvF,EAAgB,EAAhBA,UACzBwF,EAAYzD,kBAAO,GACnBiC,EAAWjC,iBAAyB,MAFK,EAIrB1F,mBAAS,IAJY,mBAIxCoJ,EAJwC,KAIjCC,EAJiC,OAMJzD,EAAe,KAAK,SAAAqB,IAC1DA,GAAYqC,EAAY,OAPkB,0BAMxCC,OANwC,MAM1B,GAN0B,EAMtB7M,EANsB,OAUfsD,mBAASuJ,GAVM,mBAUxCC,EAVwC,KAU9BF,EAV8B,OAWjBtJ,mBAAS,IAXQ,mBAWxCyJ,EAXwC,KAW/BC,EAX+B,OAanB1J,oBAAS,GAbU,mBAaxC2J,EAbwC,KAa/BC,EAb+B,KAezCC,EAAa/C,uBAAY,kBAAMqC,EAAUxD,SAAWiE,GAAS,WAK/D,OAJAzB,YAAW,WAAO,IAAD,IACb,UAAAR,EAAShC,eAAT,SAAkBmE,QAClB,UAAAnC,EAAShC,eAAT,SAAkBoE,WACnB,MACI,OACP,IAEEC,EAAclD,uBAAY,kBAAMqC,EAAUxD,SAAWiE,GAAS,WAAO,IAAD,EAGtE,OAFA,UAAAjC,EAAShC,eAAT,SAAkBsE,OAClBZ,EAAS,KACF,OACP,IAGJ,SAAS3B,EAAU3D,GAAiC,IAAD,EAC9C,OAADA,QAAC,IAADA,KAAGG,iBACH,IAAItK,GAAa,UAAA+N,EAAShC,eAAT,eAAkB/J,QAAS,GAE5C,IAAKhC,EACD,OAAOyP,EAAS,0BAEhBE,IAAgB3P,GAChBoQ,IACAZ,GAASC,EAAS,IAClBlB,YAAW,kBAAMzL,EAAe9C,EAAY,CAAC,OAAQ,MAAK,MAE1DyP,EAAS,mCAGbC,EAAY1P,GACZ8P,EAAW,IA2Bf,OAxBAhH,qBAAU,WACNyG,EAAUxD,SAAU,EACpB,IAAMtF,EAAW,SAAC0D,GACd,OAAQA,EAAEwE,MACN,IAAK,QACD2B,SAASC,gBAAkBxC,EAAShC,SAAWwC,WAAW0B,EAAY,IACtE,MACJ,IAAK,SAAUG,MAMvB,OADAtJ,OAAOC,iBAAiB,UAAWN,GAC5B,WACH8I,EAAUxD,SAAU,EACpBjF,OAAOE,oBAAoB,UAAWP,MAE3C,CAAC2J,EAAaH,IAEjB1J,2BAAgB,WACZyJ,GAAUL,KACX,CAACA,IAIA,yBAAK5F,UAAS,UAAKC,IAAOoB,KAAZ,YAAoBrB,GAAa,IAAMyG,aAAA,UAAeT,IAChE,0BAAMU,aAAa,MAAM3C,SAAUA,GAC/B,kBAAC4C,EAAA,EAAD,CACI3G,UAAWC,IAAO2G,IAClBC,MAAM,eACNpB,QAASA,EACTqB,WAAYrB,EACZsB,OAAQ,WACCnB,IAAeE,GACpBO,KAEJrC,SAAUA,EACV5L,KAAM,aACNH,MAAO4N,EACPmB,SAAU,YAAe,IAAb1G,EAAY,EAAZA,OACRqF,EAAYrF,EAAOrI,OACnB8N,EAAWzF,EAAOrI,QAEtBgP,QAASf,EACTgB,WAAY,CACRjO,GAAI,2BACJkH,QAAS,SAAAgH,GAAK,OAAIA,EAAM5G,kBACxB6G,UAAW,SAAChH,GAAD,OAAkB,YAAVA,EAAEpG,KAA+B,cAAVoG,EAAEpG,MAAwBoG,EAAEG,wBAI/EuF,GAAWE,GACV,kBAAC,EAAD,CACIlC,QAASgC,EACT/B,SAAUA,EACVC,SAAUA,Q,kFCjHfqD,GCmFA9B,gBApEuB,SAAC,GAA6B,IAA5BvF,EAA2B,EAA3BA,UAAWsH,EAAgB,EAAhBA,WACzCzI,EAAWF,IAD8C,EAErBsD,EAAe,QAFM,0BAExDsF,OAFwD,MAE1C,EAF0C,EAEvCC,EAFuC,OAGxCvF,EAAe,WAA/BwF,EAHwD,oBAKzDC,EAAevE,uBAAY,kBAAMqE,GAAe,SAAAtR,GAClD,OAAIA,GAAQA,EAAOoR,GACfzI,GAAY8I,cACLzR,EAAO,GAEXA,GAAQ,OACf,CAAC2I,EAAU2I,EAAgBF,IAEzBM,EAAmBzE,uBAAY,kBAAMqE,GAAe,SAAAtR,GACtD,OAAIA,GAAQA,EAAO,GACf2I,GAAY8I,cACLzR,EAAO,GAEXA,GAAQ,OACf,CAAC2I,EAAU2I,IAoBf,OAlBAzI,qBAAU,WACN,IAAM8I,EAAkB,SAAC,GAAsD,IAAD,EAApDjD,EAAoD,EAApDA,KAAMkD,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,QAASC,EAA6B,EAA7BA,SAC7C,KAAIF,GAAUC,GAAWC,IACU,8BAA/B,UAAAzB,SAASC,qBAAT,eAAwBvN,KACxBqO,EACA,OAAQ1C,GACJ,IAAK,aAAc,OAAO8C,IAC1B,IAAK,YAAc,OAAOE,MAOtC,OAHKH,GACD1K,OAAOC,iBAAiB,UAAW6K,GAEhC,kBAAM9K,OAAOE,oBAAoB,UAAW4K,MACpD,CAACP,EAAYC,EAAaE,EAAcC,EAAcE,IAGlDN,EACH,kBAACW,EAAA,EAAD,CACIjI,UAAS,UAAKC,KAAOoB,KAAZ,YAAoBrB,GAAa,IAC1CkI,SAAU,SACVC,QAAQ,OACRC,MAAOd,EACPe,WAAYd,GAAgBA,EAAc,EAC1Ce,WACI,kBAACC,GAAA,EAAD,CACIxS,KAAK,QACLoK,QAASuH,EACTc,SAAUjB,GAAeD,GAH7B,QAKS,kBAAC,KAAD,OAGbmB,WACI,kBAACF,GAAA,EAAD,CACIxS,KAAK,QACLoK,QAASyH,EACTY,SAAUjB,GAAe,GAEzB,kBAAC,KAAD,MALJ,WASR,Q,uCChFOmB,GCYsB,SAAC,GAAoE,IAAnE1I,EAAkE,EAAlEA,UAAkE,IAAvD2I,cAAuD,aAAvCC,aAAuC,MAA/B,EAA+B,MAA5BC,aAA4B,SAAVC,EAAU,yDACvEzM,mBAAmB,IAAVuM,GAD8D,mBAC9FvE,EAD8F,KACrFC,EADqF,KAG/FzF,EAAWF,IASjB,OAPAI,qBAAU,WACN,IAAIgK,GAAU,EAGd,OAFK1E,GACDG,YAAW,kBAAMuE,GAAWzE,GAAW,KAAOsE,GAC3C,WAAQG,GAAU,KAC1B,CAACH,EAAOvE,IAGP,uCACIrE,UAAS,UAAKC,KAAOoB,KAAZ,YAAoBrB,GAAa,GAAjC,YAAuC2I,EAAS1I,KAAO0I,OAAS,KAAUG,EADvF,CAEIE,MAAO,CAACC,QAAS5E,EAAU,EAAI,EAAG6D,SAAUW,EAAQ,QAAU,cAE9D,kBAACK,GAAA,EAAD,CACInT,KAAM,MAAQ8I,EAAW,KAAO,U,gDC1B1CvI,GAA+BV,IAA/BU,2BAsDS6S,IC1DAC,GDUwB,SAAC,GAAsB,IAArBlT,EAAoB,EAApBA,KAAMmT,EAAc,EAAdA,SAErCC,EAAWzH,EAAY3L,GACvBqT,GAAeD,GAAYA,EAAWpT,EACtCsT,EAAaC,aAAcvT,EAAMA,EAoB3C,SAA6BqT,GAEzB,MAAO,CACHG,QAAS,CACLT,QAAS,EACTU,WAAY,GAEhBC,KAAM,CACFX,SAAU,GACVU,WARM,GAQiBJ,EAAc,GAAK,IAE9CM,MAAO,CACHZ,QAAS,EACTU,WAAY,GAEhBG,MAAO,CACHb,SAAU,GACVU,WAhBM,GAgBiBJ,GAAe,EAAI,IAE9CQ,OAAQzT,GACR0T,QAAQ,GAxCiCC,CAAoBV,IAEjE,OACI,oCACKC,EAAW9H,KAAI,gBAAE1H,EAAF,EAAEA,IAAKkQ,EAAP,EAAOA,MAAahU,EAApB,EAAcsC,KAAd,OAA8BtC,EAC1C,kBAAC,KAASiU,IAAV,CAAcnQ,IAAKA,EAAKgG,UAAS,UAAKC,KAAOoB,KAAZ,oBACnB2H,MAAK,gBACEkB,EADF,CAEDE,UAAWF,EAAMP,WAAWU,aAAY,SAAAC,GAAC,OACrCA,EAAC,qBAAiBA,EAAjB,MAAwB,SAI1CjB,EAASnT,IACI,U,qBE5BnBqU,GCUiB,SAAC,GAAwB,IAAvBvK,EAAsB,EAAtBA,UAAWyF,EAAW,EAAXA,MACzC,OACI,yBAAKzF,UAAS,UAAKA,GAAwB,GAA7B,YAAmCC,KAAOoB,OACpD,yBAAKrB,UAAWC,KAAO8E,OAAvB,oBACCU,EAAMjK,OAAOkG,KAAI,SAAC8I,EAAStF,GAAV,OACd,yBAAKlL,IAAKkL,GAAV,IAAmBsF,EAAnB,U,qBCfDC,GCM0B,SAAC,GAAD,IAAEC,EAAF,EAAEA,aAAF,OACrC,yBAAK1K,UAAWC,KAAOoB,MAAvB,UACYsJ,YAAYD,GAAgC,MAAjBA,GAA2B,M,qBCPtE,SAASE,GAAaxK,GACrB,IADyC,EACzBA,EAAExD,OAAOiO,MAAM,KAAK,GACaA,MAAM,KAFd,mBAElCC,EAFkC,YAEpBC,OAFoB,MAEN,GAFM,EAGzCC,eAAeC,QAAQH,EAAcC,GAgBvBG,OAbf,WACC1O,2BAAgB,WACf,IAAM2O,EAAW1O,cACX2O,EAAkBJ,eAAerV,QAAQwV,GAM/C,OAJIC,IAAoB9I,gBACvBvF,OAAO2G,SAASC,KAAOwH,EAAW,IAAMC,GAEzCrO,OAAOC,iBAAiB,aAAc4N,IAC/B,kBAAM7N,OAAOE,oBAAoB,aAAc2N,OACpD,K,wCCbG,SAASS,GAAmBjV,GAC/B,IAAMkV,EAAQvJ,iBAAO3L,GAD2B,EAElBiG,qBAFkB,mBAEzCkP,EAFyC,KAEhCC,EAFgC,KAkBhD,OAdAhP,2BAAgB,WACZ,IAAMiP,EAASC,YAA0BJ,EAAMtJ,SAC/C,SAAS2J,EAAT,GAA6F,IAAD,IAA7DC,OAAmBC,EAA0C,EAAnDzV,QAAuBmV,EAA4B,EAA5BA,QACxDM,IAAiBP,EAAMtJ,UACvBwJ,EAAWD,GACXxO,OAAOE,oBAAoB,YAAa0O,IAKhD,OAFKF,EACAD,EAAWC,GADH1O,OAAOC,iBAAiB,YAAa2O,GAE3C,kBAAM5O,OAAOE,oBAAoB,YAAa0O,MACtD,IAGIJ,E,yBC6BIO,OAtCf,SAA2B7S,EAAYyQ,EAAYK,GAClD,IAAMuB,EAAQvJ,iBAAO9I,GACf8S,EAAYhK,iBAAOgI,GAFqE,EAIpE1N,mBAAuB,CAACqN,EAAS,YAJmC,mBAIvFQ,EAJuF,KAIhF8B,EAJgF,KAmC9F,OA5BAjN,qBAAU,WAAOuM,EAAMtJ,QAAU/I,IAAK,CAACA,IACvC8F,qBAAU,WAAOgN,EAAU/J,QAAU+H,IAAS,CAACA,IAG/ChL,qBAAU,WACT,IAAIgK,GAAU,EAEd,SAASkD,EAAT,GAA6D,IAAD,IAA1CL,OAAQlT,EAAkC,EAAlCA,MACzB,GAD2D,EAA3BtC,UAChBkV,EAAMtJ,QAAtB,CAEA,IAAMkK,EAAc,YAAQC,KAAWzT,IAEvC,GAAIwT,KAAkBH,EAAU/J,QAAS,CAExC,IAAIoK,EAAaL,EAAU/J,QAAQkK,GAE/BG,EAAsC,oBAAfD,EAA4BA,IAAeA,EAEtErD,GAAWiD,EAAS,CAACK,EAAe3T,MAItC,OADAqE,OAAOC,iBAAiB,YAAaiP,GAC9B,WACNlD,GAAU,EACVhM,OAAOE,oBAAoB,YAAagP,MAEvC,IAEI/B,GChCFoC,GAA4B,SAAC,GAA4C,IAA3CtM,EAA0C,EAA1CA,UAAW5J,EAA+B,EAA/BA,QAA+B,IAAtBmW,gBAAsB,SACpE1N,EAAWF,IADyD,EAGxCtC,mBAAkBkQ,GAHsB,mBAGnEC,EAHmE,KAGvDC,EAHuD,KAKpEC,EAAgBF,EAAa,GAAK,EAExCzN,qBAAU,WACN,IAAIgK,GAAU,EAMd,OALKwD,GACD/H,YAAW,WACPuE,GAAW0D,GAAY,KACxB,KAEA,WAAQ1D,GAAU,KAC1B,CAACwD,IAfsE,MAiBnCT,GAAe1V,EAASsW,EAAV,gBAC7CH,EAAW,CACXI,QAAS,EACTC,QAASF,GACT,KArBkE,mBAiBnEG,EAjBmE,KAiBjDC,EAjBiD,KAwBtE5C,EAAQ6C,aAAU,CAClB9D,QAASsD,EAAWM,EAAmBH,EACvC3C,OAAQ,CACJxT,SAAyB,UAAfuW,EAAyB,IAAM,KACzCtW,OAAuB,UAAfsW,OAAyBrS,EAAYuS,QAIjDC,EAAS,GAETC,EAAkB7B,GAAmBjV,GAKzC,OAHK,OAAC8W,QAAD,IAACA,OAAD,EAACA,EAAiBC,WAAYtO,IAC/BoO,EAASC,EAAgBC,SAGzB,kBAAC,KAASC,IAAV,CAAcC,IAAKJ,EAAQjN,UAAS,UAAKC,KAAOoB,KAAZ,YAAoBrB,GAAa,IACjEsN,IAAK,GAAIC,YAAa,YAAaC,YAAW/J,OAAO8I,GAAWvD,MAAK,cACjEyE,eAAgB,YAChBC,QAAWR,EAAkB,QAAU,OACvCS,gBAAe,OAAET,QAAF,IAAEA,OAAF,EAAEA,EAAiBU,cAC/B1D,MAMnBoC,GAAeuB,aAAe,CAC1BtB,UAAU,GAICjH,ICxEAgH,GDwEAhH,IAAMC,KAAK+G,I,qBExDpBwB,GAAsBC,GAAmBhT,KAAKiT,GAG9CC,GAA0C,CAAC,EAAG,GAAI,IAClDC,GAA0C,CAAC,IAAK,GAAI,ICpB3CC,GDwBsB,SAAC,GAAmD,IAAlDC,EAAiD,EAAjDA,MAAiD,IAA1C7B,gBAA0C,SAAxBvM,EAAwB,EAAxBA,UAAc8I,EAAU,iDAC9EuF,EAAqCtM,iBAAO,MAC5CuM,EAAqBF,EAAQ,GAE7BvP,EAAWF,IAEX4P,EAAgBC,YAClBP,GACAC,GACAI,GAIEG,EAAsBX,GADNA,GAAsBQ,EAZwC,EAe/DvB,cAAU,iBAAO,CAClC2B,OAAQC,YAAUpC,EAA2BgC,EAAhBN,IAC7BW,iBAAmBrC,EAAiCkC,EAAtBX,GAC9B/D,OAAQ,CACJxT,SAAU,IAAO+X,EACjB9X,OAAQC,UApBoE,mBAe7EyT,EAf6E,KAetE1G,EAfsE,KAwBpFzE,qBAuCA,WACI,IAAI8P,GAAS,EASb,OARArK,YAAW,WACHqK,GACCtC,IACD8B,EAAQrM,QAASgH,MAAM8F,WAAa,UACpCT,EAAQrM,QAASgH,MAAMC,QAAU,IAQzCzF,EAAI,CACAkL,OAAQC,YAASJ,GACjBK,iBAAkBH,OAPnB,KACI,WAAYI,GAAS,KAjDJ,IAE5B,IAAM7F,EAAuB,CACzB8F,WAAavC,OAAsB9R,EAAX,SACxBwO,QAAUsD,EAAe,EAAJ,GAGzB,OACQ,uCAAKvM,UAAS,UAAKC,KAAOoB,KAAZ,YAAoBrB,GAAwB,KAAU8I,EAApE,CAA0EE,MAAOA,EAAOlH,IAAKuM,IACzF,yBAAKU,OAAO,OAAOC,MA5Cf,GA4CmCC,QAAO,cA5C1C,GA4C0C,YA5C1C,IA6CCC,SAAU,WACX,4BACIC,GAAIC,GACJC,GAAID,GACJE,EA/CHF,GAgDGG,KA1CP,qBA2COb,OA1CL,UA2CKc,YAnDJJ,EAoDIpG,MAAO,CAACyG,QAAS,KAErB,kBAAC,KAASC,OAAV,CACI1G,MAAQnK,OAAmBpE,EAARyP,EACnBiF,GAAIC,GACJC,GAAID,GACJE,EAzDHF,GA0DGV,OAAQC,YAASJ,GACjBgB,KAAM,OACNI,gBAAiB7B,GACjB8B,cAAe,QACfhB,iBAAkBH,EAAoB7K,WACtC4L,YAhEJJ,EAiEIS,iBAAkBT,EAClBhF,UAAS,qBAAgBgF,GAAhB,YAAmCA,GAAnC,QAGjB,0BAAMpP,UAAWC,KAAO6P,YAAa1B,EAAQA,EAAM2B,YAAY,GAAK,Q,6DE9DrEC,OArBf,SAA2BC,GAC1B,IAAMC,EAAcnO,iBAAOkO,GAC3BzT,2BAAgB,WAGf,IAAM2T,EAAgB5J,SAAS6J,iBAC9BrT,OAAOsT,iBAAiB9J,SAAS6J,kBAAkBlB,SAAW,GAQ/D,OANmC,qBAAxBgB,EAAYlO,SAA2BjF,OAAOuT,YAAcJ,EAAYlO,UAE9EuE,SAAS6J,mBACX7J,SAAS6J,iBAAiCpH,MAAMkG,SAAW,UAGvD,WACF3I,SAAS6J,mBACX7J,SAAS6J,iBAAiCpH,MAAMkG,SAAWiB,MAE5D,KCPEI,GAAY,CACdC,EAAK,EACLC,EAAK,GACLC,EAAK,EACLC,EAAK,IACLC,EAAK,EACLC,EAAK,IACLC,EAAK,EACLC,EAAK,IACLC,EAAK,EACLC,EAAK,IACLC,GAAK,GAgEMC,GA7DgB,SAAC,GAAkD,IAAjDC,EAAgD,EAAhDA,SAAgD,IAAtCC,oBAAsC,MAAvB,EAAuB,EAApBC,EAAoB,EAApBA,eACnDzS,EAAWF,IAD4D,EAEnDtC,mBAAwBgV,EAAa,GAFc,mBAEtEpZ,EAFsE,KAE/DsZ,EAF+D,KAI7EvB,GAAkB,KAYlB,SAASwB,EAAQpR,GAAuC,IAAD,EAC7BA,EAAEC,cAAcoR,wBAA/BpU,EAD4C,EAC5CA,KACDqU,EAF6C,EACtCpU,MACYD,EACnBsU,EAAavR,EAAEwR,cAAc,GAAGC,QAAUxU,EAC1CyU,EAAe/W,KAAKgX,MAAOJ,EAAaD,EAAU,KAClDM,EACFF,EAAe,EAAKA,GAAgB,IAAMA,EAAe,IAAO,EAE9DxO,EAAWiN,GAAUxV,KAAKgX,MAAMC,EAAgB,KACtDT,EAASjO,GAGb,OACI,yBAAKtD,UAAWC,KAAOgS,qBAAsB9R,QAlBzB,SAACC,GACEA,EAAE8R,QAAUnV,OAAOoV,YACrB,KACjBb,GAAe,KAgBf,yBAAKtR,UAAWC,KAAOmS,eAChBf,GACH,4BAAQlR,QA1BL,WACPtB,EACA0S,EAAS,MACRH,EAAS,OAuBmBrM,MAAM,gBAAgB/E,UAAWC,KAAOoS,cAAjE,KAEA,kBAACC,GAAA,EAAD,CACIla,KAAK,eACLma,UAAW,GACXta,MAAOA,EACP+O,SAAU,SAACG,EAAO7D,GACVzE,GAECuS,EAA2B,GAAjB9N,GAAY,KAE/BkP,YAAahB,EACbiB,aAAcjB,EACdzb,KAAM8I,EAAW,QAAU,WAE9BA,GAAY,4BACT2J,SAAW6I,EAAa,IAAOpZ,EAC/B+H,UAAWC,KAAOyS,aAClBvS,QAAS,WACLiR,EAASnZ,EAAc,EAANA,EAAUA,KAEvB,OAAVA,EAAiB,UAAY,W,oBCzExCd,GAAsBvB,IAAtBuB,mBAiEQwb,ICtEAA,GDOM,SAAC,GAAgB,IAAftJ,EAAc,EAAdA,SAAc,EACIhN,mBAAwB,MAD5B,mBAC7B+B,EAD6B,KACfwU,EADe,OAEItU,IAAjCE,EAF6B,EAE7BA,OAAQrB,EAFqB,EAErBA,KAAMsB,EAFe,EAEfA,QAASC,EAFM,EAENA,OAG9BK,qBAAU,WACT,IAAI8P,GAAS,EACPgE,EAgDR,WACC,IAAMA,EAAand,aAAaC,QAAQ,cACxC,GAAIkd,EAAY,CACf,IAAMC,EAAgB9b,KAAK+b,MAAMF,GACjC,OAAOG,YAAoBF,GAAiBA,EAAczb,cAAgB,KACpE,OAAO,KArDM4b,GAWnB,OATIJ,EACHD,EAAgBC,GAEZK,YAAmB/b,IACrBqG,MAAK,SAAA2V,GACLzd,aAAauV,QAAQ,aAAcjU,KAAKC,UAAUkc,KACjDtE,GAAU+D,EAAgBO,EAAU9b,kBAGjC,WAAYwX,GAAS,KAC1B,IAQH,OACC,yBAAK7O,UAAWC,KAAOoB,MACrB7C,EACA,oCACC,yBAAKwB,UAAWC,KAAOmT,WACtB,2CACA,8BAAOjW,EAAM4C,WAEd,yBAAKC,UAAWC,KAAOmT,WACtB,uCACA,8BAAOjW,EAAM/E,MAAQ,SAIvB,yBAAK4H,UAAWC,KAAOmT,WACtB,iDAGD5U,EACA,4BAAQ2B,QAAS1B,GAAjB,WAEA,4BAAQ+J,UAAWpK,EAAc+B,QA1BhB,WACd/B,GACLM,EAAON,KAwBL,UAEAiL,IE1CGlT,GAAuCP,IAAvCO,uBAAwBmB,GAAe1B,IAAf0B,YAgB/B,SAAS6E,GAAQzD,EAAcC,GAC3B,OAAQA,EAAOC,MACX,IAAK,oBACD,OAAO,gBACAD,EAAOK,QADd,CAEIqa,UAAW,KAEnB,IAAK,kBACD,OAAO,gBACA3a,EADP,CAEInB,SAAUoB,EAAOK,QACjBqa,UAAW3a,EAAM2a,UAAUC,QAAO,SAAArb,GAAK,MAAc,aAAVA,OAEnD,IAAK,mBACD,OAAO,gBACAS,EADP,CAEIZ,UAAWa,EAAOK,QAClBqa,UAAW3a,EAAM2a,UAAUC,QAAO,SAAArb,GAAK,MAAc,cAAVA,OAEnD,IAAK,eACD,OAAO,gBACAS,EADP,CAEI6a,MAAO5a,EAAOK,QACdqa,UAAW3a,EAAM2a,UAAUC,QAAO,SAAArb,GAAK,MAAc,UAAVA,OAEnD,IAAK,iBACD,OAAO,gBACAS,EADP,CAEI2a,UAAU,YAAK,IAAIxX,IAAJ,sBACPnD,EAAM2a,WADC,YACa1a,EAAOK,cAG3C,IAAK,gBACD,OAAO,gBACAN,EADP,CAEI2a,UAAW,KAEnB,QAAS,OAAO3a,GAIxB,IAAM8a,GAAuB,CACzBD,OAAO,EACPzb,WAAW,EACXP,UAAU,EACV8b,UAAW,GACXpa,GAAI,GAEFwa,GAAmBvU,YAAwB,YAC3CwU,GAAoBxU,YAAwB,aAqLlD,SAASyU,GAAmBrQ,EAAmBsQ,GAC3C,QAAItQ,GACQvG,OAAO8W,QAAP,2BAAgD,aAAbD,EAA0B,YAAcA,EAA3E,MAKDE,IC5QAC,GDmF2B,SAAC,GAAuB,IAAtBvb,EAAqB,EAArBA,KAAMwH,EAAe,EAAfA,UACnC5J,EAAWoC,EAAfS,GACDuM,EAAYzD,kBAAO,GAEzBhD,qBAAU,WAEN,OADAyG,EAAUxD,SAAU,EACb,WAAQwD,EAAUxD,SAAU,KACpC,IAP0D,MASvB3F,oBAAS,GATc,mBAStD+V,EATsD,KASzCd,EATyC,OAU3BjV,oBAAS,GAVkB,mBAUtD2X,EAVsD,KAU3CC,EAV2C,OAanCC,qBAAW/X,GAASqX,IAbe,mBAatD9a,EAbsD,KAa/CqF,EAb+C,KAcvDoW,EAAa,SAACC,GAAD,OAAuCrW,EAAS,CAACnF,KAAM,iBAAkBI,QAAS,CAACob,MAEhGC,EAAO/V,IACPgW,EAAoC,kBAAhB5b,EAAM6a,MAAqB7a,EAAM6a,MAAMtb,WAAQwC,EAEnE8Z,GAAiBF,EAAK7V,SAAW9F,EAAMO,GAE7C8F,qBAAU,WACN,IAAI8P,GAAS,EAUb,OATIwF,EAAK7V,SAAW9F,EAAMO,KACtB8E,EAAS,CAACnF,KAAM,iBAAkBI,QAAS,CAAC,QAC5Cka,YAAO,UACH/c,GAAuBC,EAAS,mBAD7B,uBAC8DV,aAAaC,QAAQ,gBACrF6H,MAAK,SAAAjC,IACDsT,GAAU9Q,EAAS,CAACnF,KAAM,oBAAqBI,QAASuC,QAI9D,WAAYsT,GAAS,KAC7B,CAACnW,EAAMO,GAAIob,EAAK7V,OAAQpI,IAmF3B,OACI,wBAAI4J,UAAS,UAAKC,KAAOoB,KAAZ,YAAoBrB,GAAa,KAC1C,kBAACwU,GAAA,EAAD,CAASxa,IAAK,WACL+K,OAASrM,EAAMnB,SAAuB,cAAZ,WAA6B,YACvDkd,WAAY,IACZC,YAAa,CAAC1U,UAAWC,KAAO0U,UACrC,yBAAK3U,UAAWC,KAAO2U,YAClBC,cAAapR,OAAO/K,EAAMnB,UAC1Bud,cAAa,WACbC,aAAYtR,OAAO/K,EAAM2a,UAAU2B,SAAS,aAC5C7U,QA3FI,WACjB,GAAIoU,EAAe,OAAQF,EAAK7V,QAAUyV,GAAa,GACvD,IAAIgB,GAAevc,EAAMnB,SAErBoc,GAAmBsB,EAAa,cAChCd,EAAW,YACX7c,GAAYC,SAAS0d,EAAa7e,GAC7BoH,MAAK,WACEyX,EACAhZ,IAAM8B,SAAS0V,GAAgByB,mBAAmB1c,IACjDyD,IAAM8B,SAAS0V,GAAgB0B,oBAAoB/e,IAExDoP,EAAUxD,SAAWjE,EAAS,CAC1BnF,KAAM,kBAAmBI,QAASic,OAGzC/W,OAAM,SAAAkC,GACHxC,QAAQ6H,MAAMrF,GACdtC,MAAM,yCACN0H,EAAUxD,SAAWjE,EAAS,CAACnF,KAAM,wBA0ErC,kBAAC,IAAD,CAAcoH,UAAWC,KAAOb,SAGxC,kBAACoV,GAAA,EAAD,CAASxa,IAAK,YACL+K,OAASrM,EAAMZ,UAAuB,cAAX,UAA4B,aACvD2c,WAAY,IACZC,YAAa,CAAC1U,UAAWC,KAAO0U,UACrC,yBAAK3U,UAAWC,KAAO2U,YAClBC,cAAapR,OAAO/K,EAAMZ,WAC1Bgd,cAAa,YACbC,aAAYtR,OAAO/K,EAAM2a,UAAU2B,SAAS,cAC5C7U,QAhFK,WAClB,GAAIoU,EAAe,OAAQF,EAAK7V,QAAUyV,GAAa,GACvD,IAAImB,GAAU1c,EAAMZ,UAEhB6b,GAAmByB,EAAQ,eAC3BjB,EAAW,aACX7c,GAAYQ,UAAUsd,EAAQhf,GACzBoH,MAAK,WACE4X,EACAnZ,IAAM8B,SAAS2V,GAAiBwB,mBAAmB1c,IAClDyD,IAAM8B,SAAS2V,GAAiByB,oBAAoB/e,IACzDoP,EAAUxD,SAAWjE,EAAS,CAC1BnF,KAAM,mBAAoBI,QAASoc,OAG1ClX,OAAM,SAAAkC,GACHxC,QAAQ6H,MAAMrF,GACdtC,MAAM,wCACN0H,EAAUxD,SAAWjE,EAAS,CAACnF,KAAM,wBAgErC,kBAAC,IAAD,CAAcoH,UAAWC,KAAOb,SAGxC,kBAACoV,GAAA,EAAD,CAASxa,IAAK,QACL+K,MAAO,WACP0P,WAAY,IACZC,YAAa,CAAC1U,UAAWC,KAAO0U,UACrC,uCAAK3U,UAAWC,KAAO2U,YAClBC,cAAapR,SAAS/K,EAAM6a,OAC5BuB,cAAa,QACbC,aAAYtR,OAAO/K,EAAM2a,UAAU2B,SAAS,UAC5C7U,QAAS,WACL,IAAKkU,EAAK7V,OAAQ,OAAOyV,GAAa,GACtC3C,GAAe,SAAA+D,GAAI,OAAKA,OAErB3c,EAAM6a,MACT,CAAC,aAAe7a,EAAM6a,MAAgBtb,OAAS,IAEpD,kBAAC,KAAD,CAAW+H,UAAWC,KAAOb,SAGpCgT,GAAe,kBAAC,GAAD,CAAad,eAAgBA,EAAgBF,SAhFpD,SAACgE,GACd,OAAIb,GACwB,kBAAhB7b,EAAM6a,OAAsB6B,IAAW1c,EAAM6a,MAAMtb,OAC5C,OAAXmd,IAAmC,IAAhB1c,EAAM6a,MAFPjC,GAAe,IAMzC6C,EAAW,SACX7C,GAAe,QACX8D,EACA9d,GAAYU,KAAKod,EAAQhf,GACpBoH,MAAK,WACFgI,EAAUxD,SAAWjE,EAAS,CAC1BnF,KAAM,eAAgBI,QAAS,CAACf,MAAOmd,QAG9ClX,OAAM,SAAAkC,GACHxC,QAAQ6H,MAAMrF,GACdtC,MAAM,qCACN0H,EAAUxD,SAAWjE,EAAS,CAACnF,KAAM,qBAE5CtB,GAAYY,OAAO9B,GACnBoH,MAAK,WACFgI,EAAUxD,SAAWjE,EAAS,CAC1BnF,KAAM,eAAgBI,SAAS,OAGtCkF,OAAM,SAAAkC,GACHxC,QAAQ6H,MAAMrF,GACdtC,MAAM,qCACN0H,EAAUxD,SAAWjE,EAAS,CAACnF,KAAM,wBAkDwCyY,aAAciD,IAC9FN,GACG,yBAAKhU,UAAWC,KAAOqV,SAAUnV,QAAS,SAAAC,GAClCA,EAAEE,SAAWF,EAAEC,eAAe4T,GAAa,KAE/C,kBAAC,GAAD,KACI,4BAAQjU,UAAWC,KAAOsV,QAClBpV,QAAS,kBAAM8T,GAAa,KADpC,c,sEE3PTuB,GCed,SAAC,GAAD,IAAEC,EAAF,EAAEA,MAAOC,EAAT,EAASA,cAAeC,EAAxB,EAAwBA,YAAxB,IAAqCpJ,gBAArC,SAAuDvM,EAAvD,EAAuDA,UAAvD,OACC,yBAAKA,UAAS,UAAKC,KAAOoB,KAAZ,YAAoBrB,GAAa,IAAMwN,YAAW/J,OAAO8I,IACtE,yBAAKvD,MAAO,CAAC4M,gBAAiBF,GACzBvV,QAAS,kBAAOoM,GAAYtQ,IAAM8B,SAAS8X,aAAaJ,KACxDzV,UAAWC,KAAO6V,QACpBH,GAAe,oCACD,kBAAC,KAAD,CAAW3V,UAAWC,KAAO8V,YAC7B,mCAAQ,6BAAR,aCbbjgB,GAA0BF,IAA1BE,uBA8FDkgB,GAA0B,CAC/BrJ,QAAS,SACTsJ,QAAS,WCzGKC,GDmBuB,SAAC,GAA0C,IAAzCT,EAAwC,EAAxCA,MAAOzV,EAAiC,EAAjCA,UAAiC,IAAtBuM,gBAAsB,SACzE1N,EAAWF,IACXwX,EAAUpU,iBAAuB,MAClC4T,EAA4DF,EAA5DE,YAAa5Q,EAA+C0Q,EAA/C1Q,MAAOqR,EAAwCX,EAAxCW,aAAcC,EAA0BZ,EAA1BY,aAAcC,EAAYb,EAAZa,SAH0B,EAK3Cja,oBAAS,2BAASvG,MAAT,OAAoC6f,MALF,mBAKxEY,EALwE,KAK5DC,EAL4D,KAOzEC,EAAoC,CAACxN,QAAS,EAAG6F,WAAY,UAPY,EAQ5ChD,GAA8B2J,EAAMxc,GAAIwd,EAA1B,gBAC5ClK,EAAW,CACdI,QAAS8J,EACTC,OAAQ,CAACzN,QAAS,EAAGO,WAAY,sBACjCoD,QAAS,CAAC3D,QAAS,EAAGO,WAAY,uBAC/B,KAb0E,mBAQxEmN,EARwE,KAQ1DC,EAR0D,KAgBzEC,EAA4B,CACjCC,UAA0B,SAAfF,GAAwC,UAAfA,GAA0B/X,IAC5D0N,EAAY1N,EAAW,SAAW,cAAyBpE,GAlBiB,EAqBzCqR,GACrC2J,EAAMxc,GAAI,UAAYsT,EAAqC,CAC3DmK,OAAQ,WACP,GAAInK,GAAYoJ,EAAa,CAC5B,IAAIoB,EAAM,UAAMjhB,GAAuB,QAA7B,OAAsC6f,GAC5CG,EAAQ,IAAIkB,MAEhBlB,EAAMmB,OAAS,kBAAMT,EAAcO,IACnCjB,EAAMzI,IAAM0J,EAEb,MAAO,YATyBf,IAtB6C,mBAqBxElH,EArBwE,KAqB5DoI,EArB4D,KAmC/EnY,qBAAU,WACe,UAApBmY,GACEf,EAAQnU,QAASmV,YACtBhB,EAAQnU,QAASoV,UAAUC,IAAIpX,KAAOqX,eAChCnB,EAAQnU,QAASoV,UAAUG,OAAOtX,KAAOqX,gBAC9C,CAACJ,IAGJ,IAAMM,EAAoBC,mBAAQ,kBACjC,kBAAC,GAAD,CACC/B,cAAeC,EAAW,eAAWY,EAAX,MAA4B,GACtDZ,YAAaA,EACbF,MAAOA,EACPlJ,SAAUA,MACP,CAACgK,EAAYZ,IAGlB,OACC,yBAAK3V,UAAS,UAAKC,KAAOoB,KAAZ,YAAoBrB,GAAa,IAC1CwN,YAAW/J,OAAO8I,GAClBtT,GAAKsT,EAA8B,GAAnB9I,OAAOgS,EAAMxc,IAC7B6I,IAAKqU,EACLnN,MAAO,CAAC8F,iBAETjQ,GAAY0N,IAAa,kBAAC,GAAD,CAAgBnW,QAASqf,EAAMxc,GAAIsT,SAAUA,IACxEiL,EACD,yBAAKxX,UAAWC,KAAOyX,SACtB,yBAAK1X,UAAWC,KAAO0X,SACtB,yBAAK3X,UAAWC,KAAO2X,QACtB,yBAAK5X,UAAWC,KAAO8E,MAAOiE,MAAO6N,GAAa9R,GACjDsR,GACA,yBAAKrW,UAAWC,KAAO4X,MAAOxB,EAAayB,OAAO,EAAG,IAErDvL,IAAa1N,GACb,uBAAGmB,UAAWC,KAAO8X,gBAAiB/O,MAAO2N,GAAeL,MAG3DzX,GAAY0N,IACd,yBAAKvM,UAAWC,KAAO+X,MACtB,6BAAK,kBAAC,GAAD,CAAmB5J,MAAOgI,EAAc7J,SAAUA,KACtDA,GAAY,yBAAKvD,MAAO2N,GAAc,kBAAC,GAAD,CAAwBne,KAAMid,U,oBE9F7DwC,GCQiB,kBAC5B,yBAAKjY,UAAS,UAAKC,KAAOoB,OACtB,yBAAKrB,UAAWC,KAAOiY,cACnB,yBAAKlY,UAAWC,KAAO6V,SAE3B,yBAAK9V,UAAWC,KAAOyX,SACnB,yBAAK1X,UAAWC,KAAO0X,SACnB,yBAAK3X,UAAWC,KAAO2X,QACnB,yBAAK5X,UAAWC,KAAO8E,QACvB,yBAAK/E,UAAWC,KAAO4X,QAE3B,yBAAK7X,UAAWC,KAAO+X,MACnB,yBAAKhY,UAAWC,KAAOkY,aACnB,yBAAKpJ,OAAO,OAAOC,MApBvB,GAoB2CC,QAAO,cApBlD,GAoBkD,YApBlD,IAqBSC,SAAU,WACX,4BACIC,GAAIC,GACJC,GAAID,GACJE,EAvBXF,GAwBWG,KAtBf,qBAuBeb,OAtBb,UAuBac,YA3BZJ,EA4BYpG,MAAO,CAACyG,QAAS,Y,qBCpB1C5Z,GAAkBD,IAAlBC,eAMA,SAASuiB,GAAY5f,GAC3B,MAAO,UAAWA,EAyBnB,IAAM6f,GAA6B,SAACC,EAA6BC,GAA9B,eACjCD,EAAS7e,aAAe8e,EAAS9e,YAAc6e,EAAS5e,iBAAmB6e,EAAS7e,gBACjFQ,OAAOC,MAAK,UAAAme,EAAS/e,kBAAT,eAAqBsB,UAAW,IAAIT,SAAWF,OAAOC,MAAK,UAAAoe,EAAShf,kBAAT,eAAqBsB,UAAW,IAAIT,QAwDhH,SAASoe,GAAqBC,GAAqD,IAArBC,EAAoB,uDAAH,EAC1EvU,EAA2B,GAE/B,GAAIsU,EAAYhf,aAAegf,EAAYlf,WAAY,OAAO4K,EAI9D,IAFA,IAAMwU,GAAcD,EAAS,GAAK7iB,GAEzB8L,EAAI,EAAGA,EAAI9L,GAAgB8L,IAAK,CACxC,IAAIiX,EAAYD,EAAYhX,EACxBnJ,EAAOigB,EAAYlf,WAAWsB,QAAQ+d,GAE1C,GADAzU,EAASxC,GAAKnJ,GAAQ,CAACS,GAAI2f,GACvBA,EAAU,IAAMH,EAAYlf,WAAW0B,cAAe,MAG3D,OAAOkJ,EAOO0U,OAnEf,SACE3O,GAAgD,IAAD,IA8DlB4O,EA9DkB,EAG1Bzc,oBAAS,kBAAM6C,YAAwBgL,EAAM9R,SAA5D2gB,EAHyC,oBAI1CC,EAAajX,iBAA4BgX,GACzCE,EAAUlX,iBAA0BmI,EAAM9R,MAG1CM,EAAQ6F,aACZ,SAAA7F,GAAK,OAAIA,EAAMwR,EAAM9R,QAAOigB,IATkB,EAYlBpW,EAAe,QAAQ,SAAAyW,GACpDA,GAAUzc,IAAM8B,SAASib,EAAWhX,QAAQkX,iBAAiBR,OAbd,0BAYzCA,OAZyC,MAYhC,EAZgC,EAY7BS,EAZ6B,KAgChD,OAhBApa,qBAAU,WACe,WAApBka,EAAQjX,UACP/F,IAAMmd,WAAWH,EAAQjX,SAASzI,YACtC0C,IAAM8B,SAASib,EAAWhX,QAAQqX,uBACjC,IAGHta,qBAAU,WACT,IAAM9F,EAAKuL,YAAW,WACG,WAApByU,EAAQjX,SAAwBtJ,EAAMzC,aAAeiU,EAAMa,aAAeb,EAAMa,cAAgBrS,EAAMe,YACzGwC,IAAM8B,SAASib,EAAWhX,QAAQqX,iBAAiBnP,EAAMa,YAAauO,YAAmBZ,OACxF,KACH,OAAO,kBAAMa,aAAatgB,MACxB,CAACyf,EAAQxO,EAAMa,YAAarS,IAGvB,CACC8gB,MAAUhB,GAAqB9f,EAAOggB,GACtCjT,MAAU/M,EAAMc,YACjBkf,OAAWA,EACdrF,UAAc3a,EAAMe,WACvBggB,cAyB4BX,GAzBW,UAAApgB,EAAMa,kBAAN,eAAkB0B,gBAAiB,EA0BrEF,KAAKC,KAAM8d,EAAkBjjB,KAzBlC6U,cAAiB,UAAAhS,EAAMa,kBAAN,eAAkB0B,gBAAiB,EAChDye,SAAkC,iBAApBT,EAAQjX,QAA+B,SAAC9L,GAAD,OAAkBijB,EAAQjjB,SAASuE,IC9FhFkf,GCSe,SAAC,GAAa,IAAZH,EAAW,EAAXA,MAC/B,OACC,kBAACI,GAAA,EAAD,CAAMC,WAAS,EAACC,WAAW,UAAUC,QAAS,EAAG/Z,UAAWC,KAAOoB,MACjEmY,EAAM9X,KAAI,SAAA+T,GAAK,OACf,kBAACmE,GAAA,EAAD,CAAM5f,IAAKyb,EAAMxc,GAAIT,MAAI,EAACwhB,GAAI,GAAIC,GAAI,EAAGC,GAAI,GAC3C9B,GAAY3C,GACZ,kBAAC,GAAD,CAAiBA,MAAOA,IACtB,kBAAC,GAAD,YChBO0E,GCYQ,WAEtBjP,KAF4B,MAIDjJ,EAAe,KAJd,wBAO3B4W,GAAc,CAACzgB,KAAM,SAAU2S,iBAPJ,MAIP,GAJO,IAMrByO,EANqB,EAMrBA,MAAOnG,EANc,EAMdA,UAAWqF,EANG,EAMHA,OAAQe,EANL,EAMKA,aAAc/O,EANnB,EAMmBA,aAAcgP,EANjC,EAMiCA,SAAUjU,EAN3C,EAM2CA,MASvE,OALA1G,qBAAU,WACL2Z,EAASe,GAAgBA,GAC5BC,EAASD,KACR,CAACC,EAAUhB,EAAQe,IAGrB,yBAAKzZ,UAAWC,KAAOoB,MACtB,yBAAKrB,UAAWC,KAAOma,YACtB,kBAAC,EAAD,QACG1P,GAAgB,kBAAC,GAAD,CAAoBA,aAAcA,IACrD,kBAAC,GAAD,CAAoBpD,WAAYmS,KAEhCpG,EAAY,kBAAC,GAAD,CAAgBzK,MAAO,IAAKC,OAAK,IAC3CpD,EAAQ,kBAAC,GAAD,CAAcA,MAAOA,MACxBiF,GACL,kBAAC,GAAD,CAAuBxU,KAAMwiB,IAC3B,kBAAM,kBAAC,GAAD,CAAYc,MAAOA,S,6BC/B1B1jB,GAA0BF,IAA1BE,uBA+BDukB,GAAsC,SAAC,GAA8D,IAAvD5E,EAAsD,EAA5Djd,KAAaod,EAA+C,EAA/CA,gBAAiB0E,EAA8B,EAA9BA,eAAgBC,EAAc,EAAdA,SAC3F,OACC,yBAAKC,cAAa/E,EAAM1Q,MACnB/E,UAAS,UAAKC,KAAOwa,SAAZ,YAAwBxa,KAAOya,WACxC1R,MAAO,CAAEuR,YACTvgB,IAAKyb,EAAMxc,GACXkH,QAASma,GAEb,yBAAKtR,MAAO,CAAE4M,uBAKF+E,GAzCe,WAE7B,IAAM9f,EAAUge,GAAc,CAACzgB,KAAM,iBAC/BohB,EAAQ3e,EAAQ2e,MAAMlG,QAAO,SAAC9a,EAAMmJ,GAAP,OAAaA,EAAI,KAEpD,OACC,yBAAK3B,UAAWC,KAAO2a,eACrBpB,EAAM9X,KAAI,SAAC+T,EAAO9T,GAAR,OACV,kBAAC,GAAD,CACC3H,IAAKyb,EAAMxc,GACXT,KAAMid,EACNG,gBAAe,cAAS9f,GAA6B,IAAN6L,EAAU,MAAQ,QAAlD,OAA2D8T,EAAMoF,cAAjE,KACfN,SAAQ,cAAS5Y,EAAI,GACrB2Y,eAAgB,kBAAMre,IAAM8B,SAAS8X,aAAaJ,UAGnD5a,EAAQwY,WAAa,kBAAC,GAAD,CAAgB1K,QAAM,EAACC,MAAO,Q,oBCpB/C9S,GAA2BF,IAA3BE,uBAmHFglB,GACLvV,gBAAK,YAA0E,IAAD,IAAvE8N,iBAAuE,SAApDoC,EAAoD,EAApDA,MAAoD,IAA7CsF,gBAA6C,MAAjC,kBAAM,GAA2B,EAAnBC,EAAmB,EAAnBA,cACpD/N,EAASwI,GAASA,EAAME,aAAf,cAAqC7f,GAAuB,QAA5D,OAAqE2f,EAAME,YAA3E,KAIf,OACC,yBACC3V,UAAS,UAAKC,KAAOgb,wBAAZ,YAAuCD,GAAiB,IACjEE,YAAa3a,IAEb,yBAAKP,UAAS,wBACVC,KAAOkb,iBADG,yBAEV9H,EAAYpT,KAAOmb,cAAgB,GAFzB,yBAGRnO,GAAWoG,EAA+B,GAAlBpT,KAAOob,SAHvB,gBAKTtW,MAAK,OAAE0Q,QAAF,IAAEA,OAAF,EAAEA,EAAO1Q,MACdiE,MAAO,CAAC4M,gBAAiB3I,QAAUxS,GACnCygB,YAAa3a,GACbJ,QAASsV,EAfO,kBAAMsF,KAActF,GAASxZ,IAAM8B,SAAS8X,aAAaJ,UAevChb,IACpCwS,GAAUwI,EAAQA,EAAM1Q,MAAQ,UAGnC,SAACuW,EAAWC,GAAZ,OAA0BD,EAAUjI,YAAckI,EAAUlI,aAGhE,SAASmI,GAAgB1Z,EAA+B6C,GACvD7C,EAAIE,QAAU2C,EAAGkN,QAGlB,SAAStR,GAAeH,GACvBA,EAAEG,iBAGYkb,IC3JAC,GDoBf,SAAC,GAAgH,IAAD,IAA9GrI,iBAA8G,SAA3FsI,EAA2F,EAA3FA,eAA2F,IAA3EnC,aAA2E,MAAnE,GAAmE,EAA/DxZ,EAA+D,EAA/DA,UAA+D,IAApD4b,iBAAoD,MAAxC,IAAwC,EAAnCC,EAAmC,EAAnCA,eAAgBb,EAAmB,EAAnBA,cAEtF3M,EAAUtM,iBAAuB,MAFwE,EAI3E1F,mBAAS,GAJkE,mBAIxGyf,EAJwG,KAI5FC,EAJ4F,OAM5FhP,cAAU,iBAAO,CACnCxN,GAAI,CAACuc,cACLE,QAAS,YAAmB,IAAjBF,EAAgB,EAAhBA,WACVzN,EAAQrM,QAASia,OAAOH,EAAsB,QAHvCI,EANsG,oBAa/Gnd,qBAAU,WACTmd,EAAO,CAACJ,iBACN,CAACA,EAAYI,IAEhB,IAAMC,EAAqBhZ,uBAAY,SAAqB/C,GAAsC,IAAD,EAC7DA,EAAEC,cAC/B+b,EAF0F,EACzFC,YADyF,EAC5EC,YAEfC,EAAanc,EAAbmc,UAEa,IAAdnc,EAAEoc,SACLT,GAAc,SAACU,GACd,IAAIC,EAAYD,EAAwB,IAAZF,EAC5B,OAAIG,EAAY,GAAKA,GAAaN,EAAsBM,EAC/CA,EAAYN,EAAsBA,EAC/B,OAEZ,IAEGO,EAAiBxZ,uBAAY,SAAwB/C,GAAsC,IAAD,EAC5DA,EAAEC,cAC/B+b,EAFyF,EACxFC,YADwF,EAC3EC,YAGhBlc,EAAEwc,OAAS,EAEdb,GAAc,SAACU,GACd,OAAOA,EAAY,EAAIA,EAAYb,EAAY,KAGhDG,GAAc,SAACU,GACd,IAAMC,EAAYD,EAAYb,EAC9B,OAAIc,EAAYN,EAAsBM,EAC1BN,OAEb,CAACR,IAEGiB,EAAY9a,iBAAO,GACnB+a,EAAU/a,iBAAO,GACjBgZ,EAAW,kBAAM8B,EAAU7a,UAAY8a,EAAQ9a,SAE/C+a,EAAetF,mBAAQ,kBAAM+B,EAAM9X,KAAI,SAAC+T,GAAD,OAC5C,kBAACqF,GAAD,CACC9gB,IAAKyb,EAAMxc,GACXwc,MAAOA,EACPsF,SAAUA,EACVC,cAAeA,SAEb,CAACxB,EAAMpf,OAAQ4gB,IAEnB,OACC,uCACChb,UAAS,UAAKC,KAAOoB,KAAZ,YAAoBrB,GAAa,IAC1Cgd,QAASrB,OAAiBlhB,EAAUkiB,EACpCM,YAAatB,OAAiBlhB,EAAU0hB,EACxCra,IAAKuM,EACL6O,YAAc1B,GAAgBpW,KAAK,KAAMyX,GACzCM,UAAY3B,GAAgBpW,KAAK,KAAM0X,GACvC9T,MAAO,CACNoU,UAAW/J,GAAasI,EAAiB,SAAW,SACpD1S,QAAS0S,EAAiB,GAAM,IAE5BE,EAAiB,CAAC,WAAYA,GAAkB,IAEpDF,EACA,oCACE,YAAI,IAAI0B,MAAM,IAAI3b,KAAI,SAAC4I,EAAG3I,GAAJ,OACtB,kBAACmZ,GAAD,CAAkBzH,WAAW,EAAOoC,MAAO,KAAMzb,IAAK2H,OAEvD,yBAAK3B,UAAWC,KAAOqd,eAAvB,4BAGD,oCACEP,GAGF1J,GAAa,YAAI,IAAIgK,MAAM,IAAI3b,KAAI,SAAC4I,EAAG3I,GAAJ,OACnC,kBAACmZ,GAAD,CAAkBzH,WAAS,EAACoC,MAAO,KAAMzb,IAAK2H,SEpG7C7L,GAA0BF,IAA1BE,uBAoCUynB,GAjCiB,WAE/B,IAAM1iB,EAAUge,GAAc,CAACzgB,KAAM,eAC/BohB,EAAS3e,EAAQ2e,MAEjBgE,EAAWhE,EAAMpf,OAASof,EAAM,GAAK,KAE3C,OACC,yBAAKxZ,UAAWC,KAAOwd,sBACnB5iB,EAAQwY,WAAamG,EAAMpf,QAC7B,oCACa,yBACI4F,UAAS,UAAKC,KAAOyd,cAAZ,YAA6Bzd,KAAOya,WAC7CF,cAAagD,EAAUzY,MACvB5E,QAAS,kBAAMlE,IAAM8B,SAAS8X,aAAa2H,MAE3C,yBAAKxU,MAAO,CAAC4M,gBAAgB,OAAD,OAAS9f,GAAuB,QAAhC,OAAyC0nB,EAAU3C,cAAnD,SAEhC,yBAAK7a,UAAWC,KAAO0d,8BACtB,kBAAC,GAAD,CACChC,gBAAgB,EAChBnC,MAAOA,EACPxZ,UAAWC,KAAO2d,sBAClB5C,cAAe/a,KAAO4d,0BACtBjC,UAAW,SAIpB/gB,EAAQwY,WAAa,kBAAC,GAAD,CAAgB1K,QAAM,EAACC,MAAO,QClBvDkV,GAA0C,SAAC,GAAD,IAAE/Y,EAAF,EAAEA,MAAOsE,EAAT,EAASA,SAAT,OAC/C,yBAAKrJ,UAAWC,KAAO8d,kBACtB,wBAAI/d,UAAWC,KAAO+d,cAAejZ,GACrC,yBAAK/E,UAAWC,KAAOge,uBACtB,yBAAKje,UAAWC,KAAOie,gBACrB7U,MC1BU8U,GDgCA5Y,gBA5BM,WAEpB,OACC,yBAAKvF,UAAWC,KAAOoB,MACtB,iDACA,yBAAKrB,UAAWC,KAAOyX,SACtB,kBAAC,GAAD,CAAkB3S,MAAM,sBACvB,kBAAC,GAAD,OAED,kBAAC,GAAD,CAAkBA,MAAM,eACvB,kBAAC,GAAD,YAkByB,kBAAM,K,sEEiDrBqZ,GArE0B,SAAC,GAA6E,IAAD,IAA3EC,UAAYC,EAA+D,EAA/DA,OAAQC,EAAuD,EAAvDA,SAAUlI,EAA6C,EAA7CA,aAAcmI,EAA+B,EAA/BA,QAASC,EAAsB,EAAtBA,QAASC,EAAa,EAAbA,OACjGC,EAAWJ,EAAY,IAAIK,IAAIL,GAAUI,SAAY,KACrDE,EACA,oCACI,wBAAI7kB,IAAK,EAAGgG,UAAWC,KAAO8E,OAA9B,SAEC2Z,EAAU,yBAAK1kB,IAAK,EAAGgG,UAAWC,KAAO6e,cACtC,sCACA,6BAAMJ,IACA,KAETrI,EAAgB,yBAAKrc,IAAK,EAAGgG,UAAWC,KAAO6e,cAC5C,4CACA,6BAAMC,YAAgB1I,KAChB,KAETiI,EAAU,yBAAKtkB,IAAK,EAAGgG,UAAWC,KAAO6e,cACtC,sCACA,6BAAM,IAAMnU,YAAY2T,KAClB,KAETE,EAAW,yBAAKxkB,IAAK,EAAGgG,UAAWC,KAAO6e,cACvC,uCACA,6BAAM,IAAMnU,YAAY6T,KAClB,KAETD,EAAY,yBAAKvkB,IAAK,EAAGgG,UAAWC,KAAO6e,cACxC,wCACA,uBAAGE,KAAMT,EAAUje,OAAO,SAAS2e,IAAI,uBAAuBN,IACxD,KAETF,EAAW,yBAAKzkB,IAAK,EAAGgG,UAAWC,KAAO6e,cACvC,uCACA,6BAAMI,YAAwBT,KACxB,MAIZjV,EAAaC,aACfoV,EAAK3U,MAAOb,UAAU,SAAA7Q,GAAI,cAAKA,QAAL,IAAKA,OAAL,EAAKA,EAAMwB,MAAmB,CACpD0P,QAAS,CACLU,UAAW,oBACXnB,SAAU,GAEdY,MAAO,CACHO,UAAW,kBACXnB,QAAS,GAEbc,OAAQ,CACJxT,SAAU,KACVC,OAAQ2oB,MAEZC,MAAO,MAIf,OACI,oCACC5V,EAAW9H,KAAI,YAAyB,IAAvBwI,EAAsB,EAAtBA,MAAOlQ,EAAe,EAAfA,IAAKxB,EAAU,EAAVA,KAC1B,IAAIA,EAAM,OAAO,KAEjB,IAAI6mB,EAAUC,KAAS9mB,EAAKI,MAC5B,OAAO,kBAACymB,EAAD,eAASrlB,IAAKA,GAASxB,EAAK0R,MAA5B,CAAmClB,MAAOkB,UC1E9CqV,GCkBkB,SAAC,GAA0B,IAAzBlB,EAAwB,EAAxBA,UAAWjoB,EAAa,EAAbA,QACpCyI,EAAWF,IADsC,EAE5BmN,GAAe1V,EAAUyI,EAAiB,EAAN,IAAUA,EAGrE,GAHgF,CAChF6X,OAAQ,EACR9J,QAAS,IAJ0C,mBAEhDvP,EAFgD,KAOjD4L,EAAyB,UAPwB,KAOd,EAAI,EAEvCiB,EAAQ6C,aAAU,CACpB1P,OACA0M,OAAQ,CACJxT,SAAU,IACVC,OAAQ2oB,QAIZK,EAAkB9T,YAA0BtV,GAE5CuX,EAAkB6R,EAAkBC,aAAKD,EAAgB5R,aAAc,IArBxD,0BAuBnB,OACI,kBAAC,KAASzD,IAAV,CAAcnK,UAAWC,KAAOoB,KAAM2H,MAAO,CACzC3L,KAAM6M,EAAM7M,KAAKkC,IAAG,SAAA+K,GAAC,OAAIA,EAAE,OAC3BqD,kBACA1E,YAECoV,GAAa,kBAAC,GAAD,CAAuBA,UAAYA,M,qBCjCvDqB,GAAc,8BADG,GACH,KCZLC,GD4CAra,IAAMC,MA9BkB,SAAC,GAAe,IAAdnP,EAAa,EAAbA,QAE/B8W,EAAkB7B,GAAmBjV,GAFO,EAI/B0V,GAA8B1V,EAAS,CAAC6S,QAAS,GAAI,CACpEyN,OAAQ,CACJzN,QAAS,EACT2W,mBAAoB,OAExBhT,QAAS,CACL3D,QAAS,EACT2W,mBAAoB,SAPrBC,EAJ2C,oBAe9CC,EAAUJ,GAEVxS,IACA4S,EAAUL,aAAKvS,EAAgBU,aArBhB,KAuBnB,IAAImS,EAAyB,CACzBC,WAAW,2CAAD,OAA6CF,EAA7C,WAGd,OACI,yBAAK9W,MAAK,gBAAM+W,EAAN,GAAkBF,GAAW7f,UAAWC,KAAOoB,UAKlB,kBAAM,K,qBEtC9ClL,GAA0BP,IAA1BO,uBCNQ8pB,GDawB,SAAC,GAA0B,IAAzB7pB,EAAwB,EAAxBA,QAAS4J,EAAe,EAAfA,UAAe,EAEtB3D,mBACzC,MAH+D,mBAEzD6jB,EAFyD,KAE1CC,EAF0C,KAMhEphB,qBAAU,WACT,IAAI8P,GAAS,EAKb,OAJAqE,YAA6B/c,GAAuBC,EAAS,aAC3DoH,MAAK,SAAAjC,IACJsT,GAAUsR,EAAiB5kB,EAAKV,YAE5B,WAAQgU,GAAS,KACtB,CAACzY,IAGJ,IAAMulB,IAAmBuE,IAAkBA,EAAc9lB,OAEzD,OACC,kBAAC,GAAD,CACC4F,UAAS,UAAKC,KAAOoB,KAAZ,YAAoBrB,GAAa,IAC1CqT,WAAY6M,EACZvE,eAAgBA,EAChBnC,MAAK,OAAE0G,QAAF,IAAEA,SAAiBzlB,EACxBohB,eAAgB,wBAChBD,UAAW,OEtCCwE,GCsEA7a,gBArDqB,SAAC,GAAiB,IAAhB8a,EAAe,EAAfA,UAC5BC,EAAeve,iBAAOse,GACtBxhB,EAAWF,IACX4hB,EAAYC,YAAYH,GAHmB,EAKfhkB,oBAA4B,kBAC1DkkB,EAAYF,EAA0B,QANO,mBAK1ChC,EAL0C,KAK/BxI,EAL+B,KASjD9W,qBAAU,WACN,IAAI8P,GAAS,EAQb,OAPIjQ,eACA+I,cAEC6Y,YAAYF,EAAate,UAC1Bye,YAAiBH,EAAate,SACzBxE,MAAK,SAAAiY,GAAK,OAAK5G,GAAUgH,EAAaJ,MAExC,WACH5G,GAAS,KAEd,IArB8C,MAuB9B/C,GAAeuU,EAAUpnB,IAAI,EAAS4F,EAGrD,GAHgE,CAChE6X,QAAQ,EACR9J,SAAS,IAFHlU,EAvBuC,oBA4B3CgoB,EAAY7hB,GAAsB,SAAVnG,EAE9B,OACI,yBAAKsH,UAAWC,KAAOoB,KAAMpI,GAAG,mBAC5B,kBAAC,GAAD,CAAqB7C,QAASiqB,EAAUpnB,KACxC,yBAAK+G,UAAWC,KAAO0gB,UACnB,kBAAC,GAAD,CAAiBlL,MAAO4K,EAA+B9T,UAAQ,EAACvM,UAAWC,KAAOogB,YACjFxhB,GACG,oCACI,yBAAKmB,UAAWC,KAAO2gB,mBACnB,kBAAC,GAAD,CAAmBxS,MAAOiS,EAAUjK,aAAc7J,UAAQ,IAC1D,kBAAC,GAAD,CAAwB/T,KAAO6nB,KAEnC,uBAAGrgB,UAAWC,KAAO4gB,gBAAiBR,EAAU/J,WAGvDoK,EAAY,kBAAC,GAAD,CAAkBtqB,QAASiqB,EAAUpnB,KAAQ,MAE9D,yBAAK+G,UAAWC,KAAO6gB,UAClBzC,GAAa,kBAAC,GAAD,CAAeA,UAAWA,EAAWjoB,QAASiqB,EAAUpnB,UAMzC,SAACqiB,EAAWC,GAAZ,OACzCD,EAAU+E,UAAUpnB,KAAOsiB,EAAU8E,UAAUpnB,M,oCCvDpC8nB,G,oDAjBX,WAAY3qB,EAAiBsC,GAA6B,wCAChD,YAAa,CACfkT,OAAQ,CACJxV,UACAsC,W,uBALasoB,cCQvBzoB,GAAmC,CAAC0oB,cAAe,KAAM5N,WAAW,GAEpE5a,GACL,SAA0BC,EAAOC,GAChC,OAAQA,EAAOC,MACd,IAAK,aACJ,OAAOL,GACR,IAAK,iBACJ,OAAO,gBACHG,EADJ,CAEC2a,WAAW,IAEb,IAAK,iBACJ,MAAO,CACNA,WAAW,EACX4N,cAAetoB,EAAOK,WAMrBkoB,GAAiB,SAAC1oB,GAAD,MAA2D,CACjFI,KAAM,iBACNI,QAASR,IAqEV,SAAS2oB,GAAiBC,EAAkCtnB,GAC3D,OAAc,OAAPsnB,QAAO,IAAPA,OAAA,EAAAA,EAASnoB,OAAT,OAAgBa,QAAhB,IAAgBA,OAAhB,EAAgBA,EAASb,IAuBlBooB,OArFf,WAA6C,IAAD,IACJpf,EAAe,WADX,0BACpCwF,OADoC,MACrB,EADqB,EAClB6Z,EADkB,OAGjBpN,qBAAWzb,GAAkBF,IAHZ,mBAGpCG,EAHoC,KAG7BqF,EAH6B,KAIpCkjB,EAA4BvoB,EAA5BuoB,cAAe5N,EAAa3a,EAAb2a,UAEhBkO,EAAe,kBAAMD,EAAW,OAEhCE,EAAkBre,uBAAY,SAACzK,GAAqB,IAAD,IACxD,IAAK+O,EAAc,OAAO,KAC1B,IAAM5M,EAAO,UAAGnC,EAAM+oB,OAAOloB,kBAAhB,aAAG,EAAyBsB,QACzC,GAAIA,EACH,IAAK,IAAIb,KAAOa,EAAhB,OACC,IAAI,UAAAA,EAAQb,UAAR,eAAcf,MAAOwO,EACxB,OAAO5M,EAAQb,GAGlB,OAAO,UAAAtB,EAAM2nB,UAAU7nB,YAAhB,eAAsBS,KAAMwO,EAAe/O,EAAM2nB,UAAU7nB,KAAO,OACvE,CAACiP,IAEEia,EAAgBnjB,YAA+CijB,EAAiBL,IAEhFQ,EAAc,iBAAGD,QAAH,IAAGA,OAAH,EAAGA,EAAezoB,UAAlB,QAAwB,EAE5C8F,qBAAU,WACLsU,IAGAsO,IAAmBla,IAA6B,OAAbwZ,QAAa,IAAbA,OAAA,EAAAA,EAAehoB,MAAOwO,EAC5D1J,EAASmjB,GAAeQ,MAEbT,GAAmBA,GAG3BA,EAAchoB,IAAMwO,IACfA,GAER1J,EAzC4D,CAC9DnF,KAAM,mBAyCJ6nB,YAAgB,OAACiB,QAAD,IAACA,IAAiBja,GACjCjK,MAAK,SAAA6gB,GACLtgB,EAASmjB,GAAe7C,QAIf5W,GAAkC,OAAlBwZ,GAE1BljB,EAAS,CAACnF,KAAM,kBAGf,CAAC6O,EAAcka,EAAgBtO,EAAW4N,EAAeS,IAjDjB,MAoD1CrlB,mBAA0B,CAAC4kB,gBAAe5N,YAAWkO,iBApDX,mBAmDpCK,EAnDoC,KAmDjBC,EAnDiB,KA0D3C,OAJA9iB,qBAAU,WACT8iB,EAAqB,CAACZ,gBAAe5N,YAAWkO,mBAC9C,CAAC7oB,IAEGkpB,GC5CFE,GAAqCxc,IAAMC,MAAK,YAA8C,IAA5C8D,EAA2C,EAA3CA,SAAU4X,EAAiC,EAAjCA,cAAeM,EAAkB,EAAlBA,aAAkB,EACxEzV,IAA4B,OAAbmV,QAAa,IAAbA,OAAA,EAAAA,EAAehoB,KAAM,EAAG,GAAI,CACpE0T,QAAQ,qBACRC,aAASnS,IAFHkT,EAD2F,oBAalG,OACC,yBAAK3N,UAAWC,KAAOoB,KAAMlB,QAR9B,YAAqF,IAA3DG,EAA0D,EAA1DA,OACrBA,IAD+E,EAAlDD,gBAE/BC,EAA0B0I,MAAM2E,gBAAkB,mBACnD4T,MAMIvY,MAAO,CAAC2E,oBACXtE,MAGD,kBAAM,KA8EM/D,ICpJAyc,GDoJAzc,IAAMC,MAtIO,WAC3B,IAAM1G,EAAWF,IADgB,EAGgB0iB,KAA1CJ,EAH0B,EAG1BA,cAAe5N,EAHW,EAGXA,UAAWkO,EAHA,EAGAA,aAE3BS,EAqDP,SAA6BvM,EAAkB5W,GAAkE,IAAD,EAC/G,IAAK4W,EAAO,MAAO,GACnB,IAAIwM,EAAc1b,SAAS2b,eAAe,kBACpCC,EAAO,UAAG5b,SAAS2b,eAAeze,OAAOgS,EAAMxc,YAAxC,aAAG,EAA2CwY,wBAC3D,GAAMgE,EAAO,CACZ,IAEI2M,EAFAC,EAAkBJ,EAAYK,kBAAmB7Q,wBAsBrD,MAAO,CACN7H,KAlBAwY,EADGD,EACe,CACjBI,IAAKJ,EAAQI,IACbllB,KAAM8kB,EAAQ9kB,KACdmlB,OAAQzlB,OAAOoV,YAAcgQ,EAAQK,OACrCxT,MAAOmT,EAAQnT,OAGE,CACjBuT,IAAKxlB,OAAOoV,YACZ9U,KAAMglB,EAAgBhlB,KACtBmlB,QAAS,GACTxT,MAAOqT,EAAgBrT,MACvB/F,QAAS,GAOVY,MAAO,CACN0Y,IAA0B,GAArBxlB,OAAOoV,YACZ9U,KAAMglB,EAAgBI,EACtBD,QAAS,GACTxT,MAAOqT,EAAgBrT,MACvB/F,QAAS,GAEVa,MAAM,gBACFsY,EADC,CAEJrY,OAAQ,CACP2Y,KAAa,GACbC,QAAS,IACTC,SAAU,GACVC,OAAO,KAGT9Y,OAAQlL,EAAW,CAClBtI,SAAU,GACP,CACHmsB,KAAa,GACbC,QAAS,IACTC,SAAU,GACVrQ,UAAW,GACXsQ,OAAO,GAERC,QAAUjkB,OASNpE,EATiB,SAACjC,EAAiBE,GAClCF,IACW,UAAVE,EACH8L,YAAW,WACVue,cAAc,IAAIhC,GAAevoB,EAAKS,GAAI,YACxC,IACiB,UAAVP,GACVqqB,cAAc,IAAIhC,GAAevoB,EAAKS,GAAI,YAG7C+pB,OAASnkB,OAOLpE,EAPgB,SAACjC,EAAiBE,GACjCF,IACW,UAAVE,EACHqqB,cAAc,IAAIhC,GAAevoB,EAAKS,GAAI,UACxB,UAAVP,GACRqqB,cAAc,IAAIhC,GAAevoB,EAAKS,GAAI,YAIxC,MAAO,GA9HWgR,CAAoBgX,EAAepiB,GAEtDokB,EAAaphB,EAAYmgB,GAEzBkB,EAAgBjC,EAAgBe,EAAH,OAAuBiB,QAAvB,IAAuBA,IAAc,GAElEzZ,EAAaC,aAAcwX,GAA4B,OAAbA,QAAa,IAAbA,OAAA,EAAAA,EAAehoB,KAAM,EAAGiqB,GAExE,OACC,oCACGrkB,EAQD2K,EAAW9H,KAAI,gBAAQ2e,EAAR,EAAE7nB,KAAiBwB,EAAnB,EAAmBA,IAAnB,OAA4BqmB,GAC3B,kBAAC,GAAD,CAAermB,IAAKA,EAAKqmB,UAAWA,OARpD7W,EAAW9H,KAAI,gBAAEwI,EAAF,EAAEA,MAAOlQ,EAAT,EAASA,IAAWqmB,EAApB,EAAc7nB,KAAd,OAAmC6nB,GAClC,kBAACyB,GAAD,CAAkBP,aAAcA,EAAcN,cAAeZ,EAAWrmB,IAAKA,GACzE,kBAAC,KAASmQ,IAAV,CAAcnQ,IAAKA,EAAKgG,UAAWC,KAAOkjB,cAAena,MAAOkB,GAC5D,kBAAC,GAAD,CAAemW,UAAWA,SAQlDhN,GAAa,kBAAC,GAAD,CAAgBxK,OAAK,EAACF,QAAM,EAACC,MAAO,UA2GV,kBAAM,K,qEE1I1C9S,GAA0BF,IAA1BE,uBCVQstB,GDegB,SAAC,GAAY,IAAX5qB,EAAU,EAAVA,KAK7B,OACC,yBAAKwH,UAAWC,KAAOoB,MACrB+W,GAAY5f,GAAQ,oCACpB,kBAAC,GAAD,CACCkd,cAAa,cAAS5f,GAAuB,QAAhC,OAAyC0C,EAAKmd,YAA9C,KACbF,MAAOjd,EACPmd,YAAand,EAAKmd,YAClB3V,UAAWC,KAAO6V,QAEnB,yBAAK9V,UAAWC,KAAO+X,MACtB,wBAAIhY,UAAWC,KAAOojB,WAClBljB,QAAS,kBAdG,SAAC3H,GAAD,OACtByD,IAAM8B,SAAS8X,aAAard,IAaH8qB,CAAe9qB,KAChCA,EAAKuM,OACP,yBAAK/E,UAAWC,KAAO3I,aACtB,kBAAC,GAAD,CAAmB8W,MAAO5V,EAAK4d,aAAc7J,UAAQ,IACrD,kBAAC,GAAD,CAAwB/T,KAAMA,EAAMwH,UAAWC,KAAOsjB,mBAGnD,kBAAC,GAAD,CAAgB3a,MAAO,IAAKD,QAAM,MEQxC6a,GAAgCje,gBAAK,YAAc,IAAZiU,EAAW,EAAXA,MAEtChQ,EAAaC,aAAc+P,GAAO,SAAAhhB,GAAI,OAAIA,EAAKS,KAAI+oB,IAEzD,OACC,oCAEExY,EAAW9H,KAAI,gBAAElJ,EAAF,EAAEA,KAAMwB,EAAR,EAAQA,IAAKkQ,EAAb,EAAaA,MAAb,QAA0B1R,GACxC,kBAAC,KAAS2R,IAAV,CACCnQ,IAAKA,EACLgP,MAAK,gBACDkB,EADC,CAEJE,UAAWF,EAAMP,WAAWU,aAAY,SAAAC,GAAC,OACxCA,EAAC,qBAAiBA,EAAjB,OAA0B,SAI7B,kBAAC,GAAD,CAAU9R,KAAMA,YAShBirB,GAA8C,CACnDxa,QAAS,EACTya,UAAW,IACX/Z,WAAY,EACZga,cAAe,IAGV3B,GAAsD,CAC3DpY,KAAM6Z,GACN5Z,MAAO4Z,GACP3Z,MAAO,2DAAM,WAAM8Z,GAAN,UAAAnsB,EAAA,sDAEZmsB,EAAK,CAACF,UAAW,EAAGC,cAAe,EAAG/a,MAAO,MAAM1K,OAAM,eAEzD0lB,EAAK,CAAE3a,SAAU,GAAIU,WAAY,MAAOzL,OAAM,eAJlC,2CAAN,uDAMP6L,OAAQ,CACPxT,SAAU,IACVC,OAAQC,MAETuT,QAAQ,GC5FM6Z,GDec,SAAC,GAAgB,IAAfC,EAAc,EAAdA,SAAc,EAEKjL,GAAc,CAACzgB,KAAM0rB,IAA/DtK,EAFqC,EAErCA,MAAOC,EAF8B,EAE9BA,aAAcf,EAFgB,EAEhBA,OAAQrF,EAFQ,EAERA,UAFQ,EAIpBpR,EAAe,QAJK,mBAIrC/L,EAJqC,KAI/BijB,EAJ+B,KAM5Cpa,qBAAU,YACR7I,GAAQijB,EAAQ,KACf,CAACA,EAASjjB,IAEb,IAAM6O,EAAqB,aAAb+e,EAA0B,YAAc,YAEtD,OACC,yBAAK9jB,UAAWC,KAAOoB,MACtB,yBAAKrB,UAAWC,KAAO8jB,MACtB,wBAAI/jB,UAAWC,KAAO8E,OAAQA,GAC7B0U,EAAa,GAAK,kBAAC,GAAD,CAAoBnS,WAAYmS,KAGnDpG,GAAa,kBAAC,GAAD,CAAgB1K,QAAM,EAACE,OAAK,EAACD,MAAO,MAClD,kBAAC,GAAD,CAAqB1S,KAAMwiB,IACzB,kBAAM,kBAAC8K,GAAD,CAAWhK,MAAOA,SEpCdwK,GCEW,WAItB,OAFH9Y,KAEU,kBAAC,GAAD,CAAW4Y,SAAS,eCNhBG,GCGW,WAItB,OAFA/Y,KAEO,kBAAC,GAAD,CAAW4Y,SAAS,cCPhBI,GCKmB,SAAC,GAA6C,IAAjCC,EAAgC,EAA3CC,UAAsBC,EAAqB,EAArBA,OAAWvb,EAAU,uCACvEtK,EAAUF,IAAVE,OAEP,OAAO,kBAAC,KAAD,iBAAWsK,EAAX,CAAiBub,OAAQ,SAACna,GAChC,OAAK1L,EAEI2lB,EACD,kBAACA,EAAcja,GACdma,EACDA,EAAOna,GACH,KALJ,kBAAC,GAAD,WCKJoa,GACL,oCACC,kBAAC,KAAD,CAAOC,OAAK,EAACjoB,KAAK,IAAI+nB,OAAQ,kBAAM,kBAAC,GAAD,SACpC,kBAAC,KAAD,CAAO/nB,KAAK,UAAU+nB,OAAQ,kBAAM,kBAAC,GAAD,SACpC,kBAAC,GAAD,CAAW/nB,KAAK,aAAa+nB,OAAQ,kBAAM,kBAAC,GAAD,SAC3C,kBAAC,GAAD,CAAW/nB,KAAK,aAAa+nB,OAAQ,kBAAM,kBAAC,GAAD,SAC3C,kBAAC,KAAD,CAAO/nB,KAAK,WAAW+nB,OAAQ,kBAAM,kBAAC,GAAD,UA0CxBG,UArCC,WACf,IAAM3lB,EAAWF,IAUjB,OARAI,qBAAU,WACTnB,QAAQC,IAAI,iCACZmN,eAAeyZ,QACfC,cACElnB,MAAK,SAAAL,GAAI,OAAIlB,IAAM8B,SAAS4mB,YAAQxnB,OACpCe,MAAMN,QAAQ6H,SACd,IAEK,yBAAKzF,UAAWC,IAAOoB,MAC9B,kBAAC,EAAD,MACA,0BAAMrB,UAAWC,IAAO2kB,KAAM3rB,GAAG,kBAChC,kBAAC4rB,EAAA,EAAD,KACGhmB,EAKD,kBAAC,KAAD,CAAOwlB,OAAS,YAAiB,IAAf3gB,EAAc,EAAdA,SACjB,OAAKA,EAAS+d,OAAOzM,SAAS,WAMlB,kBAAC,GAAD,MAJV,kBAAC,KAAD,CAAQtR,SAAUA,GAChB4gB,OARL,kBAAC,KAAD,KACEA,MAcFzlB,GAAY,kBAAC,GAAD,U,oFC9CGimB,QACW,cAA7B/nB,OAAO2G,SAASib,UAEe,UAA7B5hB,OAAO2G,SAASib,UAEhB5hB,OAAO2G,SAASib,SAASoG,MACvB,2D,qECLNhoB,OAAOioB,OAAS,IAAI/vB,IACpB8H,OAAOioB,OAAOC,UAAYC,ID6HpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAM7nB,MAAK,SAAA8nB,GACjCA,EAAaC,iBCrHJ,WACX,IAAMf,EAAMgB,EAAQ,KAASC,QAE7BC,IAASrB,OACL,kBAAC,IAAD,CAAUpoB,MAAOA,KACb,kBAAC,IAAD,CAAY0pB,SAP2B,uBAQnC,kBAACC,EAAA,EAAD,CAAgBC,aAAW,GACvB,kBAACrB,EAAD,SAIZje,SAAS2b,eAAe,SAIhCmC,I,mBCvCAtvB,EAAOC,QAAU,CAAC,KAAO,wBAAwB,QAAU,2BAA2B,iBAAmB,oCAAoC,aAAe,gCAAgC,sBAAwB,yCAAyC,eAAiB,kCAAkC,cAAgB,iCAAiC,SAAW,4BAA4B,oBAAsB,uCAAuC,cAAgB,iCAAiC,6BAA+B,gDAAgD,sBAAwB,yCAAyC,0BAA4B,6CAA6C,WAAa,8BAA8B,UAAY,+B,mBCAtwBD,EAAOC,QAAU,CAAC,KAAO,iCAAiC,YAAc,wCAAwC,cAAgB,0CAA0C,KAAO,iCAAiC,qBAAuB,iDAAiD,YAAc,wCAAwC,aAAe,yCAAyC,SAAW,qCAAqC,QAAU,oCAAoC,QAAU,oCAAoC,aAAe,2C,wGCWvhB2F,E,+CAFqCxC,GAAqBvC,IAA/DI,yBAA+DJ,IAArCC,eAAqCD,IAArBuC,mBAiBlC,SAAS+G,EAAqD9G,GAEzE,IAAI8c,OAA6Eza,EAC7E0a,OAAkE1a,EA2JtE,MAzJa,aAATrC,GAAgC,cAATA,IACvB8c,EAAqB,SAAC1c,GAAD,MAA6C,CAC9DI,KAAM+B,EAAyBC,sBAC/B5B,QAASR,EACTJ,KAAMA,IAGV+c,EAAsB,SAAClc,GAAD,MAAiC,CACnDL,KAAM+B,EAAyBO,uBAC/BlC,QAASC,EACTb,KAAMA,KAIQ,CAClBoI,mBAAoB,iBAAuB,CACvC5H,KAAM+B,EAAyBQ,qBAC/B/C,SAGJ0tB,iBAAkB,iBAAuB,CACrCltB,KAAM+B,EAAyBS,mBAC/BhD,SAGJ2tB,mBAAoB,SAACxqB,EAAyBtF,GAA1B,MAAkE,CAClF2C,KAAM+B,EAAyBU,qBAC/BrC,QAAS,CAACuC,OAAMtF,cAChBmC,SAGJ4tB,mBAAoB,SAACvgB,GAAD,MAAgD,CAChE7M,KAAM+B,EAAyBc,qBAC/BzC,QAASyM,EACTrN,SAGJihB,iBAvBkB,WAuBwE,IAAD,OAAxEpjB,EAAwE,uDAAnD,GAAIgwB,EAA+C,uDAA7B,EACxD,8CAAO,WAAMloB,GAAN,qBAAAtG,EAAA,yDACU,WAATW,GAAsBnC,EADvB,wDAGH8H,EAAS,EAAK+nB,oBAHX,kBAKiBnuB,MAAMQ,EAAkBC,EAAMnC,EAAYgwB,IAL3D,WAKKxoB,EALL,QAMUyoB,GANV,kCAO2CzoB,EAAIC,OAP/C,QAOS+H,EAPT,OAQK1H,EAAS,EAAKioB,mBAAmBvgB,IARtC,yCAU2ChI,EAAIC,OAV/C,QAUSnC,EAVT,OAYK4qB,YAAuB5qB,EAAKV,SAExBurB,EAdT,eAeY7qB,EAfZ,CAgBSV,QAASwrB,YAAmB9qB,EAAKV,QAASorB,KAG9CloB,EAAS,EAAKgoB,mBAAmBK,EAAiBnwB,IAnBvD,0DAsBC8H,EACI,EAAKioB,mBAAmB,CACpBxqB,OAAQ,CAAC,6BAxBlB,0DAAP,uDA+BJ8qB,qBAAsB,iBAAuB,CACzC1tB,KAAM+B,EAAyBe,wBAC/BtD,SAGJmuB,uBAAwB,SAAC1rB,EAA4Be,GAA7B,MAAsE,CAC1FhD,KAAM+B,EAAyBgB,0BAC/B3C,QAAS,CAAC6B,UAASe,eACnBxD,SAGJouB,uBAAwB,SAAC/gB,GAAD,MAAgD,CACpE7M,KAAM+B,EAAyBmB,0BAC/B9C,QAASyM,EACTrN,SAGJquB,qBAxEkB,SAwEGC,GACiC,IAAC,IAAD,0BADPC,EACO,iCADPA,EACO,kBAClD,8CAAO,WAAO5oB,EAAUqb,GAAjB,uBAAA3hB,EAAA,6DACCxB,EAAa2wB,YAAe,MAAQ,GAExC7oB,EAAS,EAAKuoB,wBAHX,kBAKiB3uB,MAAMQ,EAAkBC,EAAMnC,EAAYywB,IAL3D,WAKKjpB,EALL,QAMUyoB,GANV,iCAO2CzoB,EAAIC,OAP/C,OAOS+H,EAPT,OAQK1H,EAAS,EAAKyoB,uBAAuB/gB,IAR1C,yCAU2ChI,EAAIC,OAV/C,QAUSnC,EAVT,OAYK4qB,YAAuB5qB,EAAKV,SAExBgsB,EAAgBR,YAAmB9qB,EAAKV,QAAS6rB,GAErD3oB,EAAS,EAAKwoB,uBAAuBM,EAAeH,IAhBzD,0DAmBC3oB,EACI,EAAKyoB,uBAAuB,CACxBhrB,OAAQ,CAAC,6BArBlB,yBAyBKmrB,EAAgBvsB,QAEhB2D,EAAS,EAAK0oB,qBAAL,QAA6BE,IA3B3C,6EAAP,yDAiCJzN,iBA3GkB,SA2GDR,GAA2C,IAAD,OACvD,8CAAO,WAAO3a,EAAUqb,GAAjB,6BAAA3hB,EAAA,yDACEihB,GAAmB,iBAATtgB,EADZ,sDAEqDghB,IAAWhhB,GAA3DuB,EAFL,EAEKA,gBAAiBJ,EAFtB,EAEsBA,YAFtB,EAEkCG,eAFlC,iDAMGrB,EAAYihB,YAAmBZ,GAC/BoO,EAAkBxN,YAAmBZ,EAAQ,QAC7C5d,GAAwB,OAAVvB,QAAU,IAAVA,OAAA,EAAAA,EAAYuB,cAAe,EAKzCisB,EAAyB,IAHzBC,EAAc,SAAC3uB,GAAD,OAChBA,EAAU,GAAKA,GAAWyC,IAAgBnB,EAAgBqb,SAAS3c,KAI3DyuB,IAAsBC,EAAaE,KAAKH,GACpDE,EAAY3uB,IAAsB0uB,EAAaE,KAAK5uB,GACpD2uB,EAAY3uB,EAAU,IAAY0uB,EAAaE,KAAK5uB,EAAU,GAC9D2uB,EAAY3uB,EAAU,IAAY0uB,EAAaE,KAAK5uB,EAAU,GAE1D0uB,EAAa3sB,QAEb2D,EAAS,EAAK0oB,qBAAL,QAA6BM,IAtBvC,4CAAP,yDA0BJ7R,mBAAqBA,EACrBC,oBAAsBA,I,SAzKlBxa,K,wCAAAA,E,4CAAAA,E,4CAAAA,E,kDAAAA,E,sDAAAA,E,sDAAAA,E,4CAAAA,E,8CAAAA,E,iDAAAA,M,sCCTL,IAAK9B,EAAZ,oE,SAAYA,K,gCAAAA,E,qCAAAA,M,KAKL,IAAMgd,EAAe,SAACrd,GAAD,MAAgD,CAC3EI,KAAMC,EAAsBC,eAC5BE,QAASR,K,gCCVV,sGACO,IAQM/B,EAAc,SAASywB,GAClC,OAAOA,GAAK,EAAIA,IAWLla,EAAe,SAASka,GACnC,QAASA,EAAIA,EAAIA,EAAI,GAWV/H,EAAe,SAAS+H,GACnC,OAAO,KAAMA,EAAIA,EAAIA,EAAIA,I,mBCjC3BnyB,EAAOC,QAAU,CAAC,KAAO,sBAAsB,KAAO,sBAAsB,QAAU,yBAAyB,QAAU,yBAAyB,YAAc,6BAA6B,OAAS,wBAAwB,WAAa,4BAA4B,OAAS,wBAAwB,WAAa,8B,mBCArTD,EAAOC,QAAU,CAAC,aAAe,wCAAwC,WAAa,sCAAsC,KAAO,gCAAgC,QAAU,mCAAmC,QAAU,mCAAmC,OAAS,kCAAkC,MAAQ,iCAAiC,KAAO,gCAAgC,gBAAkB,2CAA2C,KAAO,gCAAgC,aAAe,wCAAwC,aAAe,0C,mBCAliBD,EAAOC,QAAU,CAAC,KAAO,oCAAoC,aAAe,4CAA4C,aAAe,4CAA4C,MAAQ,qCAAqC,QAAU,uCAAuC,QAAU,uCAAuC,OAAS,sCAAsC,MAAQ,qCAAqC,KAAO,oCAAoC,KAAO,oCAAoC,YAAc,2CAA2C,OAAS,sCAAsC,aAAe,8C,mBCA3mBD,EAAOC,QAAU,CAAC,KAAO,8BAA8B,MAAQ,+BAA+B,aAAe,wC,gCCCtG,IAAKoE,EAAZ,sG,SAAYA,K,oBAAAA,E,yBAAAA,M,KAML,IAAMurB,EAAU,SAACxnB,GAAD,MAAmC,CACzDvE,KAAMQ,EAAiBC,SACvBL,QAASmE,IAGGa,EAAY,iBAAoB,CAC5CpF,KAAMQ,EAAiBE,c,u0BCZlB6tB,E,oHAImCC,GACjC,IAMI7rB,EANA8rB,EAASF,EAAuBG,OAChCC,EAAUJ,EAAuBK,QAErC,IAAKD,EACD,MAAM,IAAIE,MAAM,gCAGpB,IACIzY,EAAOD,EAEP3U,EADAuH,GAAK,EAEL+lB,EAAM,CAACpY,EAAG,EAAGqY,EAAG,EAAGC,EAAG,GAAIza,EAAU,GACpC0a,EAAQ,EAEZ9Y,EAASsY,EAAOtY,OAASqY,EAAMU,eAAiBV,EAAMW,cAAgBX,EAAMrY,OAC5EC,EAASqY,EAAOrY,MAASoY,EAAMY,cAAiBZ,EAAMjQ,aAAgBiQ,EAAMpY,MAE5EuY,EAAQU,UAAUb,EAAO,EAAG,GAE5B,IACI7rB,EAAOgsB,EAAQW,aAAa,EAAG,EAAGlZ,EAAOD,GACzC5B,EAAUka,EAAOc,UAAU,aAAc,IAC3C,MAAM/nB,GAEJ,MADAxC,QAAQ6H,MAAMrF,GACR,IAAIqnB,MAAMrnB,GAKpB,IAFAhG,EAASmB,EAAKA,KAAKnB,QAEVuH,GAAKymB,IAAiBhuB,KACzBytB,EACFH,EAAIpY,GAAK/T,EAAKA,KAAKoG,GACnB+lB,EAAIC,GAAKpsB,EAAKA,KAAKoG,EAAE,GACrB+lB,EAAIE,GAAKrsB,EAAKA,KAAKoG,EAAE,GAQzB,OAJA+lB,EAAIpY,KAAOoY,EAAIpY,EAAEuY,GACjBH,EAAIC,KAAOD,EAAIC,EAAEE,GACjBH,EAAIE,KAAOF,EAAIE,EAAEC,GAEV,CACH1a,UACAS,aAAa,OAAD,OAAS8Z,EAAIpY,EAAb,aAAmBoY,EAAIC,EAAvB,aAA6BD,EAAIE,EAAjC,U,KAhDlBT,EACaG,OAAS/gB,SAAS8hB,cAAc,UAD7ClB,EAEaK,QAAUL,EAAuBG,OAAOgB,YAAcnB,EAAuBG,OAAOgB,WAAW,MAmDnGnB,Q,wBCrCAoB,E,kDAfX,WAAYnyB,EAAiBmV,GAA+B,uCAClD,YAAa,CACfK,OAAQ,CACJxV,UACAmV,a,sBALayV,cCUtB7qB,EAAwEP,IAAxEO,uBAAwBO,EAAgDd,IAAhDc,cAAeC,EAAiCf,IAAjCe,cAAed,EAAkBD,IAAlBC,eAQtD,SAAS+I,IACf,OAAO7B,OAAOuT,YAAc,IAGtB,SAAS9B,EAAT,IAGNga,GAA2C,IAAD,mBAFzCC,EAEyC,KAFrCC,EAEqC,KAFjCC,EAEiC,wBADzCC,EACyC,KADrCC,EACqC,KADjCC,EACiC,KAEnCC,EACNhuB,KAAK+J,IAAI2jB,EAAKG,GAAMJ,EADLQ,EAEfjuB,KAAK+J,IAAI4jB,EAAKG,GAAML,EAFIS,EAGxBluB,KAAK+J,IAAI6jB,EAAKG,GAAMN,EAGrB,MAAO,CACNC,EAAKG,EAAKH,EAAKM,EAAUN,EAAKM,EAC9BL,EAAKG,EAAKH,EAAKM,EAAUN,EAAKM,EAC9BL,EAAKG,EAAKH,EAAKM,EAAUN,EAAKM,GAIzB,SAASta,EAAT,GAAgE,IAIlEW,EAAGqY,EAAGC,EAJ2D,mBAA5CsB,EAA4C,KAAzCC,EAAyC,KAAtCC,EAAsC,KAKrE,GAJAF,GAAK,IAELE,GAAK,IAEK,KAHVD,GAAK,KAIJ7Z,EAAIqY,EAAIC,EAAIwB,MACN,CACN,IAAMC,EAAU,SAACC,EAAWC,EAAWrC,GAGtC,OAFIA,EAAI,IAAGA,GAAK,GACZA,EAAI,IAAGA,GAAK,GACZA,EAAI,EAAI,EAAUoC,EAAc,GAATC,EAAID,GAASpC,EACpCA,EAAI,GAAcqC,EAClBrC,EAAI,EAAI,EAAUoC,GAAKC,EAAID,IAAM,EAAI,EAAIpC,GAAK,EAC3CoC,GAEFC,EAAIH,EAAI,GAAMA,GAAK,EAAID,GAAKC,EAAID,EAAIC,EAAID,EACxCG,EAAI,EAAIF,EAAIG,EAClBja,EAAI+Z,EAAQC,EAAGC,EAAGL,EAAI,EAAI,GAC1BvB,EAAI0B,EAAQC,EAAGC,EAAGL,GAClBtB,EAAIyB,EAAQC,EAAGC,EAAGL,EAAI,EAAI,GAE3B,IAAMM,EAAQ,SAAC/G,GACd,IAAMgH,EAAM1uB,KAAKgX,MAAU,IAAJ0Q,GAAS7e,SAAS,IACzC,OAAsB,IAAf6lB,EAAIrvB,OAAe,IAAMqvB,EAAMA,GAEvC,MAAM,IAAN,OAAWD,EAAMla,IAAjB,OAAsBka,EAAM7B,IAA5B,OAAiC6B,EAAM5B,IAUjC,SAASvB,EAAmBxrB,GAAsE,IAAzCorB,EAAwC,uDAAtB,EAC7EG,EAAqC,GACrCsD,EAA6B,IAAfzD,EAAU,GAO5B,OANAprB,EAAQ8uB,SAAQ,SAAC1xB,EAAOiN,GACvB,IAAI0kB,EAAcF,EAAaxkB,EAC/BkhB,EAAgBwD,GAAe3xB,EAE/BmuB,EAAgBwD,GAAa5vB,IAAM4vB,KAE7BxD,EAGD,SAASlB,EAAT,GAAkF,IAAD,IAA9C3pB,KAAOsuB,EAAuC,EAAvCA,QAAS5wB,EAA8B,EAA9BA,GACzD,GAAI+R,eAAerV,QAAQ8N,OAAOxK,IACjC2lB,IAAIkL,gBAAgBD,OADrB,CAKA,IAAIzc,EAAM,IAAI4J,MACd5J,EAAIG,YAAc,YAClBH,EAAI6J,OAAS,WACZ,IACC,IAAI/J,EAAmBia,EAAuB4C,uBAAuB3c,GA0BrC4c,EAzBN9c,EAyB+C9W,EAzB9B6C,EA0B7C+R,eAAeC,QAAQxH,OAAOrN,GAAUY,KAAKC,UAAU+yB,IAzBrDjH,cAAc,IAAIwF,EAAetvB,EAAIiU,IACpC,MAAO9M,GACRxC,QAAQ6H,MAAMrF,GAsBjB,IAAmC4pB,EAAyC5zB,GAnB3EgX,EAAIC,IAAMwc,GAGJ,SAAS1D,EAAuB8D,GACtC,GAAKA,EAAL,CAEA,IACIC,EADEC,EAAU9M,MAAM8M,QAAQF,GAI7BC,EADGC,EACQF,EAA+B3W,QAAO,gBAAEra,EAAF,EAAEA,GAAF,SAAM0c,cACtC3K,eAAerV,QAAQ8N,OAAOxK,OAE/B,CAACgxB,GAEZE,GAAsC,IAA1BD,EAAe9vB,QAChC2C,OAAOioB,OAAOoF,YAAYF,IAOrB,SAASxe,EAA0BtV,GACzC,IAAI8W,EACAmd,EAAcrf,eAAerV,QAAQ8N,OAAOrN,IAKhD,OAHIi0B,IACHnd,EAAmBlW,KAAK+b,MAAMsX,IAExBnd,EASR,IAAMod,EAAS,CAAC,UAAW,WAAY,QAAS,QAAS,MAAO,OAAQ,OAAQ,SAAU,YAAa,UAAW,WAAY,YAEvH,SAASvL,EAAgBwL,GAC/B,IAAIC,EAAOD,EAAQ1f,MAAM,KAAKnJ,KAAI,SAAA+oB,GAAC,OAAIjwB,OAAOiwB,MAC1CC,EAAQJ,EAAOE,EAAK,GAAK,GACzBG,EAAMH,EAAK,GACX3S,EAAO2S,EAAK,GAEhB,MAAM,GAAN,OAAUE,EAAV,YAAmBC,EAAnB,aAA2B9S,GAGrB,IAAMlN,EAAc,IAAIigB,KAAKC,aAAa,QAAS,CACzDC,SAAU,QACRC,OAEI,SAAS7L,EAAwB8L,GACvC,IAAIC,EAAQlwB,KAAKmwB,MAAMF,EAAU,IAC7BG,EAAYH,EAAU,GAC1B,MAAM,GAAN,OAAUC,EAAV,aAAoBE,EAApB,KAGM,SAASvE,EAAoD1kB,GACnE,IAAIkpB,EAAQruB,OAAO2G,SAASC,KAAKkH,MAAM,KAAK,GAE5C,OAAOlI,EADK,IAAIN,gBAAgB+oB,GAAO7oB,IAAIL,IAIrC,SAASS,EAAmD0oB,GAClE,GAAa,OAAVA,EAAgB,OAAO,KAC1B,IAAIC,EAAW9wB,OAAO6wB,GACtB,OAAQnxB,OAAOqxB,GAAGD,EAAUE,KAAOH,EAAQC,EAGrC,SAASvyB,EACfmJ,EAAkBjK,GAA6C,IAAD,EACtC8E,OAAO2G,SAASC,KAAKkH,MAAM,KADW,mBACzDlH,EADyD,KACnD8nB,EADmD,KAE1DC,EAAY,IAAIrpB,gBAAgBopB,GAE1B,OAAVxzB,EACCyzB,EAAUnoB,OAAOrB,GAAawpB,EAAUloB,IAAItB,EAAWuB,OAAOxL,IAE/D8E,OAAO2G,SAASC,KAAOA,EAAKmU,OAAO,GAAK,IAAM4T,EAAU9nB,WAGlD,SAAS4c,EAAY/K,GAC3B,QAAKA,GACE,WAAYA,EAGb,SAASgL,EAAiBkL,GAChC,IAAI1yB,EASJ,MAP+B,kBAApB0yB,EACV1yB,EAAK0yB,GAEL1yB,EAAK0yB,EAAgB1yB,GACrBktB,EAAuBwF,IAGjB,IAAIC,SAAoB,SAACC,GAC/Bl0B,MAAMxB,EAAuB8C,IAC3BuE,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,KAAKquB,GACL3tB,MAAMN,QAAQ6H,UAIX,SAASyN,EAAiBxb,EAAao0B,GAC7C,OAAO,IAAIF,SAAW,SAACC,GACtBl0B,MAAMD,EAAKo0B,GACTtuB,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,KAAKquB,GACL3tB,MAAMN,QAAQC,QAIX,SAAS8J,IAAe,IAAD,EAC7B,UAAApB,SAAS6J,wBAAT,SAA2B2b,SAAS,EAAG,GAGjC,SAAerH,IAAtB,+B,4CAAO,wCAAAjtB,EAAA,yDAGAb,EAAalB,aAAaC,QAAQ,cAHlC,oBAMCq2B,EAAe,IAAI3pB,gBAAgBtF,OAAO2G,SAAS+d,QACnDrjB,EAAe4tB,EAAazpB,IAAI,iBAChC0pB,EAAWD,EAAazpB,IAAI,aAE9BnE,IAAgB6tB,GAAyB,SAAbA,EAV3B,0CAY0BC,EAAiB9tB,GAZ3C,OAYC+tB,EAZD,OAaHC,EAAWz1B,EAAcw1B,GACzBruB,MAAM,2BACNpI,aAAauV,QAAQ,aAAckhB,GAfhC,kGAqBM,oBArBN,gCAwBLC,EAAWz1B,EAAcC,GAxBpB,yBA2BYe,MAAMy0B,GA3BlB,eA2BA3uB,EA3BA,iBA6BOA,EAAIC,OA7BX,oG,+BAgCQwuB,E,8EAAf,WAAgC70B,GAAhC,mBAAAI,EAAA,6DAEO40B,EAAoB,CACzBv1B,OAAQ,OACRC,KAAMC,KAAKC,UAAU,CAACI,kBACtBH,QAAS,CACR,eAAgB,qBANnB,SAUmBS,MAAMjB,EAAe21B,GAVxC,cAUO5uB,EAVP,gBAYoBA,EAAIC,OAZxB,cAYOnC,EAZP,yBAcQA,EAAK3E,YAdb,4C,sBAoBO,SAAS0iB,EAAmBZ,GAAsE,IAAtD4T,EAAqD,uDAAX,UAExFC,EAAQ,EACZ,OAAQD,GACP,IAAK,WACHC,GAAS12B,EACV,MACD,IAAK,OACH02B,EAAQ12B,EAIX,OAAOkF,KAAKC,MACT0d,EAAS7iB,EAAkB02B,GAAS,KAClC,EAYC,IAAM9vB,EAAc,eAAC/E,EAAD,uDAAeqF,OAAO2G,SAASC,KAA/B,OACd,MAAXjM,EAAI,GAAaA,EAAIogB,OAAO,GAC1BpgB,EAAIsd,SAAS,KAAQtd,EAAImT,MAAM,KAAK,IAAM,GAAMnT,GACjDmT,MAAM,KAAK,IAAM,KAMPvI,EAAe,eAAC5K,EAAD,uDAAeqF,OAAO2G,SAASC,KAA/B,OACf,MAAXjM,EAAI,GAAaA,EAAIogB,OAAO,GAC1BpgB,EAAIsd,SAAS,KAAQtd,EAAImT,MAAM,KAAK,IAAM,GAAMnT,GACjDmT,MAAM,KAAK,IAAM,IAEb,SAASmI,EAAoBF,GAGnC,OAFmB,IAAI0Z,KAAK1Z,EAAc2Z,YAAYC,UAElCF,KAAKG,MAAQ,M,mBChUlC53B,EAAOC,QAAU,CAAC,KAAO,6BAA6B,cAAgB,sCAAsC,wBAA0B,gDAAgD,iBAAmB,yCAAyC,SAAW,iCAAiC,cAAgB,sCAAsC,aAAe,qCAAqC,aAAe,uC,mBCAvZD,EAAOC,QAAU,CAAC,KAAO,8BAA8B,SAAW,kCAAkC,UAAY,mCAAmC,SAAW,kCAAkC,eAAiB,wCAAwC,kBAAoB,2CAA2C,aAAe,sCAAsC,aAAe,wC,mBCA5XD,EAAOC,QAAU,CAAC,KAAO,wBAAwB,MAAQ,yBAAyB,KAAO,wBAAwB,WAAa,8BAA8B,YAAc,+BAA+B,cAAgB,mC,mBCAzND,EAAOC,QAAU,CAAC,KAAO,yBAAyB,IAAM,wBAAwB,oBAAsB,wCAAwC,aAAe,iCAAiC,aAAe,mC,mBCA7MD,EAAOC,QAAU,CAAC,KAAO,wBAAwB,UAAY,+B,mBCA7DD,EAAOC,QAAU,CAAC,KAAO,+BAA+B,MAAQ,gCAAgC,UAAY,oCAAoC,aAAe,uCAAuC,aAAe,yC,mBCArND,EAAOC,QAAU,CAAC,KAAO,yBAAyB,KAAO,yBAAyB,MAAQ,4B,mBCA1FD,EAAOC,QAAU,CAAC,KAAO,kBAAkB,KAAO,oB,mBCAlDD,EAAOC,QAAU,CAAC,KAAO,8BAA8B,OAAS,mC","file":"static/js/main.f049d798.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"error-message_root__1fZb_\",\"title\":\"error-message_title__2fMjM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"search-page_root__2Nc1S\",\"searchHead\":\"search-page_searchHead__1M6GA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"circled-progress-bar_root__2mkbI\",\"scoreValue\":\"circled-progress-bar_scoreValue__1k3e4\",\"loadingPulse\":\"circled-progress-bar_loadingPulse__FHvDD\",\"opacityPulse\":\"circled-progress-bar_opacityPulse__3VR5b\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"movie-view-screen_root__2Ig-W\",\"transitionDiv\":\"movie-view-screen_transitionDiv__3fEVy\"};","module.exports = function() {\n  return new Worker(__webpack_public_path__ + \"61e5ac1b1711edde28bd.worker.js\");\n};","import { easeOutQuad } from \"./utility/easingFuctions\";\r\nimport { MoviesBrowseNames } from \"store/movies-browser\";\r\n\r\nconst {REACT_APP_API_KEY: API_KEY, NODE_ENV} = process.env;\r\nconst BASE_API_URL = 'https://api.themoviedb.org/3'\r\n\r\ntype ImageSizes = \"200\" | \"300\" | \"400\" | \"500\";\r\n\r\nconst REDIRECT_LOGGING = NODE_ENV === 'development' ?\r\n    'http://192.168.1.8:3000/' : 'http://jrdeveloper.me/movie-ratings-app/';\r\n\r\nconst getApiKeyQuery = () => `api_key=${API_KEY}`;\r\nconst getSessionQuery = () => `session_id=${localStorage.getItem(\"session_id\")}`;\r\n\r\nconst appProperties = {\r\n    //application properties here\r\n    itemsPerPageUI: 9,\r\n\r\n    getPosterSrcPathPrefix: (size: ImageSizes = \"200\") =>  `https://image.tmdb.org/t/p/w${size}`,\r\n\r\n    buildFetchMovieSearchUrl: (searchTerm: string, page: number = 1) =>\r\n        `${BASE_API_URL}/search/movie?${getApiKeyQuery()}&query=${searchTerm}&page=${page}&include_adult=false`,\r\n\r\n    buildFetchMovieViewUrl: (movieId: number, addPath?: string) => {\r\n        return `${BASE_API_URL}/movie/${movieId}${addPath || ''}?${getApiKeyQuery()}`;\r\n    },\r\n\r\n    searchPageTransitionConfig: {\r\n        duration: 400,\r\n        easing: easeOutQuad,\r\n    },\r\n\r\n    newSessionUrl: `${BASE_API_URL}/authentication/session/new?${getApiKeyQuery()}`,\r\n\r\n    getAccountUrl: (session_id: string) =>\r\n        `${BASE_API_URL}/account?${getApiKeyQuery()}&session_id=${session_id}`,\r\n\r\n    getLogoutConfig: (session_id: string): [string, RequestInit] => [\r\n        `${BASE_API_URL}/authentication/session?${getApiKeyQuery()}`,\r\n        {\r\n            method: 'DELETE',\r\n            body: JSON.stringify({session_id}),\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n\r\n\r\n            }\r\n        }\r\n    ],\r\n\r\n    newRequestTokenUrl: `${BASE_API_URL}/authentication/token/new?${getApiKeyQuery()}`,\r\n\r\n    buildLoginRedirectUrl: (request_token: string) =>\r\n        `https://www.themoviedb.org/authenticate/${request_token}?redirect_to=${REDIRECT_LOGGING}`,\r\n\r\n    itemActions: {\r\n        favorite: async (favState: boolean, movieId: number) => {\r\n            const url = `${BASE_API_URL}/account/0/favorite?${getApiKeyQuery()}&${getSessionQuery()}`\r\n            await fetch(url, {\r\n                body: JSON.stringify({\r\n                    media_type: \"movie\",\r\n                    media_id: movieId,\r\n                    favorite: favState\r\n                }),\r\n                headers: {\r\n                    'Content-Type': 'application/json;charset=utf-8'\r\n                },\r\n                method: 'POST'\r\n            })\r\n            return true;\r\n        },\r\n        watchlist: async (watchState: boolean, movieId: number) => {\r\n            const url = `${BASE_API_URL}/account/0/watchlist?${getApiKeyQuery()}&${getSessionQuery()}`\r\n            await fetch(url, {\r\n                body: JSON.stringify({\r\n                    media_type: \"movie\",\r\n                    media_id: movieId,\r\n                    watchlist: watchState\r\n                }),\r\n                headers: {\r\n                    'Content-Type': 'application/json;charset=utf-8'\r\n                },\r\n                method: 'POST'\r\n            })\r\n            return true;\r\n        },\r\n        rate: async (value: number, movieId: number) => {\r\n            const url = `${BASE_API_URL}/movie/${movieId}/rating?${getApiKeyQuery()}&${getSessionQuery()}`\r\n            await fetch(url, {\r\n                body: JSON.stringify({\r\n                    value\r\n                }),\r\n                headers: {\r\n                    'Content-Type': 'application/json;charset=utf-8'\r\n                },\r\n                method: 'POST'\r\n            })\r\n            return true;\r\n        },\r\n        unRate: async (movieId: number) => {\r\n            const url = `${BASE_API_URL}/movie/${movieId}/rating?${getApiKeyQuery()}&${getSessionQuery()}`\r\n            await fetch(url, {\r\n                headers: {\r\n                    'Content-Type': 'application/json;charset=utf-8'\r\n                },\r\n                method: 'DELETE'\r\n            })\r\n            return true;\r\n        }\r\n\r\n    },\r\n\r\n    getItemsBrowseUrl(name: MoviesBrowseNames, searchTerm: string = '', pageOnApi: number = 1): string {\r\n        let browseUrl = BASE_API_URL;\r\n\r\n        // concat path\r\n        switch (name) {\r\n            case \"favorite\":\r\n                browseUrl += \"/account/0/favorite/movies\";\r\n                break;\r\n            case \"watchlist\":\r\n                browseUrl += \"/account/0/watchlist/movies\";\r\n                break;\r\n            case \"search\":\r\n                browseUrl += \"/search/movie\";\r\n                break;\r\n            case \"nowPlaying\":\r\n                browseUrl += \"/movie/now_playing\";\r\n                break;\r\n            case \"trendingWeek\":\r\n                browseUrl += \"/trending/movie/week\";\r\n                break;\r\n        }\r\n\r\n        browseUrl += \"?\";\r\n\r\n\r\n        // concat query\r\n        switch (name) {\r\n            case \"favorite\":\r\n                browseUrl += getSessionQuery() + \"&sort_by=created_at.desc\";\r\n                break;\r\n            case \"watchlist\":\r\n                browseUrl += getSessionQuery() + \"&sort_by=created_at.desc\";\r\n                break;\r\n            case \"search\":\r\n                browseUrl += `query=${searchTerm}&include_adult=false`\r\n                break;\r\n            case \"nowPlaying\":\r\n                break;\r\n            case \"trendingWeek\":\r\n                break;\r\n        }\r\n\r\n        return browseUrl + \"&\" + getApiKeyQuery() + `&page=${pageOnApi}`;\r\n    }\r\n\r\n};\r\n\r\nexport default appProperties;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bob\":\"pagination-controls_bob__1kgUG\",\"root\":\"pagination-controls_root__17AgS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"movie-results-container_root__2rRnr\",\"grid\":\"movie-results-container_grid__t-GlL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"total-search-results_root__302j4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"movie-item-img-bg_root__N-Q75\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"movies-grid_root__Bm5D1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"movie-view-background_root__2pCqN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"movie-view-related_root__1_IrX\",\"loadingPulse\":\"movie-view-related_loadingPulse__1CnAp\",\"opacityPulse\":\"movie-view-related_opacityPulse__fpUUx\"};","import { IMovieViewActions } from \"./index\";\r\nimport IMovieResultItem from \"../../interfaces/app-types/IMovieResultItem\";\r\nimport { MovieViewActionsTypes } from \"./movie-view.actions\";\r\nimport { setSearchParam } from \"utility\";\r\n\r\nexport interface MovieItemState {\r\n\titem: IMovieResultItem | null,\r\n}\r\n\r\nconst INITIAL_STATE: MovieItemState = {\r\n\titem: null,\r\n};\r\n\r\nconst movieViewReducer = (state = INITIAL_STATE, action: IMovieViewActions): MovieItemState => {\r\n\tswitch (action.type) {\r\n\t\tcase MovieViewActionsTypes.SET_MOVIE_VIEW:\r\n\t\t\tsetSearchParam(\"movieId\", action.payload.id);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\titem: action.payload,\r\n\t\t\t};\r\n\t\tcase MovieViewActionsTypes.CLEAR_MOVIE_VIEW:\r\n\t\t\treturn {\r\n\t\t\t\t...INITIAL_STATE\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default movieViewReducer;","import { UserActions, UserState } from \"./index\";\r\nimport { UserActionsTypes } from \"./user.actions\";\r\n\r\nconst INITIAL_STATE: UserState | null = null;\r\n\r\nconst userReducer = ( state = INITIAL_STATE, action: UserActions ): UserState | null => {\r\n    switch (action.type) {\r\n\t    case UserActionsTypes.SET_USER:\r\n\t    \treturn action.payload\r\n\t    case UserActionsTypes.CLEAR_USER:\r\n\t    \treturn null;\r\n\t    default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default userReducer;","import IMoviesSearchData, { ResultItemsObject } from \"../../interfaces/app-types/IMoviesSearchData\";\r\nimport IMoviesSearchError from \"../../interfaces/app-types/IMoviesSearchError\";\r\nimport { MoviesBrowserActionTypes } from \"./movies-browser.actions\";\r\nimport { ISearchActions, MoviesBrowseNames } from \"./\";\r\nimport { Reducer } from \"redux\";\r\nimport IMovieResultItem from \"../../interfaces/app-types/IMovieResultItem\";\r\n\r\nexport interface MoviesBrowseState {\r\n\tsearchData: IMoviesSearchData | null;\r\n\tsearchError: IMoviesSearchError | null;\r\n\tisFetching: boolean;\r\n\tisFetchingMore: boolean;\r\n\tapiFetchedPages: number[];\r\n\tsearchTerm: string;\r\n}\r\n\r\nconst INITIAL_STATE: MoviesBrowseState = {\r\n\tsearchData: null,\r\n\tsearchError: null,\r\n\tisFetching: false,\r\n\tisFetchingMore: false,\r\n\tapiFetchedPages: [],\r\n\tsearchTerm: ''\r\n};\r\n\r\nfunction makeMoviesBrowserReducer(name: MoviesBrowseNames): Reducer<MoviesBrowseState, ISearchActions> {\r\n\treturn function(state = INITIAL_STATE, action) {\r\n\r\n\t\tif (action.name !== name) return state;\r\n\r\n\t\tswitch (action.type) {\r\n\t\t\tcase MoviesBrowserActionTypes.UNSHIFT_TO_LIST_ITEMS:\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tsearchData: state.searchData && {\r\n\t\t\t\t\t\t...state.searchData,\r\n\t\t\t\t\t\tresults: unshiftToObj({...state.searchData.results}, action.payload),\r\n\t\t\t\t\t\ttotal_pages: Math.ceil((state.searchData.total_results+1)/20),\r\n\t\t\t\t\t\ttotal_results: state.searchData.total_results+1\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\tcase MoviesBrowserActionTypes.REMOVE_FROM_LIST_ITEMS:\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tsearchData: state.searchData && {\r\n\t\t\t\t\t\t...state.searchData,\r\n\t\t\t\t\t\tresults: removeFromObjById({...state.searchData.results}, action.payload),\r\n\t\t\t\t\t\ttotal_pages: Math.ceil((state.searchData.total_results-1)/20),\r\n\t\t\t\t\t\ttotal_results: state.searchData.total_results-1\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\tcase MoviesBrowserActionTypes.CLEAR_FETCHED_MOVIES:\r\n\t\t\t\treturn INITIAL_STATE;\r\n\t\t\tcase MoviesBrowserActionTypes.FETCH_MOVIES_START:\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...INITIAL_STATE,\r\n\t\t\t\t\tisFetching: true,\r\n\t\t\t\t};\r\n\t\t\tcase MoviesBrowserActionTypes.FETCH_MOVIES_SUCCESS:\r\n\t\t\t\tlet {data: fetchedData} = action.payload;\r\n\r\n\t\t\t\tif (!fetchedData.total_results)\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\t...INITIAL_STATE,\r\n\t\t\t\t\t\tsearchError: {\r\n\t\t\t\t\t\t\terrors: [\"No results found.\"]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...INITIAL_STATE,\r\n\t\t\t\t\tsearchData: fetchedData,\r\n\t\t\t\t\tapiFetchedPages: [1],\r\n\t\t\t\t\tsearchTerm: action.payload.searchTerm || ''\r\n\t\t\t\t};\r\n\t\t\tcase MoviesBrowserActionTypes.FETCH_MOVIES_FAILURE:\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...INITIAL_STATE,\r\n\t\t\t\t\tsearchError: action.payload\r\n\t\t\t\t};\r\n\r\n\t\t\tcase MoviesBrowserActionTypes.FETCH_MORE_MOVIES_START:\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tisFetchingMore: true\r\n\t\t\t\t};\r\n\t\t\tcase MoviesBrowserActionTypes.FETCH_MORE_MOVIES_SUCCESS:\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tsearchData: {\r\n\t\t\t\t\t\t...state.searchData!,\r\n\t\t\t\t\t\tresults: {\r\n\t\t\t\t\t\t\t...state.searchData!.results,\r\n\t\t\t\t\t\t\t...action.payload.results\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tpage: action.payload.fetchedPage\r\n\t\t\t\t\t},\r\n\t\t\t\t\tapiFetchedPages: [\r\n\t\t\t\t\t\t...new Set([...state.apiFetchedPages, action.payload.fetchedPage])\r\n\t\t\t\t\t],\r\n\t\t\t\t\tisFetchingMore: false\r\n\t\t\t\t};\r\n\t\t\tcase MoviesBrowserActionTypes.FETCH_MORE_MOVIES_FAILURE:\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tsearchError: action.payload,\r\n\t\t\t\t\tisFetchingMore: false\r\n\t\t\t\t};\r\n\t\t\tdefault:\r\n\t\t\t\treturn state;\r\n\t\t}\r\n\t};\r\n\r\n}\r\n\r\nfunction unshiftToObj(obj: ResultItemsObject, newItem: IMovieResultItem): ResultItemsObject {\r\n\r\n\tlet temp = newItem;\r\n\r\n\tfor (let key in obj) {\r\n\t\tlet tempHold = obj[key]!;\r\n\t\tobj[key] = temp;\r\n\t\ttemp = tempHold;\r\n\t}\r\n\r\n\tobj[Object.keys(obj).length] = temp;\r\n\r\n\treturn obj;\r\n}\r\n\r\nfunction removeFromObjById(obj: ResultItemsObject, id: number): ResultItemsObject {\r\n\tlet removed = false;\r\n\tfor (let key in obj) {\r\n\t\tlet numKey = Number(key)\r\n\t\tif (obj[numKey]?.id !== id && !removed) continue;\r\n\r\n\t\tif (removed) {\r\n\t\t\tobj[numKey - 1] = obj[numKey]!;\r\n\t\t} else {\r\n\t\t\tobj[numKey] = undefined;\r\n\t\t\tremoved = true;\r\n\t\t}\r\n\t}\r\n\tif (removed)\r\n\t\tdelete obj[Object.keys(obj).length-1];\r\n\treturn obj;\r\n}\r\n\r\nexport default makeMoviesBrowserReducer;\r\n","import { combineReducers } from \"redux\";\r\nimport movieViewReducer from \"./movie-view/movie-view.reducer\";\r\nimport userReducer from \"./user/user.reducer\";\r\nimport makeMoviesBrowserReducer from \"./movies-browser/movies-browser.reducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n  \"trendingWeek\"   : makeMoviesBrowserReducer(\"trendingWeek\"),\r\n  \"nowPlaying\"     : makeMoviesBrowserReducer(\"nowPlaying\"),\r\n  \"watchlist\"      : makeMoviesBrowserReducer(\"watchlist\"),\r\n  \"favorite\"       : makeMoviesBrowserReducer(\"favorite\"),\r\n  \"search\"         : makeMoviesBrowserReducer(\"search\"),\r\n  \"user\"           : userReducer,\r\n  \"movieItem\"      : movieViewReducer,\r\n});\r\n\r\nexport default rootReducer;\r\n","import rootReducer from \"./root-reducer\";\r\nimport { configureStore } from \"@reduxjs/toolkit\";\r\n\r\nconst store = configureStore({\r\n    reducer: rootReducer\r\n})\r\n\r\n\r\n// @ts-ignore\r\nif (process.env.NODE_ENV === 'development' && module.hot) {\r\n    // @ts-ignore\r\n    module.hot.accept(\"./root-reducer\", () => {\r\n        const newRootReducer = require(\"./root-reducer\").default\r\n        store.replaceReducer(newRootReducer)\r\n    })\r\n}\r\n\r\nexport default store;","import { ISearchActions } from \"./movies-browser\";\r\nimport { IMovieViewActions } from \"./movie-view\";\r\nimport { ThunkAction } from \"redux-thunk\";\r\nimport { Action, AnyAction } from \"redux\";\r\nimport rootReducer from \"./root-reducer\";\r\nimport store from \"./store\";\r\n\r\nexport type AppActions =\r\n\t| ISearchActions\r\n\t| IMovieViewActions\r\n\r\nexport { default as store } from './store'\r\n\r\nexport type AppState = ReturnType<typeof rootReducer>\r\n\r\nexport default store;\r\n\r\nexport type AppThunk<A extends Action = AnyAction> = ThunkAction<void, AppState, null, A>","import { useLayoutEffect, useState } from \"react\";\r\nimport { getHashPath } from \"utility\";\r\n\r\n\r\nfunction useLocationPath() {\r\n\tconst [path, setPath] = useState('/');\r\n\r\n\tuseLayoutEffect(() => {\r\n\t\tsetPath(getHashPath())\r\n\t\tconst listener = ({oldURL, newURL}: HashChangeEvent) => {\r\n\t\t\tconst oldPath = getHashPath(oldURL), newPath = getHashPath(newURL);\r\n\t\t\tif (oldPath !== newPath)\r\n\t\t\t\tsetPath(newPath);\r\n\t\t};\r\n\t\twindow.addEventListener(\"hashchange\", listener)\r\n\t\treturn () => window.removeEventListener(\"hashchange\", listener);\r\n\t}, []);\r\n\r\n\treturn path;\r\n}\r\n\r\nexport default useLocationPath;","import store, { AppState } from \"store\";\r\nimport { UserState } from \"store/user\";\r\nimport { useSelector } from \"react-redux\";\r\nimport appProperties from \"../appProperties\";\r\nimport { clearUser } from \"store/user/user.actions\";\r\n\r\nconst {getLogoutConfig, buildLoginRedirectUrl} = appProperties;\r\n\r\n\r\nconst selectUser = (state: AppState) => state.user;\r\n\r\nconst equalUser = (left: UserState|null, right: UserState|null) => left?.id === right?.id;\r\n\r\nfunction useAuth(): AuthHook {\r\n\r\n\tconst user = useSelector<AppState, UserState | null>(selectUser, equalUser);\r\n\r\n\treturn {\r\n\t\tuser,\r\n\t\tisAuth: !!user,\r\n\t\tsignOut: logOut,\r\n\t\tsignIn: logIn\r\n\t}\r\n}\r\n\r\nfunction logOut() {\r\n\tconst session_id = localStorage.getItem(\"session_id\");\r\n\tif (!session_id) return;\r\n\r\n\tfetch(...getLogoutConfig(session_id))\r\n\t\t.then(res => res.json())\r\n\t\t.then(data => {\r\n\t\t\tif (data.success) {\r\n\t\t\t\tconsole.log(\"logout success\");\r\n\t\t\t\talert(\"Successfully logged out.\")\r\n\t\t\t\tstore.dispatch(clearUser());\r\n\t\t\t\tlocalStorage.removeItem(\"session_id\");\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(console.log)\r\n}\r\n\r\nfunction logIn(requestToken: string) {\r\n\twindow.open(buildLoginRedirectUrl(requestToken), \"_blank\");\r\n}\r\n\r\ninterface AuthHook {\r\n\tuser: UserState | null,\r\n\tisAuth: boolean,\r\n\tsignOut: () => void,\r\n\tsignIn: (requestToken: string) => void,\r\n}\r\n\r\nexport default useAuth;","import { checkIsMobile } from \"utility\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\n\r\nfunction useIsMobile() {\r\n\r\n\tconst [isMobile, setIsMobile] = useState(() => checkIsMobile());\r\n\r\n\tuseEffect(() => {\r\n\t\tconst onresize = () => {\r\n\t\t\tsetIsMobile(checkIsMobile())\r\n\t\t};\r\n\t\twindow.addEventListener(\"resize\", onresize);\r\n\t\treturn () => window.removeEventListener(\"resize\", onresize);\r\n\t}, []);\r\n\r\n\treturn isMobile;\r\n}\r\n\r\nexport default useIsMobile;","import React, { Dispatch, FC, SetStateAction, useState } from \"react\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport DoubleArrowIcon from \"@material-ui/icons/DoubleArrow\";\r\nimport HomeIcon from \"@material-ui/icons/Home\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\r\nimport BookmarkIcon from \"@material-ui/icons/Bookmark\";\r\nimport AccountCircleIcon from \"@material-ui/icons/AccountCircle\";\r\nimport styles from \"./app-bar.module.scss\";\r\n// import styles from \"./app-bar.module.scss\";\r\nimport { Link } from \"react-router-dom\";\r\nimport useLocationPath from \"hooks/useLocationPath\";\r\nimport useAuth from \"hooks/useAuth\";\r\nimport useIsMobile from \"hooks/useIsMobile\";\r\nimport { OverridableComponent } from \"@material-ui/core/OverridableComponent\";\r\nimport { SvgIconTypeMap } from \"@material-ui/core\";\r\nimport store from \"../../store\";\r\nimport getMoviesBrowserActions from \"../../store/movies-browser/movies-browser.actions\";\r\n\r\nconst searchActions = getMoviesBrowserActions(\"search\");\r\n\r\nconst navItems = [\r\n\t{\r\n\t\ticon: HomeIcon,\r\n\t\ttext: \"Home\",\r\n\t\tto: \"/\"\r\n\t},\r\n\t{\r\n\t\ticon: SearchIcon,\r\n\t\ttext: \"Search\",\r\n\t\tto: \"/search\"\r\n\t},\r\n\t{\r\n\t\ticon: FavoriteIcon,\r\n\t\ttext: \"Favorites\",\r\n\t\tto: \"/favorites\"\r\n\t},\r\n\t{\r\n\t\ticon: BookmarkIcon,\r\n\t\ttext: \"Watchlist\",\r\n\t\tto: \"/watchlist\"\r\n\t},\r\n] as const;\r\n\r\n\r\ntype NavPaths = (typeof navItems[number])[\"to\"] | \"/account\"\r\n\r\ninterface INavItem {\r\n\ticon:  OverridableComponent<SvgIconTypeMap>\r\n\ttext: string,\r\n\tto: NavPaths\r\n}\r\n\r\nconst AppBar = () => {\r\n\tconst [isOpen, setOpen] = useState(false);\r\n\tconst pathname = useLocationPath();\r\n\r\n\tconst { user } = useAuth();\r\n\r\n\treturn (\r\n\t\t<nav className={`${styles.root} ${isOpen ? styles.isOpen : ''}`}\r\n\t\t     onMouseEnter={() => setOpen(true)} onMouseLeave={() => setOpen(false)}>\r\n\t\t\t<ul className={styles.toolBar}>\r\n\t\t\t\t<li className={styles.navItem}>\r\n\t\t\t\t\t<span className={`${styles.navItemTxt} ${styles.logo}`}>MovieApp</span>\r\n\t\t\t\t\t<IconButton color=\"inherit\" aria-label=\"menu\" className={styles.navItemIcon}>\r\n\t\t\t\t\t\t<DoubleArrowIcon/>\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t</li>\r\n\t\t\t\t{navItems.map((item, i) =>\r\n\t\t\t\t\t<NavItem key={i} {...item} setOpen={setOpen} active={item.to === pathname}/>\r\n\t\t\t\t)}\r\n\t\t\t\t<NavItem\r\n\t\t\t\t\tactive={\"/account\" === pathname}\r\n\t\t\t\t\tsetOpen={setOpen} to=\"/account\"\r\n\t\t\t\t\ticon={AccountCircleIcon} text={user?.username || \"Login\"}\r\n\t\t\t\t\tusername={user?.username}\r\n\t\t\t\t/>\r\n\t\t\t</ul>\r\n\t\t</nav>\r\n\t);\r\n};\r\n\r\ninterface INavItemProps {\r\n\tactive: boolean,\r\n\tsetOpen: Dispatch<SetStateAction<boolean>>,\r\n\tusername?: string\r\n}\r\n\r\ntype NavItemProps = INavItemProps & INavItem;\r\n\r\nconst NavItem: FC<NavItemProps> = ({icon: Icon, text, to, setOpen, active, username}) => {\r\n\r\n\tconst isMobile = useIsMobile();\r\n\r\n\tfunction handleClick(e: React.MouseEvent<HTMLAnchorElement>) {\r\n\t\tif (e.currentTarget === e.target)\r\n\t\t\treturn e.preventDefault();\r\n\t\t!isMobile && setOpen(false);\r\n\r\n\t\tif (to === \"/search\" && active)\r\n\t\t\tstore.dispatch(searchActions.clearFetchedMovies())\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Link to={to} className={styles.navItem} onClick={handleClick} aria-current={active}>\r\n\t\t\t<IconButton color=\"inherit\" aria-label=\"menu\" className={styles.navItemIcon}>\r\n\t\t\t\t{username ?\r\n\t\t\t\t\t<div className={styles.avatar} >{username.charAt(0).toUpperCase()}</div>\r\n\t\t\t\t\t: <Icon/>\r\n\t\t\t\t}\r\n\t\t\t</IconButton>\r\n\t\t\t{text && <span className={styles.navItemTxt}>{text}</span>}\r\n\t\t</Link>\r\n\t);\r\n};\r\n\r\nexport default AppBar;\r\n","import AppBar from \"./app-bar.component\";\r\n\r\nexport default AppBar;","import { MutableRefObject, useEffect, useRef } from \"react\";\r\n\r\nfunction usePrevious<T>(value: T): T | undefined {\r\n  const ref: MutableRefObject<T | undefined> = useRef();\r\n  useEffect(() => {\r\n    ref.current = value;\r\n  }, [value]);\r\n  return ref.current;\r\n}\r\n\r\nexport default usePrevious;\r\n","import SearchParamsMap from \"../interfaces/app-types/SearchParamsMap\";\r\nimport { useCallback, useEffect, useLayoutEffect, useRef, useState } from \"react\";\r\nimport usePrevious from \"./usePrevious\";\r\nimport { fixParamValue, getHashPath, getHashQuery } from \"utility\";\r\n\r\ntype useSearchParamUpdate<Param extends keyof SearchParamsMap, Extra extends keyof SearchParamsMap = keyof SearchParamsMap> =\r\n\t(\r\n\t\tvalue: SearchParamsMap[Param] | null | ((currentValue: SearchParamsMap[Param] | null) => SearchParamsMap[Param] | null),\r\n\t    extraParam?: [Extra, SearchParamsMap[Extra] | null]\r\n\t) => void\r\n\r\ntype useSearchParamReturnType<Param extends keyof SearchParamsMap> = [SearchParamsMap[Param] | undefined, useSearchParamUpdate<Param>]\r\ntype onParamChangeType<Param extends keyof SearchParamsMap> = (newValue: SearchParamsMap[Param] | null, oldValue: SearchParamsMap[Param] | null) => any;\r\n\r\nfunction useSearchParam<Param extends keyof SearchParamsMap>\r\n(paramName: Param, onParamChange?: onParamChangeType<Param>): useSearchParamReturnType<Param> {\r\n\r\n\tconst paramNameRef = useRef(paramName);\r\n\t// URL bar's searchParam with effect to keep in sync (based on [location.movies-browser])\r\n\tconst [selectedParam, setSelectedParam] = useState(() => {\r\n\t\treturn new URLSearchParams(getHashQuery()).get(paramNameRef.current);\r\n\t});\r\n\tconst fixSelectedParam = fixParamValue<Param>(selectedParam) // convert value to correct data type\r\n\r\n\tconst selectedRef = useRef(fixSelectedParam);\r\n\r\n\tuseLayoutEffect(() => {\r\n\t\tselectedRef.current = fixSelectedParam\r\n\t}, [fixSelectedParam]);\r\n\r\n\tconst oldSelectedParam = usePrevious(fixSelectedParam) || null;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (oldSelectedParam !== fixSelectedParam)\r\n\t\t\tonParamChange && onParamChange(fixSelectedParam, oldSelectedParam);\r\n\t}, [fixSelectedParam, onParamChange, oldSelectedParam]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst listener = ({oldURL, newURL}: HashChangeEvent) => {\r\n\t\t\tif (oldURL === newURL) return;\r\n\t\t\tconst oldQuery = getHashQuery(oldURL);\r\n\t\t\tconst newQuery = getHashQuery(newURL);\r\n\t\t\tconst oldParam = new URLSearchParams(oldQuery).get(paramNameRef.current);\r\n\t\t\tconst newParam = new URLSearchParams(newQuery).get(paramNameRef.current);\r\n\t\t\tif (oldParam !== newParam)\r\n\t\t\t\tsetSelectedParam(newParam);\r\n\t\t};\r\n\t\twindow.addEventListener(\"hashchange\", listener)\r\n\t\treturn () => window.removeEventListener(\"hashchange\", listener);\r\n\t}, []);\r\n\r\n\r\n\t// Update function for the selected searchParam\r\n\tconst updateParam = useCallback<useSearchParamUpdate<Param>>((value, extraParam) => {\r\n\t\tif (selectedRef.current === value && !extraParam) return;\r\n\t\tlet newSearchParams = new URLSearchParams(getHashQuery());\r\n\r\n\t\tlet newValue = (typeof value === \"function\") ?\r\n\t\t\tvalue(selectedRef.current)\r\n\t\t\t: value;\r\n\r\n\t\tif (newValue === null)\r\n\t\t\tnewSearchParams.delete(paramNameRef.current);\r\n\t\telse newSearchParams.set(paramNameRef.current, String(newValue));\r\n\r\n\t\tif (extraParam) {\r\n\t\t\tif (extraParam[1] === null)\r\n\t\t\t\tnewSearchParams.delete(extraParam[0]);\r\n\t\t\telse newSearchParams.set(extraParam[0], String(extraParam[1]));\r\n\t\t}\r\n\r\n\t\t// Update to new location (hash Browser)\r\n\t\twindow.location.hash = getHashPath() + \"?\" + newSearchParams.toString();\r\n\r\n\t}, []);\r\n\r\n\r\n\treturn [fixSelectedParam ?? undefined, updateParam];\r\n}\r\n\r\nexport default useSearchParam;\r\n","import React, { FC, RefObject, useEffect, useState } from \"react\";\r\nimport styles from \"./search-bar.module.scss\";\r\nimport appProperties from \"../../appProperties\";\r\nimport IMovieResultItem from \"../../interfaces/app-types/IMovieResultItem\";\r\n\r\nconst {buildFetchMovieSearchUrl} = appProperties;\r\n\r\ninterface OwnProps {\r\n\tkeyword: string\r\n\tonSubmit: () => void;\r\n\tinputRef: RefObject<HTMLInputElement>\r\n}\r\nconst SearchBarSuggestions: FC<OwnProps> = ({keyword,  onSubmit, inputRef}) => {\r\n\r\n\tconst [suggestions, setSuggestions] = useState<IMovieResultItem[]>([]);\r\n\tconst [selected, setSelected] = useState<number | null>(null);\r\n\tconst [visible, setVisible] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tlet isMount = true;\r\n\t\tsetTimeout(() => isMount && setVisible(true), 360);\r\n\t\treturn () => { isMount = false; }\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tlet isEffect = true;\r\n\t\tsetTimeout(() => {\r\n\t\t\tisEffect && fetch(buildFetchMovieSearchUrl(keyword))\r\n\t\t\t\t.then(res => isEffect && res.json())\r\n\t\t\t\t.then(data => {\r\n\t\t\t\t\tif (!isEffect) return;\r\n\t\t\t\t\tsetSuggestions(data.results.slice(0, 12) ?? []);\r\n\t\t\t\t\tsetSelected(null);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(console.log)\r\n\t\t}, 300);\r\n\t\treturn () => {\r\n\t\t\tisEffect = false;\r\n\t\t}\r\n\t}, [keyword]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst listener = (ev: KeyboardEvent) => {\r\n\t\t\tif (!suggestions.length) return;\r\n\t\t\tswitch (ev.code) {\r\n\t\t\t\tcase \"ArrowUp\":\r\n\t\t\t\t\treturn setSelected(selected => {\r\n\t\t\t\t\t\t\tlet newSelected =\r\n\t\t\t\t\t\t\t\tselected ? Math.abs(--selected % suggestions.length) : suggestions.length - 1;\r\n\t\t\t\t\t\t\tinputRef.current!.value = suggestions[newSelected].title;\r\n\t\t\t\t\t\t\treturn newSelected;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\tcase \"ArrowDown\":\r\n\t\t\t\t\treturn setSelected(selected => {\r\n\t\t\t\t\t\t\tlet newSelected =\r\n\t\t\t\t\t\t\t\tselected !== null ? Math.abs(++selected % suggestions.length) : 0;\r\n\t\t\t\t\t\t\tinputRef.current!.value = suggestions[newSelected].title;\r\n\t\t\t\t\t\t\treturn newSelected;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\tdefault: break;\r\n\t\t\t}\r\n\t\t};\r\n\t\twindow.addEventListener(\"keydown\", listener);\r\n\t\treturn () => window.removeEventListener(\"keydown\", listener);\r\n\t}, [inputRef, suggestions]);\r\n\r\n\r\n\tconst handleClickSubmit = (title: string) => {\r\n\t\tinputRef.current!.value = title;\r\n\t\tonSubmit()\r\n\t};\r\n\r\n\r\n    return visible && suggestions.length ? (\r\n        <ul className={styles.suggestionsDropdown}\r\n            onMouseLeave={() => setSelected(null)}\r\n        >\r\n\t        {suggestions.map(({id, title}, index) => (\r\n\t\t        // eslint-disable-next-line jsx-a11y/role-supports-aria-props\r\n\t        \t<li key={id} aria-selected={(index === selected)}\r\n\t\t            onMouseEnter={() => setSelected(index)}\r\n\t\t            onClick={handleClickSubmit.bind(null, title)}\r\n\t\t        >{title}</li>\r\n\t        ))}\r\n        </ul>\r\n    ) : null;\r\n};\r\n\r\n\r\nexport default SearchBarSuggestions;","import SearchBar from \"./search-bar.component\";\r\n\r\nexport default SearchBar;","import React, { FC, FormEvent, useCallback, useEffect, useLayoutEffect, useRef, useState } from \"react\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport styles from \"./search-bar.module.scss\";\r\nimport useSearchParam from \"hooks/useSearchParam\";\r\nimport SearchBarSuggestions from \"./search-bar-suggestions.component\";\r\n\r\n\r\ninterface OwnProps {\r\n    className?: string,\r\n}\r\n\r\nconst SearchBar: FC<OwnProps> = ({ className }) => {\r\n    const isMounted = useRef(false);\r\n    const inputRef = useRef<HTMLInputElement>(null);\r\n\r\n    const [error, setError] = useState(\"\");\r\n\r\n    const [searchParam = '', setSearchParam] = useSearchParam(\"s\", newValue => {\r\n        !newValue && setInputTxt('')\r\n    });\r\n\r\n    const [inputTxt, setInputTxt] = useState(searchParam);\r\n    const [keyWord, setKeyWord] = useState('');\r\n\r\n    const [isFocus, setFocus] = useState(false);\r\n\r\n    const setFocusOn = useCallback(() => isMounted.current && setFocus(() => {\r\n        setTimeout(() => {\r\n            inputRef.current?.focus();\r\n            inputRef.current?.select();\r\n        }, 200);\r\n        return true;\r\n    }), []);\r\n\r\n    const setFocusOff = useCallback(() => isMounted.current && setFocus(() => {\r\n        inputRef.current?.blur();\r\n        setError(\"\");\r\n        return false;\r\n    }), []);\r\n\r\n\r\n    function onSubmit (e?: FormEvent<HTMLFormElement>) {\r\n        e?.preventDefault();\r\n        let searchTerm = inputRef.current?.value || '';\r\n\r\n        if (!searchTerm)\r\n            return setError(\"Search can't be empty.\");\r\n\r\n        if (searchParam !== searchTerm) {\r\n            setFocusOff();\r\n            error && setError(\"\");\r\n            setTimeout(() => setSearchParam(searchTerm, [\"page\", 1]), 150);\r\n        } else {\r\n            setError(\"Search results already showing.\");\r\n        }\r\n\r\n        setInputTxt(searchTerm);\r\n        setKeyWord('');\r\n    }\r\n\r\n    useEffect(() => {\r\n        isMounted.current = true;\r\n        const listener = (e: KeyboardEvent) => {\r\n            switch (e.code) {\r\n                case \"Slash\":\r\n                    document.activeElement !== inputRef.current && setTimeout(setFocusOn ,50);\r\n                    break;\r\n                case \"Escape\": setFocusOff();\r\n                    break;\r\n                default: break;\r\n            }\r\n        };\r\n        window.addEventListener(\"keydown\", listener);\r\n        return () => {\r\n            isMounted.current = false;\r\n            window.removeEventListener(\"keydown\", listener);\r\n        }\r\n    }, [setFocusOff, setFocusOn]);\r\n\r\n    useLayoutEffect(() => {\r\n        setFocus(!searchParam);\r\n    }, [searchParam]);\r\n\r\n\r\n    return (\r\n        <div className={`${styles.root} ${className || ''}`} is-focused={`${isFocus}`}>\r\n            <form autoComplete=\"off\" onSubmit={onSubmit}>\r\n                <TextField\r\n                    className={styles.bar}\r\n                    label=\"Movie Search\"\r\n                    error={!!error}\r\n                    helperText={error}\r\n                    onBlur={() => {\r\n                        if (!searchParam || keyWord) return;\r\n                        setFocusOff();\r\n                    }}\r\n                    inputRef={inputRef}\r\n                    name={\"searchTerm\"}\r\n                    value={inputTxt}\r\n                    onChange={({target}) => {\r\n                        setInputTxt(target.value);\r\n                        setKeyWord(target.value);\r\n                    }}\r\n                    onFocus={setFocusOn}\r\n                    inputProps={{\r\n                        id: \"movies-browser-bar-input\",\r\n                        onClick: event => event.preventDefault(),\r\n                        onKeyDown: (e) => (e.key === \"ArrowUp\" || e.key === \"ArrowDown\") && e.preventDefault()\r\n                    }}\r\n                />\r\n            </form>\r\n            {!!keyWord && isFocus &&\r\n                <SearchBarSuggestions\r\n                    keyword={keyWord}\r\n                    onSubmit={onSubmit}\r\n                    inputRef={inputRef}\r\n                />\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default React.memo(SearchBar);\r\n","import PaginationControls from \"./pagination-controls.component\";\r\n\r\nexport default PaginationControls;","import React, { FC, memo, useCallback, useEffect } from \"react\";\r\nimport MobileStepper from \"@material-ui/core/MobileStepper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport KeyboardArrowLeft from \"@material-ui/icons/KeyboardArrowLeft\";\r\nimport KeyboardArrowRight from \"@material-ui/icons/KeyboardArrowRight\";\r\nimport styles from \"./pagination-controls.module.scss\";\r\nimport useSearchParam from \"hooks/useSearchParam\";\r\nimport { scrollToTop } from \"utility\";\r\nimport useIsMobile from \"hooks/useIsMobile\";\r\n\r\ninterface OwnProps {\r\n    className?: string,\r\n    totalPages: number,\r\n}\r\n\r\ntype Props = OwnProps\r\n\r\nconst PaginationControls: FC<Props> = ({className, totalPages}) => {\r\n    const isMobile = useIsMobile();\r\n    const [currentPage = 0, setCurrentPage] = useSearchParam(\"page\");\r\n    const [movieIdParam] = useSearchParam(\"movieId\");\r\n\r\n    const goToNextPage = useCallback(() => setCurrentPage(page => {\r\n        if (page && page < totalPages) {\r\n            isMobile && scrollToTop();\r\n            return page + 1;\r\n        }\r\n        return page || 0;\r\n    }), [isMobile, setCurrentPage, totalPages]);\r\n\r\n    const goToPreviousPage = useCallback(() => setCurrentPage(page => {\r\n        if (page && page > 1) {\r\n            isMobile && scrollToTop();\r\n            return page - 1;\r\n        }\r\n        return page || 0;\r\n    }), [isMobile, setCurrentPage]);\r\n\r\n    useEffect(() => {\r\n        const keydownListener = ({code, altKey, ctrlKey, shiftKey}: KeyboardEvent) => {\r\n            if (altKey || ctrlKey || shiftKey) return ;\r\n            if (document.activeElement?.id === \"movies-browser-bar-input\") return;\r\n            if (totalPages)\r\n                switch (code) {\r\n                    case \"ArrowRight\": return goToNextPage();\r\n                    case \"ArrowLeft\":  return goToPreviousPage();\r\n                    default: break;\r\n                }\r\n        };\r\n        if (!movieIdParam) // Only add listener of there is no movie being viewed.\r\n            window.addEventListener(\"keydown\", keydownListener);\r\n\r\n        return () => window.removeEventListener(\"keydown\", keydownListener)\r\n    }, [totalPages, currentPage, movieIdParam, goToNextPage, goToPreviousPage]);\r\n\r\n\r\n    return totalPages ? (\r\n        <MobileStepper\r\n            className={`${styles.root} ${className || ''}`}\r\n            position={\"static\"}\r\n            variant=\"text\"\r\n            steps={totalPages}\r\n            activeStep={currentPage && (currentPage - 1)}\r\n            nextButton={\r\n                <Button\r\n                    size=\"small\"\r\n                    onClick={goToNextPage}\r\n                    disabled={currentPage >= totalPages}\r\n                >\r\n                    Next <KeyboardArrowRight/>\r\n                </Button>\r\n            }\r\n            backButton={\r\n                <Button\r\n                    size=\"small\"\r\n                    onClick={goToPreviousPage}\r\n                    disabled={currentPage <= 1}\r\n                >\r\n                    <KeyboardArrowLeft/> Back\r\n                </Button>\r\n            }\r\n        />\r\n    ) : null\r\n};\r\n\r\nexport default memo(PaginationControls);\r\n","import LoadingSpinner from \"./loading-spinner.component\";\r\n\r\nexport default LoadingSpinner;","import React, { FC, useEffect, useState } from \"react\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport styles from \"./loading-spinner.module.scss\";\r\nimport useIsMobile from \"hooks/useIsMobile\";\r\n\r\n\r\ninterface OwnProps {\r\n    className?: string;\r\n    darken?: boolean;\r\n    delay?: number;\r\n    fixed?: boolean;\r\n}\r\n\r\n\r\nconst LoadingSpinner: FC<OwnProps> = ({className, darken = false, delay = 0, fixed = false, ...rest}) => {\r\n    const [visible, setVisible] = useState(delay === 0);\r\n\r\n    const isMobile = useIsMobile();\r\n\r\n    useEffect(() => {\r\n        let mounted = true;\r\n        if (!visible)\r\n            setTimeout(() => mounted && setVisible(true), delay);\r\n        return () => { mounted = false };\r\n    }, [delay, visible]);\r\n\r\n    return (\r\n        <div\r\n            className={`${styles.root} ${className || ''} ${darken ? styles.darken : ''}`} {...rest}\r\n            style={{opacity: visible ? 1 : 0, position: fixed ? \"fixed\" : \"absolute\"}}\r\n        >\r\n            <CircularProgress\r\n                size={\"15\" + (isMobile ? \"vw\" : \"vh\")}/>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default LoadingSpinner;","import React, { FC } from \"react\";\r\nimport styles from \"./movie-results-container.module.scss\";\r\nimport { animated, useTransition, UseTransitionProps } from \"react-spring\";\r\nimport usePrevious from \"hooks/usePrevious\";\r\nimport appProperties from \"../../appProperties\";\r\n\r\nlet { searchPageTransitionConfig } = appProperties;\r\n\r\ninterface Props {\r\n    page: number;\r\n    children: (page: number) => JSX.Element | JSX.Element[] | null\r\n}\r\nconst MovieItemsContainer: FC<Props> = ({page, children}) => {\r\n\r\n    const prevPage = usePrevious(page);\r\n    const isNextSlide = !prevPage || prevPage < page;\r\n    const transition = useTransition(page, page, getTransitionConfig(isNextSlide));\r\n\r\n    return (\r\n        <>\r\n            {transition.map(({key, props, item: page}) => page ?\r\n                <animated.div key={key} className={`${styles.root} transition-page`}\r\n                              style={{\r\n                                  ...props,\r\n                                  transform: props.translateX.interpolate(v =>\r\n                                      v ? `translateX(${v}%)`: ''\r\n                                  )\r\n                              }}\r\n                >\r\n                    {children(page)}\r\n                </animated.div> : null\r\n            )}\r\n        </>\r\n    )\r\n};\r\n\r\nfunction getTransitionConfig(isNextSlide: boolean): UseTransitionProps<number> {\r\n    let xOffset = 8;\r\n    return {\r\n        initial: {\r\n            opacity: 0,\r\n            translateX: 0,\r\n        },\r\n        from: {\r\n            opacity: -.2,\r\n            translateX: xOffset * (isNextSlide ? 1 : -1)\r\n        },\r\n        enter: {\r\n            opacity: 1,\r\n            translateX: 0\r\n        },\r\n        leave: {\r\n            opacity: -.2,\r\n            translateX: xOffset * (isNextSlide ? -1 : 1)\r\n        },\r\n        config: searchPageTransitionConfig,\r\n        unique: true,\r\n    };\r\n}\r\n\r\nexport default MovieItemsContainer;\r\n","import MovieResultsContainer from \"./movie-results-container.component\";\r\n\r\nexport default MovieResultsContainer;","import ErrorMessage from \"./error-message.component\";\r\n\r\nexport default ErrorMessage;","import React, { FC } from \"react\";\r\nimport IMoviesSearchError from \"../../interfaces/app-types/IMoviesSearchError\";\r\nimport styles from \"./error-message.module.scss\";\r\n\r\n\r\ninterface OwnProps {\r\n    error: IMoviesSearchError,\r\n    className?: string\r\n}\r\n\r\ntype Props = OwnProps;\r\n\r\nconst ErrorMessage: FC<Props> = ({className, error}) => {\r\n    return (\r\n        <div className={`${className ? className : ''} ${styles.root}`}>\r\n            <div className={styles.title}>- Search error -</div>\r\n            {error.errors.map((message, index) =>\r\n                <div key={index}>\"{message}\"</div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nexport default ErrorMessage;","import TotalSearchResults from \"./total-search-results.component\";\r\n\r\nexport default TotalSearchResults;","import React, { FC } from \"react\";\r\nimport styles from \"./total-search-results.module.scss\";\r\nimport { formatToUSD } from \"utility\";\r\n\r\ninterface OwnProps {\r\n    totalResults: number\r\n}\r\n\r\nconst TotalSearchResults: FC<OwnProps> = ({totalResults}) => (\r\n    <div className={styles.root}>\r\n        Found: {formatToUSD(totalResults)}{totalResults === 10_000 && \"+\"}\r\n    </div>\r\n);\r\n\r\nexport default TotalSearchResults;","import { useLayoutEffect } from \"react\";\r\nimport { getHashPath, getHashQuery } from \"utility\";\r\n\r\nfunction onHashChange(e: HashChangeEvent) {\r\n\tconst pathURL = e.newURL.split(\"#\")[1];\r\n\tconst [locationPath, searchQuery = ''] = pathURL.split(\"?\");\r\n\tsessionStorage.setItem(locationPath, searchQuery);\r\n}\r\n\r\nfunction useSavedSessionParams() {\r\n\tuseLayoutEffect(() => {\r\n\t\tconst hashPath = getHashPath();\r\n\t\tconst savedPathParams = sessionStorage.getItem(hashPath);\r\n\r\n\t\tif (savedPathParams && !getHashQuery())\r\n\t\t\twindow.location.hash = hashPath + \"?\" + savedPathParams;\r\n\r\n\t\twindow.addEventListener(\"hashchange\", onHashChange);\r\n\t\treturn () => window.removeEventListener(\"hashchange\", onHashChange)\r\n\t}, [])\r\n}\r\n\r\nexport default useSavedSessionParams;","import { getMovieImgObjFromSession } from \"utility\";\r\nimport { useLayoutEffect, useRef, useState } from \"react\";\r\nimport ImageDataEvent from \"../utility/custom-events/ImageDataEvent\";\r\nimport IMovieImgSessionObj from \"../interfaces/app-types/IMovieImgSessionObj\";\r\n\r\n\r\nexport function useSessionAvgColor(movieId: number) {\r\n    const idRef = useRef(movieId);\r\n    const [imgData, setImgData] = useState<IMovieImgSessionObj | undefined>();\r\n\r\n    useLayoutEffect(() => {\r\n        const imgObj = getMovieImgObjFromSession(idRef.current);\r\n        function onColorReadyListener({detail: { movieId: movieIdSaved, imgData }}: ImageDataEvent) {\r\n            if (movieIdSaved === idRef.current) {\r\n                setImgData(imgData);\r\n                window.removeEventListener(\"imageData\", onColorReadyListener);\r\n            }\r\n        }\r\n        if (!imgObj) window.addEventListener(\"imageData\", onColorReadyListener);\r\n        else setImgData(imgObj);\r\n        return () => window.removeEventListener(\"imageData\", onColorReadyListener);\r\n    }, []);\r\n\r\n\r\n    return imgData;\r\n}\r\n\r\n","import { useEffect, useRef, useState } from \"react\";\r\nimport MovieViewEvent, { MovieViewEventState } from \"../utility/custom-events/MovieViewEvent\";\r\nimport capitalize from \"@material-ui/core/utils/capitalize\";\r\n\r\n\r\ninterface OnMovieViewConfig<T> {\r\n\tonEnter?:  T | (() => T);\r\n\tonUpdate?: T | (() => T);\r\n\tonView?:   T | (() => T);\r\n\tonClose?:  T | (() => T);\r\n\tonLeave?:  T | (() => T);\r\n}\r\n\r\ntype HookState<T> = [T, MovieViewEventState | \"initial\"]\r\n\r\nfunction useOnMovieView<T>(id: number, initial: T, config: OnMovieViewConfig<T>): HookState<T> {\r\n\tconst idRef = useRef(id);\r\n\tconst configRef = useRef(config);\r\n\r\n\tconst [props, setProps] = useState<HookState<T>>([initial, \"initial\"]);\r\n\r\n\r\n\tuseEffect(() => {idRef.current = id}, [id]);\r\n\tuseEffect(() => {configRef.current = config}, [config]);\r\n\r\n\r\n\tuseEffect(() => {\r\n\t\tlet mounted = true;\r\n\r\n\t\tfunction onEvent({detail:{state, movieId}}: MovieViewEvent) {\r\n\t\t\tif (movieId !== idRef.current) return;\r\n\r\n\t\t\tconst configPropName = `on${capitalize(state)}` as keyof OnMovieViewConfig<T>;\r\n\r\n\t\t\tif (configPropName in configRef.current) {\r\n\r\n\t\t\t\tlet configProp = configRef.current[configPropName]!;\r\n\t\t\t\t// @ts-ignore (because the truthy ternary expression is indeed callable)\r\n\t\t\t\tlet newStateProps = typeof configProp === \"function\" ? configProp() : configProp;\r\n\r\n\t\t\t\tmounted && setProps([newStateProps, state]);\r\n\t\t\t}\r\n\t\t}\r\n\t\twindow.addEventListener(\"movieView\", onEvent);\r\n\t\treturn () => {\r\n\t\t\tmounted = false;\r\n\t\t\twindow.removeEventListener(\"movieView\", onEvent);\r\n\t\t}\r\n\t}, []);\r\n\r\n\treturn props;\r\n}\r\n\r\nexport default useOnMovieView;","import React, { FC, useEffect, useState } from \"react\";\r\nimport styles from \"./movie-item-img-bg.module.scss\";\r\nimport { animated, useSpring } from \"react-spring\";\r\nimport { easeOutCubic } from \"../../utility/easingFuctions\";\r\nimport { useSessionAvgColor } from \"hooks/useSessionAvgColor\";\r\nimport useOnMovieView from \"hooks/useOnMovieView\";\r\nimport useIsMobile from \"hooks/useIsMobile\";\r\n\r\n\r\ninterface OwnProps {\r\n    movieId: number,\r\n    itemView?: boolean,\r\n    className?: string,\r\n}\r\n\r\ntype Props = OwnProps;\r\n\r\n\r\nconst MovieItemImgBg: FC<Props> = ({className, movieId, itemView = false}) => {\r\n    const isMobile = useIsMobile();\r\n\r\n    const [isRevealed, setRevealed] = useState<boolean>(itemView);\r\n\r\n    const opacityReveal = isRevealed ? .4 : 0;\r\n\r\n    useEffect(() => {\r\n        let mounted = true;\r\n        if (!itemView) { // reveal\r\n            setTimeout(() => {\r\n                mounted && setRevealed(true)\r\n            }, 450);\r\n        }\r\n        return () => { mounted = false };\r\n    }, [itemView]);\r\n\r\n    const [opacityOnMovView, eventState] = useOnMovieView(movieId, opacityReveal, {\r\n        ...(itemView ? {\r\n            onEnter: 0,\r\n            onClose: opacityReveal\r\n        } : {})\r\n    });\r\n\r\n    let props = useSpring({\r\n        opacity: itemView ? opacityOnMovView : opacityReveal,\r\n        config: {\r\n            duration: eventState === \"close\" ? 450 : 2100,\r\n            easing: eventState === \"close\" ? undefined : easeOutCubic\r\n        }\r\n    });\r\n\r\n    let imgSrc = '';\r\n\r\n    let movieImgDataObj = useSessionAvgColor(movieId);\r\n\r\n    if (!!movieImgDataObj?.jpgData && !isMobile)\r\n        imgSrc = movieImgDataObj.jpgData;\r\n\r\n    return (\r\n        <animated.img src={imgSrc} className={`${styles.root} ${className || ''}`}\r\n            alt={''} crossOrigin={\"anonymous\"} item-view={String(itemView)} style={{\r\n                imageRendering: \"pixelated\",\r\n                display: !!movieImgDataObj ? \"block\" : \"none\",\r\n                backgroundColor: movieImgDataObj?.averageColor,\r\n                ...props\r\n            }}\r\n        />\r\n    );\r\n};\r\n\r\nMovieItemImgBg.defaultProps = {\r\n    itemView: false\r\n};\r\n\r\n\r\nexport default React.memo(MovieItemImgBg);","import MovieItemImgBg from \"./movie-item-img-bg.component\";\r\n\r\nexport default MovieItemImgBg;","import React, { CSSProperties, FC, RefObject, useEffect, useRef } from \"react\";\r\nimport styles from \"./circled-progress-bar.module.scss\";\r\nimport { hslInterval, hslToHex } from \"utility\";\r\nimport { animated, useSpring } from \"react-spring\";\r\nimport { easeOutQuad } from \"../../utility/easingFuctions\";\r\nimport useIsMobile from \"hooks/useIsMobile\";\r\n\r\ninterface OwnProps {\r\n    score: number;\r\n    itemView: boolean;\r\n    className?: string;\r\n}\r\n\r\ntype Props = OwnProps;\r\n\r\nconst viewBoxSize = 60;\r\nconst strokeWidth = viewBoxSize / 15;\r\nconst circleRadius = viewBoxSize / 2 - strokeWidth;\r\nconst circleCircumference = circleRadius * 2 * Math.PI;\r\n\r\n// (min & max) colors MUST be in hsl\r\nconst minScoreColor: [number, number, number] = [1, 81, 40];\r\nconst maxScoreColor: [number, number, number] = [117, 88, 67];\r\nconst backFill = \"rgba(0, 0, 0, .25)\";\r\nconst backStroke = \"#5d5d5d\";\r\n\r\nconst RatingProgressBar: FC<Props> = ({score, itemView = false, className, ...rest}) => {\r\n    const rootRef: RefObject<HTMLDivElement> = useRef(null);\r\n    const progressMultiplier = score / 10;\r\n\r\n    const isMobile = useIsMobile();\r\n\r\n    const progressColor = hslInterval(\r\n        minScoreColor,\r\n        maxScoreColor,\r\n        progressMultiplier\r\n    );\r\n\r\n    const progressValue = circleCircumference * progressMultiplier;\r\n    const strokeDashOffsetVal = circleCircumference - progressValue;\r\n\r\n    const [props, set] = useSpring(() => ({\r\n        stroke: hslToHex(!itemView ? minScoreColor : progressColor),\r\n        strokeDashoffset: !itemView ? circleCircumference : strokeDashOffsetVal,\r\n        config: {\r\n            duration: 3000 * progressMultiplier,\r\n            easing: easeOutQuad\r\n        },\r\n    }));\r\n\r\n    useEffect(onComponentMount, []);\r\n\r\n    const style: CSSProperties = {\r\n        visibility: !itemView ? \"hidden\" : undefined,\r\n        opacity: !itemView ? 0 : 1\r\n    };\r\n\r\n    return (\r\n            <div className={`${styles.root} ${className ? className : ''}`} {...rest} style={style} ref={rootRef}>\r\n                <svg height=\"100%\" width={viewBoxSize} viewBox={`0 0 ${viewBoxSize} ${viewBoxSize}`}\r\n                     overflow={\"visible\"}>\r\n                    <circle\r\n                        cx={viewBoxSize / 2}\r\n                        cy={viewBoxSize / 2}\r\n                        r={circleRadius}\r\n                        fill={backFill}\r\n                        stroke={backStroke}\r\n                        strokeWidth={strokeWidth}\r\n                        style={{zIndex: -1}}\r\n                    />\r\n                    <animated.circle\r\n                        style={!isMobile ? props : undefined}\r\n                        cx={viewBoxSize / 2}\r\n                        cy={viewBoxSize / 2}\r\n                        r={circleRadius}\r\n                        stroke={hslToHex(progressColor)}\r\n                        fill={\"none\"}\r\n                        strokeDasharray={circleCircumference}\r\n                        strokeLinecap={\"round\"}\r\n                        strokeDashoffset={strokeDashOffsetVal.toString()}\r\n                        strokeWidth={strokeWidth}\r\n                        strokeMiterlimit={viewBoxSize / 10}\r\n                        transform={`rotate(-90 ${viewBoxSize / 2} ${viewBoxSize / 2})`}\r\n                    />\r\n                </svg>\r\n                <span className={styles.scoreValue}>{score ? score.toPrecision(2) : 'NR'}</span>\r\n            </div>\r\n    );\r\n\r\n    function onComponentMount() {\r\n        let ignore = false;\r\n        setTimeout(() => {\r\n            if (ignore) return;\r\n            if (!itemView) {\r\n                rootRef.current!.style.visibility = \"visible\";\r\n                rootRef.current!.style.opacity = \"1\";\r\n                animateProgress()\r\n            }\r\n        } ,400);\r\n        return () => void (ignore = true);\r\n    }\r\n\r\n    function animateProgress() {\r\n        set({\r\n            stroke: hslToHex(progressColor),\r\n            strokeDashoffset: strokeDashOffsetVal\r\n        });\r\n    }\r\n};\r\n\r\nexport default RatingProgressBar;\r\n","import CircledProgressBar from \"./circled-progress-bar.component\";\r\n\r\nexport default CircledProgressBar;","import { useLayoutEffect, useRef } from \"react\";\r\n\r\nfunction useLockBodyScroll(maxWidth?: number) {\r\n\tconst maxWidthRef = useRef(maxWidth);\r\n\tuseLayoutEffect(() => {\r\n\t\t// Get original body overflow\r\n\t\t// const originalBodyStyle = window.getComputedStyle(document.body).overflow;\r\n\t\tconst originalStyle = document.scrollingElement ?\r\n\t\t\twindow.getComputedStyle(document.scrollingElement).overflow : ''\r\n\t\t// Prevent scrolling on mount\r\n\t\tif (typeof maxWidthRef.current === \"undefined\" || window.innerWidth <= maxWidthRef.current) {\r\n\t\t\t// document.body.style.overflow = 'hidden';\r\n\t\t\tif (document.scrollingElement)\r\n\t\t\t\t(document.scrollingElement as HTMLElement).style.overflow = 'hidden';\r\n\t\t}\r\n\t\t// Re-enable scrolling on component unmount\r\n\t\treturn () => {\r\n\t\t\tif (document.scrollingElement)\r\n\t\t\t\t(document.scrollingElement as HTMLElement).style.overflow = originalStyle;\r\n\t\t}\r\n\t}, []); // Empty array ensures effect is only run on mount and unmount\r\n}\r\n\r\nexport default useLockBodyScroll;","import React, { FC, useState } from \"react\";\r\nimport Rating from \"@material-ui/lab/Rating\";\r\nimport styles from \"./movie-view-actions.module.scss\";\r\nimport useIsMobile from \"hooks/useIsMobile\";\r\nimport useLockBodyScroll from \"hooks/useLockBodyScroll\";\r\n\r\n\r\ninterface Props {\r\n    rateItem: (newValue: number | null) => void;\r\n    defaultValue?: number;\r\n    setRatingModal: (state: boolean) => void\r\n}\r\n\r\nconst valuesMap = {\r\n    0  : 0.0,\r\n    1  : 0.5,\r\n    2  : 1.0,\r\n    3  : 1.5,\r\n    4  : 2.0,\r\n    5  : 2.5,\r\n    6  : 3.0,\r\n    7  : 3.5,\r\n    8  : 4.0,\r\n    9  : 4.5,\r\n    10 : 5.0\r\n}\r\n\r\nconst RatingModal: FC<Props> = ({rateItem, defaultValue = 0, setRatingModal}) => {\r\n    const isMobile = useIsMobile();\r\n    const [value, setValue] = useState<number | null>(defaultValue/2);\r\n\r\n    useLockBodyScroll(600);\r\n\r\n    const unRate = () => {\r\n        if (isMobile)\r\n            setValue(null)\r\n        else rateItem(null);\r\n    }\r\n    const handleClickAway = (e: React.MouseEvent) => {\r\n        const screenYPercent = e.clientY / window.innerHeight;\r\n        if (screenYPercent < .55)\r\n            setRatingModal(false);\r\n    }\r\n    function onTouch(e: React.TouchEvent<HTMLSpanElement>) {\r\n        const {left, right} = e.currentTarget.getBoundingClientRect();\r\n        const maxPoint = right - left;\r\n        const touchPoint = e.targetTouches[0].clientX - left;\r\n        const pointPercent = Math.round((touchPoint / maxPoint)*100);\r\n        const resultPercent =\r\n            pointPercent > 0 ? (pointPercent <= 100 ? pointPercent : 100) : 0\r\n\r\n        const newValue = valuesMap[Math.round(resultPercent / 10) as keyof typeof valuesMap];\r\n        setValue(newValue);\r\n    }\r\n\r\n    return (\r\n        <div className={styles.ratingModalContainer} onClick={handleClickAway} >\r\n            <div className={styles.ratingModal}>\r\n                {!!defaultValue &&\r\n                <button onClick={unRate} title=\"remove rating\" className={styles.removeButton}>-</button>\r\n                }\r\n                <Rating\r\n                    name=\"movie-rating\"\r\n                    precision={0.5}\r\n                    value={value}\r\n                    onChange={(event, newValue) => {\r\n                        if (isMobile)\r\n                            return;\r\n                        else rateItem((newValue || 0) * 2);\r\n                    }}\r\n                    onTouchMove={onTouch}\r\n                    onTouchStart={onTouch}\r\n                    size={isMobile ? \"large\" : \"medium\"}\r\n                />\r\n                {isMobile && <button\r\n                    disabled={(defaultValue/2) === value}\r\n                    className={styles.mobileSubmit}\r\n                    onClick={() => {\r\n                        rateItem(value ? value*2 : value)\r\n                    }}\r\n                >{value === null ? \"Un-Rate\" : \"Rate\"}</button>\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nexport default RatingModal;","import React, { FC, useEffect, useState } from \"react\";\r\nimport useAuth from \"hooks/useAuth\";\r\nimport styles from \"./auth-page.module.scss\";\r\nimport TokenData from \"../../interfaces/app-types/TokenData\";\r\nimport { goFetch, isValidRequestToken } from \"utility\";\r\nimport appProperties from \"../../appProperties\";\r\n\r\nconst {newRequestTokenUrl} = appProperties;\r\n\r\nconst AuthPage: FC = ({children}) => {\r\n\tconst [requestToken, setRequestToken] = useState<string | null>(null);\r\n\tconst {isAuth, user, signOut, signIn} = useAuth();\r\n\r\n\r\n\tuseEffect(() => {\r\n\t\tlet ignore = false;\r\n\t\tconst localToken = getValidLocalToken();\r\n\r\n\t\tif (localToken)\r\n\t\t\tsetRequestToken(localToken);\r\n\r\n\t\telse goFetch<TokenData>(newRequestTokenUrl)\r\n\t\t\t\t.then(tokenData => {\r\n\t\t\t\t\tlocalStorage.setItem(\"token_data\", JSON.stringify(tokenData));\r\n\t\t\t\t\t!ignore && setRequestToken(tokenData.request_token);\r\n\t\t\t\t});\r\n\r\n\t\treturn () => void (ignore = true)\r\n\t}, []);\r\n\r\n\r\n\tconst handleLogin = () => {\r\n\t\tif (!requestToken) return;\r\n\t\tsignIn(requestToken);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={styles.root}>\r\n\t\t\t{isAuth ? (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<div className={styles.userField}>\r\n\t\t\t\t\t\t<span>Username:</span>\r\n\t\t\t\t\t\t<span>{user!.username}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={styles.userField}>\r\n\t\t\t\t\t\t<span>Name:</span>\r\n\t\t\t\t\t\t<span>{user!.name || '-- '}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</>\r\n\t\t\t) : (\r\n\t\t\t\t<div className={styles.userField}>\r\n\t\t\t\t\t<p>No user logged in</p>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t{isAuth ? (\r\n\t\t\t\t<button onClick={signOut}>Log out</button>\r\n\t\t\t) : (\r\n\t\t\t\t<button disabled={!requestToken} onClick={handleLogin}>Log in</button>\r\n\t\t\t)}\r\n\t\t\t{children}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nfunction getValidLocalToken(): string | null {\r\n\tconst localToken = localStorage.getItem(\"token_data\");\r\n\tif (localToken) {\r\n\t\tconst tokenResponse = JSON.parse(localToken) as TokenData;\r\n\t\treturn isValidRequestToken(tokenResponse) ? tokenResponse.request_token : null;\r\n\t} else return null;\r\n}\r\n\r\nexport default AuthPage;","import AuthPage from \"./auth-page.component\";\r\n\r\nexport default AuthPage;","import React, { FC, useEffect, useReducer, useRef, useState } from \"react\";\r\nimport styles from \"./movie-view-actions.module.scss\";\r\nimport { Tooltip } from \"@material-ui/core\";\r\nimport IMovieUserState, { Rated } from \"../../interfaces/app-types/IMovieUserState\";\r\nimport useAuth from \"hooks/useAuth\";\r\nimport { goFetch } from \"utility\";\r\nimport appProperties from \"../../appProperties\";\r\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\r\nimport BookmarkIcon from \"@material-ui/icons/Bookmark\";\r\nimport GradeIcon from \"@material-ui/icons/Grade\";\r\nimport RatingModal from \"./rating-modal.component\";\r\nimport AuthPage from \"pages/auth-page\";\r\nimport store from \"store\";\r\nimport IMovieResultItem from \"../../interfaces/app-types/IMovieResultItem\";\r\nimport getMoviesBrowserActions from \"../../store/movies-browser/movies-browser.actions\";\r\nimport { AccountItemsNames } from \"../../store/movies-browser\";\r\n\r\nconst {buildFetchMovieViewUrl, itemActions} = appProperties;\r\n\r\ninterface Props {\r\n    item: IMovieResultItem,\r\n    className?: string;\r\n}\r\ntype State = IMovieUserState & {isLoading: Array<keyof IMovieUserState>}\r\n\r\ntype ReducerActions =\r\n    | { type: 'set-account-state', payload: IMovieUserState }\r\n    | { type: 'update-favorite',   payload: boolean }\r\n    | { type: 'update-watchlist',  payload: boolean }\r\n    | { type: 'update-rated',      payload: boolean | Rated }\r\n    | { type: 'set-is-loading',    payload: Array<keyof IMovieUserState> }\r\n    | { type: 'clear-loading' };\r\n\r\nfunction reducer(state: State, action: ReducerActions): State {\r\n    switch (action.type) {\r\n        case \"set-account-state\":\r\n            return {\r\n                ...action.payload,\r\n                isLoading: []\r\n            }\r\n        case \"update-favorite\":\r\n            return {\r\n                ...state,\r\n                favorite: action.payload,\r\n                isLoading: state.isLoading.filter(value => value !== \"favorite\")\r\n            }\r\n        case \"update-watchlist\":\r\n            return {\r\n                ...state,\r\n                watchlist: action.payload,\r\n                isLoading: state.isLoading.filter(value => value !== \"watchlist\")\r\n            }\r\n        case \"update-rated\":\r\n            return {\r\n                ...state,\r\n                rated: action.payload,\r\n                isLoading: state.isLoading.filter(value => value !== \"rated\")\r\n            }\r\n        case \"set-is-loading\":\r\n            return {\r\n                ...state,\r\n                isLoading: [...new Set(\r\n                    [...state.isLoading, ...action.payload]\r\n                )]\r\n            }\r\n        case \"clear-loading\":\r\n            return {\r\n                ...state,\r\n                isLoading: []\r\n            }\r\n        default: return state;\r\n    }\r\n}\r\n\r\nconst initial_state: State = {\r\n    rated: false,\r\n    watchlist: false,\r\n    favorite: false,\r\n    isLoading: [],\r\n    id: 0\r\n}\r\nconst favoriteActions =  getMoviesBrowserActions(\"favorite\");\r\nconst watchlistActions =  getMoviesBrowserActions(\"watchlist\");\r\n\r\n\r\nconst MovieViewActionButtons: FC<Props> = ({item, className}) => {\r\n    const {id: movieId} = item;\r\n    const isMounted = useRef(false);\r\n\r\n    useEffect(() => {\r\n        isMounted.current = true;\r\n        return () => { isMounted.current = false }\r\n    }, []);\r\n\r\n    const [ratingModal, setRatingModal] = useState(false);\r\n    const [showLogin, setShowLogin] = useState(false);\r\n\r\n\r\n    const [state, dispatch] = useReducer(reducer, initial_state);\r\n    const setLoading = (actionName: keyof IMovieUserState) => dispatch({type: 'set-is-loading', payload: [actionName]});\r\n\r\n    const auth = useAuth();\r\n    const ratedValue = typeof state.rated === \"object\" ? state.rated.value : undefined;\r\n\r\n    const ignoreActions = !auth.isAuth || !state.id;\r\n\r\n    useEffect(() => {\r\n        let ignore = false;\r\n        if (auth.isAuth && !state.id) {\r\n            dispatch({type: 'set-is-loading', payload: ['id']});\r\n            goFetch<IMovieUserState>\r\n            (`${buildFetchMovieViewUrl(movieId, \"/account_states\")}&session_id=${localStorage.getItem(\"session_id\")}`)\r\n                .then(data => {\r\n                    !ignore && dispatch({type: 'set-account-state', payload: data});\r\n                });\r\n        }\r\n\r\n        return () => void (ignore = true)\r\n    }, [state.id, auth.isAuth, movieId]);\r\n\r\n    const markFavorite = () => {\r\n        if (ignoreActions) return !auth.isAuth && setShowLogin(true);\r\n        let newFavValue = !state.favorite;\r\n\r\n        if (checkAllowToRemove(newFavValue, \"favorite\")) {\r\n            setLoading('favorite');\r\n            itemActions.favorite(newFavValue, movieId)\r\n                .then(() => {\r\n                    if (newFavValue)\r\n                        store.dispatch(favoriteActions.unshiftToFavorites(item));\r\n                    else store.dispatch(favoriteActions.removeFromListItems(movieId));\r\n\r\n                    isMounted.current && dispatch({\r\n                        type: 'update-favorite', payload: newFavValue\r\n                    });\r\n                })\r\n                .catch(e => {\r\n                    console.error(e);\r\n                    alert(\"Error: could not mark to item-list :(\");\r\n                    isMounted.current && dispatch({type: 'clear-loading'});\r\n                });\r\n        }\r\n    }\r\n\r\n    const markWatchlist = () => {\r\n        if (ignoreActions) return !auth.isAuth && setShowLogin(true);\r\n        let newVal = !state.watchlist;\r\n\r\n        if (checkAllowToRemove(newVal, \"watchlist\")) {\r\n            setLoading('watchlist');\r\n            itemActions.watchlist(newVal, movieId)\r\n                .then(() => {\r\n                    if (newVal)\r\n                        store.dispatch(watchlistActions.unshiftToFavorites(item));\r\n                    else store.dispatch(watchlistActions.removeFromListItems(movieId));\r\n                    isMounted.current && dispatch({\r\n                        type: 'update-watchlist', payload: newVal\r\n                    });\r\n                })\r\n                .catch(e => {\r\n                    console.error(e);\r\n                    alert(\"Error: could not update watchlist :(\");\r\n                    isMounted.current && dispatch({type: 'clear-loading'});\r\n                });\r\n        }\r\n    }\r\n\r\n    const rateItem = (newVal: number | null) => {\r\n        if (ignoreActions) return setRatingModal(false);\r\n        if ((typeof state.rated === \"object\" && newVal === state.rated.value)\r\n            || (newVal === null && state.rated === false)\r\n        )\r\n            return setRatingModal(false);\r\n\r\n        setLoading(\"rated\");\r\n        setRatingModal(false);\r\n        if (newVal)\r\n            itemActions.rate(newVal, movieId)\r\n                .then(() => {\r\n                    isMounted.current && dispatch({\r\n                        type: 'update-rated', payload: {value: newVal}\r\n                    });\r\n                })\r\n                .catch(e => {\r\n                    console.error(e);\r\n                    alert(\"Error: could not update rating :(\")\r\n                    isMounted.current && dispatch({type: 'clear-loading'});\r\n                })\r\n        else itemActions.unRate(movieId)\r\n            .then(() => {\r\n                isMounted.current && dispatch({\r\n                    type: 'update-rated', payload: false\r\n                });\r\n            })\r\n            .catch(e => {\r\n                console.error(e);\r\n                alert(\"Error: could not update rating :(\")\r\n                isMounted.current && dispatch({type: 'clear-loading'});\r\n            })\r\n    }\r\n\r\n    return (\r\n        <ul className={`${styles.root} ${className || ''}`}>\r\n            <Tooltip key={\"favorite\"}\r\n                     title={(!state.favorite ? \"Mark as\" : \"Remove from\") + \" Favorite\"}\r\n                     enterDelay={300}\r\n                     PopperProps={{className: styles.toolTip}}>\r\n                <div className={styles.iconWrapper}\r\n                     active-icon={String(state.favorite)}\r\n                     action-name={\"favorite\"}\r\n                     is-loading={String(state.isLoading.includes(\"favorite\"))}\r\n                     onClick={markFavorite}\r\n                >\r\n                    <FavoriteIcon className={styles.icon} />\r\n                </div>\r\n            </Tooltip>\r\n            <Tooltip key={\"watchlist\"}\r\n                     title={(!state.watchlist ? \"Add to\" : \"Remove from\") + \" Watchlist\"}\r\n                     enterDelay={300}\r\n                     PopperProps={{className: styles.toolTip}}>\r\n                <div className={styles.iconWrapper}\r\n                     active-icon={String(state.watchlist)}\r\n                     action-name={\"watchlist\"}\r\n                     is-loading={String(state.isLoading.includes(\"watchlist\"))}\r\n                     onClick={markWatchlist}\r\n                >\r\n                    <BookmarkIcon className={styles.icon} />\r\n                </div>\r\n            </Tooltip>\r\n            <Tooltip key={\"rated\"}\r\n                     title={\"Rate it!\"}\r\n                     enterDelay={300}\r\n                     PopperProps={{className: styles.toolTip}}>\r\n                <div className={styles.iconWrapper}\r\n                     active-icon={String(!!state.rated)}\r\n                     action-name={\"rated\"}\r\n                     is-loading={String(state.isLoading.includes(\"rated\"))}\r\n                     onClick={() => {\r\n                         if (!auth.isAuth) return setShowLogin(true);\r\n                         setRatingModal(prev => !prev)\r\n                     }}\r\n                     {...(!!state.rated ?\r\n                         {\"icon-score\": (state.rated as Rated).value} : {})}\r\n                >\r\n                    <GradeIcon className={styles.icon} />\r\n                </div>\r\n            </Tooltip>\r\n            {ratingModal && <RatingModal setRatingModal={setRatingModal} rateItem={rateItem} defaultValue={ratedValue}/>}\r\n            {showLogin && (\r\n                <div className={styles.showAuth} onClick={e => {\r\n                    if (e.target === e.currentTarget) setShowLogin(false)\r\n                }}>\r\n                    <AuthPage>\r\n                        <button className={styles.xButton}\r\n                                onClick={() => setShowLogin(false)}\r\n                        >&#10005;</button>\r\n                    </AuthPage>\r\n                </div>\r\n            )}\r\n        </ul>\r\n    );\r\n};\r\n\r\nfunction checkAllowToRemove(newValue: boolean, itemName: AccountItemsNames): boolean {\r\n    if (newValue) return true;\r\n    else return window.confirm(`Remove item from ${itemName === \"favorite\" ? \"favorites\" : itemName}?`)\r\n}\r\n\r\n\r\n\r\nexport default MovieViewActionButtons;\r\n","import MovieViewActions from \"./movie-view-actions.component\";\r\n\r\nexport default MovieViewActions;","import MovieItemImage from \"./movie-item-image.component\";\r\n\r\nexport default MovieItemImage;","import React, { FC } from \"react\";\r\nimport IMovieResultItem from \"../../interfaces/app-types/IMovieResultItem\";\r\nimport store from \"store\";\r\nimport { setMovieView } from \"store/movie-view/movie-view.actions\";\r\nimport ImageIcon from \"@material-ui/icons/Image\";\r\nimport styles from \"./movie-item-image.module.scss\";\r\n\r\n\r\ninterface OwnProps {\r\n\tbackGroundUrl: string;\r\n\tposter_path: string | null;\r\n\tmovie: IMovieResultItem;\r\n\titemView?: boolean;\r\n\tclassName?: string;\r\n}\r\n\r\nconst MovieItemImage: FC<OwnProps> =\r\n\t({movie, backGroundUrl, poster_path, itemView = false, className}) =>\r\n\t\t<div className={`${styles.root} ${className || ''}`} item-view={String(itemView)}>\r\n\t\t\t<div style={{backgroundImage: backGroundUrl}}\r\n\t\t\t     onClick={() => !itemView && store.dispatch(setMovieView(movie))}\r\n\t\t\t     className={styles.image}>\r\n\t\t\t\t{!poster_path && <>\r\n                    <ImageIcon className={styles.imageIcon}/>\r\n                    <span>No<br/>Image</span>\r\n                </>}\r\n\t\t\t</div>\r\n\t\t</div>;\r\n\r\n\r\nexport default MovieItemImage;","import React, { CSSProperties, FC, useEffect, useMemo, useRef, useState } from \"react\";\r\nimport MovieItemImgBg from \"components/movie-item-img-bg\";\r\nimport RatingProgressBar from \"components/circled-progress-bar\";\r\nimport MovieViewActionButtons from \"components/movie-view-actions\";\r\nimport styles from \"./movie-result-item.module.scss\";\r\nimport IMovieResultItem from \"../../interfaces/app-types/IMovieResultItem\";\r\nimport appProperties from \"../../appProperties\";\r\nimport useOnMovieView from \"hooks/useOnMovieView\";\r\nimport useIsMobile from \"hooks/useIsMobile\";\r\nimport MovieItemImage from \"components/movie-item-image\";\r\n\r\nconst {getPosterSrcPathPrefix} = appProperties;\r\n\r\ninterface OwnProps {\r\n\tmovie: IMovieResultItem;\r\n\titemView?: boolean;\r\n\tclassName?: string;\r\n}\r\n\r\ntype OnViewConfigGeneric = \"hidden\" | \"visible\";\r\n\r\nconst MovieResultItem: FC<OwnProps> = ({movie, className, itemView = false}) => {\r\n\tconst isMobile = useIsMobile();\r\n\tconst itemRef = useRef<HTMLDivElement>(null);\r\n\tlet {poster_path, title, vote_average, release_date, overview} = movie;\r\n\r\n\tconst [imgSrcPath, setImgSrcPath] = useState(() => `${getPosterSrcPathPrefix()}${poster_path}`);\r\n\r\n\tconst initialOnViewProps: CSSProperties = {opacity: 0, visibility: \"hidden\"};\r\n\tconst [onMovieProps, propsState] = useOnMovieView<CSSProperties>(movie.id, initialOnViewProps, {\r\n\t\t...(itemView ? {\r\n\t\t\tonEnter: initialOnViewProps,\r\n\t\t\tonView: {opacity: 1, transition: \"opacity 650ms ease\"},\r\n\t\t\tonClose: {opacity: 0, transition: \"opacity 450ms ease\"}\r\n\t\t} : {})\r\n\t});\r\n\r\n\tconst titleStyle: CSSProperties = {\r\n\t\tfontSize: (propsState === \"view\" || propsState === \"enter\" || isMobile) ?\r\n\t\t\t(itemView ? (isMobile ? \"1.4rem\" : \"1.9rem\") : undefined) : undefined\r\n\t};\r\n\r\n\tconst [visibility, visibilityState] = useOnMovieView<OnViewConfigGeneric>\r\n\t(movie.id, \"visible\", !itemView ? onViewConfigNotItemView : {\r\n\t\tonView: () => {\r\n\t\t\tif (itemView && poster_path) { // this is to make image look better (higher quality)\r\n\t\t\t\tlet newSrc = `${getPosterSrcPathPrefix(\"500\")}${poster_path}`;\r\n\t\t\t\tlet image = new Image();\r\n\t\t\t\t// set newSrc upon cached response for better UX\r\n\t\t\t\timage.onload = () => setImgSrcPath(newSrc);\r\n\t\t\t\timage.src = newSrc;\r\n\t\t\t}\r\n\t\t\treturn \"visible\";\r\n\t\t}\r\n\t});\r\n\r\n\tuseEffect(() => {\r\n\t\tif (visibilityState === \"leave\") {\r\n\t\t\tvoid itemRef.current!.offsetWidth; // this trick will trigger animation play/replay\r\n\t\t\titemRef.current!.classList.add(styles.runAnimation);\r\n\t\t} else itemRef.current!.classList.remove(styles.runAnimation);\r\n\t}, [visibilityState]);\r\n\t\r\n\t\r\n\tconst memoizedItemImage = useMemo(() =>\r\n\t\t<MovieItemImage\r\n\t\t\tbackGroundUrl={poster_path ? `url(\"${imgSrcPath}\")` : ''}\r\n\t\t\tposter_path={poster_path}\r\n\t\t\tmovie={movie}\r\n\t\t\titemView={itemView}\r\n\t\t/>, [imgSrcPath, poster_path]\r\n\t)\r\n\r\n\treturn (\r\n\t\t<div className={`${styles.root} ${className || ''}`}\r\n\t\t     item-view={String(itemView)}\r\n\t\t     id={!itemView ? String(movie.id) : ''}\r\n\t\t     ref={itemRef}\r\n\t\t     style={{visibility}}\r\n\t\t>\r\n\t\t\t{!(isMobile && itemView) && <MovieItemImgBg movieId={movie.id} itemView={itemView}/>}\r\n\t\t\t{memoizedItemImage}\r\n\t\t\t<div className={styles.content}>\r\n\t\t\t\t<div className={styles.wrapper}>\r\n\t\t\t\t\t<div className={styles.header}>\r\n\t\t\t\t\t\t<div className={styles.title} style={titleStyle}>{title}</div>\r\n\t\t\t\t\t\t{release_date && (\r\n\t\t\t\t\t\t\t<div className={styles.year}>{release_date.substr(0, 4)}</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{itemView && !isMobile && (\r\n\t\t\t\t\t\t\t<p className={styles.overViewSection} style={onMovieProps}>{overview}</p>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{!(isMobile && itemView) && (\r\n\t\t\t\t\t\t<div className={styles.info}>\r\n\t\t\t\t\t\t\t<div><RatingProgressBar score={vote_average} itemView={itemView}/></div>\r\n\t\t\t\t\t\t\t{itemView && <div style={onMovieProps}><MovieViewActionButtons item={movie}/></div>}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst onViewConfigNotItemView = {\r\n\tonEnter: \"hidden\" as OnViewConfigGeneric,\r\n\tonLeave: \"visible\" as OnViewConfigGeneric\r\n};\r\n\r\n\r\nexport default MovieResultItem;","import MovieResultItem from \"./movie-result-item.component\";\r\n\r\nexport default MovieResultItem;","import MovieResultSkeleton from \"./movie-result-skeleton.component\";\r\n\r\nexport default MovieResultSkeleton;","import React, { FC } from \"react\";\r\nimport styles from \"./movie-result-skeleton.module.scss\";\r\n\r\nconst viewBoxSize = 60;\r\nconst strokeWidth = viewBoxSize / 15;\r\nconst circleRadius = viewBoxSize / 2 - strokeWidth;\r\n\r\nconst backFill = \"rgba(0, 0, 0, .25)\";\r\nconst backStroke = \"#5d5d5d\";\r\n\r\nconst MovieResultSkeleton: FC = () => (\r\n    <div className={`${styles.root}`}>\r\n        <div className={styles.imageWrapper}>\r\n            <div className={styles.image}/>\r\n        </div>\r\n        <div className={styles.content}>\r\n            <div className={styles.wrapper}>\r\n                <div className={styles.header}>\r\n                    <div className={styles.title}/>\r\n                    <div className={styles.year}/>\r\n                </div>\r\n                <div className={styles.info}>\r\n                    <div className={styles.infoWrapper}>\r\n                        <svg height=\"100%\" width={viewBoxSize} viewBox={`0 0 ${viewBoxSize} ${viewBoxSize}`}\r\n                             overflow={\"visible\"}>\r\n                            <circle\r\n                                cx={viewBoxSize / 2}\r\n                                cy={viewBoxSize / 2}\r\n                                r={circleRadius}\r\n                                fill={backFill}\r\n                                stroke={backStroke}\r\n                                strokeWidth={strokeWidth}\r\n                                style={{zIndex: -1}}\r\n                            />\r\n                        </svg>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n);\r\n\r\n\r\nexport default MovieResultSkeleton;","import { MoviesBrowseNames } from \"store/movies-browser\";\r\nimport useSearchParam from \"./useSearchParam\";\r\nimport IMovieResultItem from \"../interfaces/app-types/IMovieResultItem\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport getMoviesBrowserActions from \"store/movies-browser/movies-browser.actions\";\r\nimport { useSelector } from \"react-redux\";\r\nimport store, { AppState } from \"store\";\r\nimport { MoviesBrowseState } from \"store/movies-browser/movies-browser.reducer\";\r\nimport { calculatePageOnApi } from \"utility\";\r\nimport appProperties from \"../appProperties\";\r\nimport IMoviesSearchError from \"../interfaces/app-types/IMoviesSearchError\";\r\n\r\nconst {itemsPerPageUI} = appProperties;\r\n\r\ntype MoviesBrowseActions = ReturnType<typeof getMoviesBrowserActions>;\r\nexport type PortionItemUI = IMovieResultItem | Pick<IMovieResultItem, \"id\">;\r\nexport type ItemsPortionUI = PortionItemUI[];\r\n\r\nexport function isMovieItem(item: PortionItemUI): item is IMovieResultItem {\r\n\treturn 'title' in item;\r\n}\r\n\r\ninterface useMovieItemsHook {\r\n\titems: ItemsPortionUI,\r\n\terror: IMoviesSearchError | null\r\n\tpageUI: number,\r\n\tisLoading: boolean,\r\n\tgoToPage: (page: number) => void,\r\n\ttotalPagesUI: number,\r\n\ttotalResults: number,\r\n}\r\ninterface useMovieItemsProps<TNames> {\r\n\tname: TNames;\r\n\tsearchQuery?: string;\r\n}\r\n\r\ntype PropTypes =\r\n\t| {name: \"favorite\" }\r\n\t| {name: \"watchlist\" }\r\n\t| {name: \"search\", searchQuery: string }\r\n\t| {name: \"nowPlaying\" }\r\n\t| {name: \"trendingWeek\" }\r\n\r\n\r\nconst isFetchingOrLengthEquality = (newState: MoviesBrowseState, oldState: MoviesBrowseState) =>\r\n\t(newState.isFetching === oldState.isFetching && newState.isFetchingMore === oldState.isFetchingMore)\r\n\t&& (Object.keys(newState.searchData?.results || {}).length === Object.keys(oldState.searchData?.results || {}).length)\r\n\r\n/**\r\n *  @description <p>The 'goToPage' property of the returned object is not available for \"trendingWeek\"</p>.\r\n *                <p>Also, authentication is required to retrieve: </p>\r\n *                <ul>\r\n *                    <li>favorite</li>\r\n *                    <li>watchlist</li>\r\n *                </ul>\r\n * */\r\nfunction useMovieItems<TNames extends MoviesBrowseNames>\r\n\t(props: useMovieItemsProps<TNames> & PropTypes) {\r\n\r\n\t// get corresponding actions\r\n\tconst [actionsInit] = useState(() => getMoviesBrowserActions(props.name));\r\n\tconst actionsRef = useRef<MoviesBrowseActions>(actionsInit);\r\n\tconst nameRef = useRef<MoviesBrowseNames>(props.name);\r\n\r\n\t// get corresponding state\r\n\tconst state = useSelector<AppState, MoviesBrowseState>\r\n\t\t(state => state[props.name], isFetchingOrLengthEquality);\r\n\r\n\r\n\tconst [pageUI = 1, setPage] = useSearchParam(\"page\", pageUI => {\r\n\t\tpageUI && store.dispatch(actionsRef.current.checkIfFetchMore(pageUI));\r\n\t});\r\n\r\n\tuseEffect(() => {\r\n\t\tif (nameRef.current === \"search\") return;\r\n\t\tif (!store.getState()[nameRef.current].searchData)\r\n\t\t\tstore.dispatch(actionsRef.current.fetchMoviesAsync())\r\n\t}, []);\r\n\r\n\r\n\tuseEffect(() => {\r\n\t\tconst id = setTimeout(() => { // this timeOut is to make sure the effect has the latest dependencies because it there could be a delay between pageUI param and searchQuery arg\r\n\t\t\tif (nameRef.current === \"search\" && state.searchTerm !== props.searchQuery && props.searchQuery && !state.isFetching)\r\n\t\t\t\tstore.dispatch(actionsRef.current.fetchMoviesAsync(props.searchQuery, calculatePageOnApi(pageUI)));\r\n\t\t}, 150)\r\n\t\treturn () => clearTimeout(id);\r\n\t}, [pageUI, props.searchQuery, state]);\r\n\r\n\r\n\treturn ({\r\n\t\t        items  :  selectItemsUIPortion(state, pageUI), // select a portion based on \"itemsPerPageUI\" defined in \"/appProperties\"\r\n\t\t        error  :  state.searchError,\r\n\t\t       pageUI  :  pageUI,\r\n\t\t    isLoading  :  state.isFetching,\r\n\t\t totalPagesUI  :  calculateTotalPagesUI(state.searchData?.total_results || 0),\r\n\t\t totalResults  :  state.searchData?.total_results || 0,\r\n\t\t     goToPage  :  (nameRef.current !== \"trendingWeek\") ? ((page: number) => setPage(page)) : undefined\r\n\t} as\r\n\t\tTNames extends \"trendingWeek\" ? Omit<useMovieItemsHook, \"goToPage\"> : useMovieItemsHook)\r\n\r\n}\r\n\r\nfunction selectItemsUIPortion(browseState: MoviesBrowseState, pageUI: number = 1) {\r\n\tlet selected: ItemsPortionUI = [];\r\n\r\n\tif (browseState.isFetching || !browseState.searchData) return selected;\r\n\r\n\tconst fromIndex = ((pageUI - 1) * itemsPerPageUI);\r\n\r\n\tfor (let i = 0; i < itemsPerPageUI; i++) {\r\n\t\tlet grabIndex = fromIndex + i;\r\n\t\tlet item = browseState.searchData.results[grabIndex];\r\n\t\tselected[i] = item || {id: grabIndex}; // provisional key\r\n\t\tif (grabIndex+1 === browseState.searchData.total_results) break; // break if last item\r\n\t}\r\n\r\n\treturn selected;\r\n}\r\n\r\nfunction calculateTotalPagesUI(totalResultsApi: number) {\r\n\treturn Math.ceil( totalResultsApi / itemsPerPageUI );\r\n}\r\n\r\nexport default useMovieItems;","import MoviesGrid from \"./movies-grid.component\";\r\n\r\nexport default MoviesGrid;","import React, { FC } from \"react\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport MovieResultItem from \"components/movie-result-item\";\r\nimport MovieResultSkeleton from \"components/movie-result-skeleton\";\r\nimport styles from \"./movies-grid.module.scss\";\r\nimport { isMovieItem, ItemsPortionUI } from \"hooks/useMovieItems\";\r\n\r\ninterface Props {\r\n\titems: ItemsPortionUI\r\n}\r\n\r\nconst MoviesGrid: FC<Props> = ({items}) => {\r\n\treturn (\r\n\t\t<Grid container alignItems=\"stretch\" spacing={2} className={styles.root}>\r\n\t\t\t{items.map(movie => (\r\n\t\t\t\t<Grid key={movie.id} item xs={12} sm={6} md={4}>\r\n\t\t\t\t\t{isMovieItem(movie) ?\r\n\t\t\t\t\t\t<MovieResultItem movie={movie}/>\r\n\t\t\t\t\t\t: <MovieResultSkeleton/>}\r\n\t\t\t\t</Grid>\r\n\t\t\t))}\r\n\t\t</Grid>\r\n\t);\r\n};\r\n\r\nexport default MoviesGrid;","import SearchPage from \"./search-page.component\";\r\n\r\nexport default SearchPage;","import React, { FC, useEffect } from \"react\";\r\nimport SearchBar from \"components/search-bar\";\r\nimport PaginationControls from \"components/pagination-controls\";\r\nimport LoadingSpinner from \"components/loading-spinner\";\r\nimport MovieResultsContainer from \"components/movie-results-container\";\r\nimport ErrorMessage from \"components/error-message\";\r\nimport TotalSearchResults from \"components/total-search-results\";\r\nimport styles from \"./search-page.module.scss\";\r\nimport useSearchParam from \"hooks/useSearchParam\";\r\nimport useSavedSessionParams from \"hooks/useSavedSessionParams\";\r\nimport MoviesGrid from \"components/movies-grid\";\r\nimport useMovieItems from \"hooks/useMovieItems\";\r\n\r\n\r\nconst SearchPage: FC = () => {\r\n\r\n\tuseSavedSessionParams();\r\n\r\n\tconst [searchQuery = ''] = useSearchParam(\"s\");\r\n\r\n\tconst {items, isLoading, pageUI, totalPagesUI, totalResults, goToPage, error } =\r\n\t\tuseMovieItems({name: \"search\", searchQuery});\r\n\r\n\t// This effect is to keep the paging declared on searchParams in sync totalPages max\r\n\tuseEffect(() => {\r\n\t\tif (pageUI > totalPagesUI && totalPagesUI)\r\n\t\t\tgoToPage(totalPagesUI);\r\n\t}, [goToPage, pageUI, totalPagesUI]);\r\n\r\n\treturn (\r\n\t\t<div className={styles.root}>\r\n\t\t\t<div className={styles.searchHead}>\r\n\t\t\t\t<SearchBar/>\r\n\t\t\t\t{!!totalResults && <TotalSearchResults totalResults={totalResults}/>}\r\n\t\t\t\t<PaginationControls totalPages={totalPagesUI} />\r\n\t\t\t</div>\r\n\t\t\t{isLoading ? <LoadingSpinner delay={800} fixed />\r\n\t\t\t\t: error ? <ErrorMessage error={error}/>\r\n\t\t\t\t\t: ( !!totalResults &&\r\n\t\t\t\t\t\t<MovieResultsContainer page={pageUI}>\r\n\t\t\t\t\t\t\t{() => <MoviesGrid items={items}/>}\r\n\t\t\t\t\t\t</MovieResultsContainer>\r\n\t\t\t\t\t)\r\n\t\t\t}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default SearchPage;","import React, { FC } from \"react\";\r\nimport IMovieResultItem from \"../../../interfaces/app-types/IMovieResultItem\";\r\nimport styles from \"../home-page.module.scss\";\r\nimport appProperties from \"../../../appProperties\";\r\nimport LoadingSpinner from \"components/loading-spinner\";\r\nimport useMovieItems from \"../../../hooks/useMovieItems\";\r\nimport store from \"../../../store\";\r\nimport { setMovieView } from \"../../../store/movie-view/movie-view.actions\";\r\n\r\nconst {getPosterSrcPathPrefix} = appProperties;\r\n\r\n\r\nconst ThisWeekContainer: FC = () => {\r\n\r\n\tconst results = useMovieItems({name: \"trendingWeek\"});\r\n\tconst items = results.items.filter((item, i) => i < 3) as IMovieResultItem[];\r\n\r\n\treturn (\r\n\t\t<div className={styles.gridContainer}>\r\n\t\t\t{items.map((movie, i) => (\r\n\t\t\t\t<ThisWeekItem\r\n\t\t\t\t\tkey={movie.id}\r\n\t\t\t\t\titem={movie}\r\n\t\t\t\t\tbackgroundImage={`url(${getPosterSrcPathPrefix(i === 2 ? \"500\" : \"400\")}${movie.backdrop_path!})`}\r\n\t\t\t\t\tgridArea={`item${i + 1}`}\r\n\t\t\t\t\tonClickHandler={() => store.dispatch(setMovieView(movie))}\r\n\t\t\t\t/>\r\n\t\t\t))}\r\n\t\t\t{results.isLoading && <LoadingSpinner darken delay={500}/>}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\ninterface ThisWeekItemProps {\r\n\titem: IMovieResultItem;\r\n\tbackgroundImage: string;\r\n\tonClickHandler: () => void;\r\n\tgridArea: string;\r\n}\r\n\r\nconst ThisWeekItem: FC<ThisWeekItemProps> = ({item: movie, backgroundImage, onClickHandler, gridArea}) => {\r\n\treturn (\r\n\t\t<div movie-title={movie.title}\r\n\t\t     className={`${styles.gridItem} ${styles.hoveredBg}`}\r\n\t\t     style={{ gridArea }}\r\n\t\t     key={movie.id}\r\n\t\t     onClick={onClickHandler}\r\n\t\t>\r\n\t\t\t<div style={{ backgroundImage }}/>\r\n\t\t</div>\r\n\t)\r\n};\r\n\r\nexport default ThisWeekContainer;","import IMovieResultItem from \"../../interfaces/app-types/IMovieResultItem\";\r\nimport React, { FC, memo, MutableRefObject, useCallback, useEffect, useMemo, useRef, useState } from \"react\";\r\nimport { useSpring } from \"react-spring\";\r\nimport { setMovieView } from \"store/movie-view/movie-view.actions\";\r\nimport appProperties from \"../../appProperties\";\r\nimport styles from \"./items-scroll-x.module.scss\";\r\nimport store from \"../../store\";\r\n\r\nconst { getPosterSrcPathPrefix } = appProperties;\r\n\r\n\r\ninterface OwnProps {\r\n\tnoResultsFound: boolean;\r\n\tisLoading?: boolean;\r\n\titems?: IMovieResultItem[];\r\n\tclassName?: string;\r\n\tscrollByX?: number;\r\n\titemClassName?: string;\r\n\tinfoTabMessage?: string;\r\n}\r\n\r\nconst MovieItemsXScrollList: FC<OwnProps> =\r\n({isLoading = false, noResultsFound, items = [], className, scrollByX = 200, infoTabMessage, itemClassName}) => {\r\n\r\n\tconst rootRef = useRef<HTMLDivElement>(null);\r\n\r\n\tconst [scrollXPos, setScrollXPos] = useState(0);\r\n\r\n\tconst [, update] = useSpring(() => ({\r\n\t\tto: {scrollXPos},\r\n\t\tonFrame: ({scrollXPos}) => {\r\n\t\t\trootRef.current!.scroll(scrollXPos as number, 0);\r\n\t\t},\r\n\t}));\r\n\r\n\tuseEffect(() => {\r\n\t\tupdate({scrollXPos});\r\n\t}, [scrollXPos, update]);\r\n\r\n\tconst onMouseMoveHandler = useCallback(function onMouseMove(e: React.MouseEvent<HTMLDivElement>) {\r\n\t\tconst {scrollWidth, clientWidth} = e.currentTarget;\r\n\t\tconst maxScrollLeft = scrollWidth - clientWidth;\r\n\t\tlet {movementX} = e;\r\n\r\n\t\tif (e.buttons === 1)\r\n\t\t\tsetScrollXPos((prevState) => {\r\n\t\t\t\tlet nextState = prevState - movementX * 1.5;\r\n\t\t\t\tif (nextState > 0 && nextState <= maxScrollLeft) return nextState;\r\n\t\t\t\telse if (nextState > maxScrollLeft) return maxScrollLeft;\r\n\t\t\t\telse return 0;\r\n\t\t\t});\r\n\t}, []);\r\n\r\n\tconst onWheelHandler = useCallback(function onWheelHandler(e: React.WheelEvent<HTMLDivElement>) {\r\n\t\tconst {scrollWidth, clientWidth} = e.currentTarget;\r\n\t\tconst maxScrollLeft = scrollWidth - clientWidth;\r\n\r\n\t\tif (e.deltaY < 0)\r\n\t\t\t// scroll to left\r\n\t\t\tsetScrollXPos((prevState) => {\r\n\t\t\t\treturn prevState > 0 ? prevState - scrollByX : 0;\r\n\t\t\t});\r\n\t\telse\r\n\t\t\tsetScrollXPos((prevState) => {\r\n\t\t\t\tconst nextState = prevState + scrollByX;\r\n\t\t\t\tif (nextState < maxScrollLeft) return nextState;\r\n\t\t\t\telse return maxScrollLeft;\r\n\t\t\t});\r\n\t},[scrollByX]);\r\n\r\n\tconst onDownRef = useRef(0);\r\n\tconst onUpRef = useRef(0);\r\n\tconst canClick = () => onDownRef.current === onUpRef.current;\r\n\r\n\tconst itemChildren = useMemo(() => items.map((movie) => (\r\n\t\t<RelatedMovieItem\r\n\t\t\tkey={movie.id}\r\n\t\t\tmovie={movie}\r\n\t\t\tcanClick={canClick}\r\n\t\t\titemClassName={itemClassName}\r\n\t\t/>\r\n\t)), [items.length, itemClassName]);\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName={`${styles.root} ${className || ''}`}\r\n\t\t\tonWheel={noResultsFound ? undefined:onWheelHandler}\r\n\t\t\tonMouseMove={noResultsFound ? undefined:onMouseMoveHandler}\r\n\t\t\tref={rootRef}\r\n\t\t\tonMouseDown={(setClientXOnRef.bind(null, onDownRef) as any)}\r\n\t\t\tonMouseUp={(setClientXOnRef.bind(null, onUpRef) as any)}\r\n\t\t\tstyle={{\r\n\t\t\t\toverflowX: isLoading || noResultsFound ? \"hidden\" : \"scroll\",\r\n\t\t\t\topacity: noResultsFound ? 0.5 : 1,\r\n\t\t\t}}\r\n\t\t\t{...(infoTabMessage ? {\"info-tab\": infoTabMessage} : {})}\r\n\t\t>\r\n\t\t\t{noResultsFound ? (\r\n\t\t\t\t<>\r\n\t\t\t\t\t{[...new Array(5)].map((v, i) => (\r\n\t\t\t\t\t\t<RelatedMovieItem isLoading={false} movie={null} key={i}/>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\t<div className={styles.noMoviesFound}>No related movies found</div>\r\n\t\t\t\t</>\r\n\t\t\t) : (\r\n\t\t\t\t<>\r\n\t\t\t\t\t{itemChildren}\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t\t{isLoading && [...new Array(5)].map((v, i) => (\r\n\t\t\t\t<RelatedMovieItem isLoading movie={null} key={i}/>\r\n\t\t\t))}\r\n\t\t</div>\r\n\t)\r\n};\r\n\r\ninterface RelatedMovieItemProps {\r\n\tisLoading?: boolean;\r\n\tmovie: IMovieResultItem | null;\r\n\tcanClick?: () => boolean;\r\n\titemClassName?: string;\r\n}\r\n\r\nconst RelatedMovieItem: FC<RelatedMovieItemProps> =\r\n\tmemo(({isLoading = false, movie, canClick = (() => false), itemClassName}) => {\r\n\t\tconst imgSrc = movie && movie.poster_path && `url(${getPosterSrcPathPrefix(\"300\")}${movie.poster_path})`;\r\n\r\n\t\tconst onClickHandler = () => canClick() && movie && store.dispatch(setMovieView(movie));\r\n\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tclassName={`${styles.relatedMovieItemWrapper} ${itemClassName || ''}`}\r\n\t\t\t\tonDragStart={preventDefault as any}\r\n\t\t\t>\r\n\t\t\t\t<div className={`\r\n\t\t\t\t\t\t${styles.relatedMovieItem}\r\n\t\t\t\t\t\t${isLoading ? styles.isLoadingItem : ''}\r\n\t\t\t\t\t\t${(!imgSrc && !isLoading) ? styles.noPoster : ''}\r\n\t\t\t\t\t`}\r\n\t\t\t\t     title={movie?.title}\r\n\t\t\t\t     style={{backgroundImage: imgSrc || undefined}}\r\n\t\t\t\t     onDragStart={preventDefault as any}\r\n\t\t\t\t     onClick={movie ? onClickHandler : undefined}\r\n\t\t\t\t>{!imgSrc && movie ? movie.title : null}</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}, (prevProps, nextProps) => prevProps.isLoading === nextProps.isLoading);\r\n\r\n\r\nfunction setClientXOnRef(ref: MutableRefObject<number>, ev: React.MouseEvent) {\r\n\tref.current = ev.clientX;\r\n}\r\n\r\nfunction preventDefault(e: Event) {\r\n\te.preventDefault();\r\n}\r\n\r\nexport default MovieItemsXScrollList;","import ItemsScrollX from \"./items-scroll-x.component\";\r\n\r\nexport default ItemsScrollX;","import React, { FC } from \"react\";\r\nimport styles from \"../home-page.module.scss\";\r\nimport appProperties from \"appProperties\";\r\nimport { setMovieView } from \"store/movie-view/movie-view.actions\";\r\nimport store from \"store\";\r\nimport LoadingSpinner from \"components/loading-spinner\";\r\nimport MovieItemsXScrollList from \"components/items-scroll-x\";\r\nimport IMovieResultItem from \"../../../interfaces/app-types/IMovieResultItem\";\r\nimport useMovieItems from \"hooks/useMovieItems\";\r\n\r\nlet {getPosterSrcPathPrefix} = appProperties;\r\n\r\n\r\nconst NowPlayingContainer: FC = () => {\r\n\r\n\tconst results = useMovieItems({name: \"nowPlaying\"});\r\n\tconst items = (results.items as IMovieResultItem[])\r\n\r\n\tconst mainItem = items.length ? items[0] : null;\r\n\r\n\treturn (\r\n\t\t<div className={styles.nowPlayingContainer}>\r\n\t\t\t{(!results.isLoading && items.length && (\r\n\t\t\t\t<>\r\n\t                <div\r\n\t                    className={`${styles.mainMovieItem} ${styles.hoveredBg}`}\r\n\t                    movie-title={mainItem!.title}\r\n\t                    onClick={() => store.dispatch(setMovieView(mainItem!))}\r\n\t                >\r\n\t                    <div style={{backgroundImage: `url(${getPosterSrcPathPrefix(\"500\")}${mainItem!.backdrop_path!})`}}/>\r\n\t                </div>\r\n\t                <div className={styles.subMovieItemContainerWrapper}>\r\n\t\t                <MovieItemsXScrollList\r\n\t\t\t                noResultsFound={false}\r\n\t\t\t                items={items}\r\n\t\t\t                className={styles.subMovieItemContainer}\r\n\t\t\t                itemClassName={styles.subMovieItemContainerItem}\r\n\t\t\t                scrollByX={175}\r\n\t\t                />\r\n\t                </div>\r\n\t            </>\r\n\t\t\t)) || (results.isLoading && <LoadingSpinner darken delay={500}/>)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default NowPlayingContainer;","import React, { FC, memo } from \"react\";\r\nimport styles from \"./home-page.module.scss\";\r\nimport ThisWeekContainer from \"./subcomponents/this-week-container.component\";\r\nimport NowPlayingContainer from \"./subcomponents/now-playing-container.component\";\r\n\r\n\r\nconst HomePage: FC = () => {\r\n\r\n\treturn (\r\n\t\t<div className={styles.root}>\r\n\t\t\t<h1>Movie Ratings App</h1>\r\n\t\t\t<div className={styles.content}>\r\n\t\t\t\t<SpotlightSection title=\"Trending This Week\">\r\n\t\t\t\t\t<ThisWeekContainer/>\r\n\t\t\t\t</SpotlightSection>\r\n\t\t\t\t<SpotlightSection title=\"Now Playing\">\r\n\t\t\t\t\t<NowPlayingContainer/>\r\n\t\t\t\t</SpotlightSection>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst SpotlightSection: FC<{ title: string }> = ({title, children}) => (\r\n\t<div className={styles.sectionSpotlight}>\r\n\t\t<h2 className={styles.sectionTitle}>{title}</h2>\r\n\t\t<div className={styles.sectionContentWrapper}>\r\n\t\t\t<div className={styles.sectionContent}>\r\n\t\t\t\t{children}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n);\r\n\r\nexport default memo(HomePage, () => true);","import HomePage from \"./home-page.component\";\r\n\r\nexport default HomePage;","import React, { FC, ReactText } from \"react\";\r\nimport styles from \"./movie-view-info.module.scss\";\r\nimport { formatToUSD, getReadableDate, minutesToRuntimeDisplay } from \"utility\";\r\nimport IMovieView from \"../../interfaces/app-types/IMovieView\";\r\nimport { animated, useTransition } from \"react-spring\";\r\nimport { easeOutQuart } from \"../../utility/easingFuctions\";\r\n\r\n\r\ninterface OwnProps {\r\n    movieView: IMovieView\r\n}\r\n\r\ntype Props = OwnProps;\r\n\r\nconst MovieViewInfoChildren: FC<Props> = ({movieView: {budget, homepage, release_date, revenue, runtime, status}}) => {\r\n    let hostname = homepage ? (new URL(homepage).hostname) : null;\r\n    let jsx = (\r\n        <>\r\n            <h2 key={1} className={styles.title}>Facts</h2>\r\n\r\n            {status ? (<div key={2} className={styles.sideInfoItem}>\r\n                <h4>Status</h4>\r\n                <div>{status}</div>\r\n            </div>) : null}\r\n\r\n            {release_date ? (<div key={3} className={styles.sideInfoItem}>\r\n                <h4>Release Date</h4>\r\n                <div>{getReadableDate(release_date)}</div>\r\n            </div>) : null}\r\n\r\n            {budget ? (<div key={4} className={styles.sideInfoItem}>\r\n                <h4>Budget</h4>\r\n                <div>{'$' + formatToUSD(budget)}</div>\r\n            </div>) : null}\r\n\r\n            {revenue ? (<div key={5} className={styles.sideInfoItem}>\r\n                <h4>Revenue</h4>\r\n                <div>{'$' + formatToUSD(revenue)}</div>\r\n            </div>) : null}\r\n\r\n            {homepage ? (<div key={6} className={styles.sideInfoItem}>\r\n                <h4>Homepage</h4>\r\n                <a href={homepage} target=\"_blank\" rel=\"noopener noreferrer\">{hostname}</a>\r\n            </div>) : null}\r\n\r\n            {runtime ? (<div key={7} className={styles.sideInfoItem}>\r\n                <h4>Runtime</h4>\r\n                <div>{minutesToRuntimeDisplay(runtime)}</div>\r\n            </div>) : null}\r\n        </>\r\n    );\r\n\r\n    const transition = useTransition(\r\n        jsx!.props!.children, item => (item?.key as ReactText), {\r\n            initial: {\r\n                transform: 'translateX(300px)',\r\n                opacity: -1\r\n            },\r\n            enter: {\r\n                transform: 'translateX(0px)',\r\n                opacity: 1,\r\n            },\r\n            config: {\r\n                duration: 1300,\r\n                easing: easeOutQuart\r\n            },\r\n            trail: 105\r\n        });\r\n\r\n\r\n    return (\r\n        <>\r\n        {transition.map(({props, key, item}) => {\r\n            if(!item) return null;\r\n            // @ts-ignore\r\n            let Element = animated[item.type];\r\n            return <Element key={key} {...item.props} style={props}/>\r\n        })}\r\n        </>\r\n    );\r\n};\r\n\r\n\r\nexport default MovieViewInfoChildren;","import MovieViewInfo from \"./movie-view-info.component\";\r\n\r\nexport default MovieViewInfo;","import React, { FC } from \"react\";\r\nimport IMovieView from \"../../interfaces/app-types/IMovieView\";\r\nimport { getMovieImgObjFromSession } from \"utility\";\r\nimport styles from \"./movie-view-info.module.scss\";\r\nimport { fade } from \"@material-ui/core\";\r\nimport { animated, useSpring } from \"react-spring\";\r\nimport { easeOutQuart } from \"../../utility/easingFuctions\";\r\nimport MovieViewInfoChildren from \"./movie-view-info-children.component\";\r\nimport useOnMovieView from \"hooks/useOnMovieView\";\r\nimport useIsMobile from \"hooks/useIsMobile\";\r\n\r\ninterface OwnProps {\r\n    movieView: IMovieView | undefined;\r\n    movieId: number;\r\n}\r\n\r\ntype Props = OwnProps;\r\n\r\nconst defaultBgColor = 'rgba(160, 160, 160, .2)';\r\n\r\nconst MovieViewInfo: FC<Props> = ({movieView, movieId}) => {\r\n    const isMobile = useIsMobile();\r\n    const [left, propsState] = useOnMovieView(movieId, !isMobile ? 105 : 0, !isMobile ? {\r\n        onView: 0,\r\n        onClose: 0\r\n    } : {});\r\n\r\n    const opacity = propsState === \"close\" ? 0 : 1;\r\n\r\n    const props = useSpring({\r\n        left,\r\n        config: {\r\n            duration: 900,\r\n            easing: easeOutQuart\r\n        }\r\n    });\r\n\r\n    let colorSessionObj = getMovieImgObjFromSession(movieId);\r\n\r\n    let backgroundColor = colorSessionObj ? fade(colorSessionObj.averageColor, .2) : defaultBgColor;\r\n\r\n    return (\r\n        <animated.div className={styles.root} style={{\r\n            left: props.left.to(v => v+\"%\"),\r\n            backgroundColor,\r\n            opacity\r\n        }}>\r\n            {movieView && <MovieViewInfoChildren movieView={(movieView as IMovieView)} />}\r\n        </animated.div>\r\n    );\r\n};\r\n\r\nexport default MovieViewInfo;","import React, { CSSProperties, FC } from \"react\";\r\nimport styles from \"./movie-view-background.module.scss\";\r\nimport { fade } from \"@material-ui/core\";\r\nimport { useSessionAvgColor } from \"hooks/useSessionAvgColor\";\r\nimport useOnMovieView from \"hooks/useOnMovieView\";\r\n\r\n\r\ninterface OwnProps {\r\n    movieId: number\r\n}\r\n\r\ntype Props = OwnProps;\r\n\r\nconst bgColorOpacity = .6;\r\nconst defaultBgColor = `rgba(160, 160, 160, ${bgColorOpacity})`;\r\n\r\nconst MovieViewBackground: FC<Props> = ({movieId}) => {\r\n\r\n    const movieImgDataObj = useSessionAvgColor(movieId);\r\n\r\n    const [cssProps] = useOnMovieView<CSSProperties>(movieId, {opacity: 0}, {\r\n        onView: {\r\n            opacity: 1,\r\n            transitionDuration: \"800\"\r\n        },\r\n        onClose: {\r\n            opacity: 0,\r\n            transitionDuration: \"450\"\r\n        }\r\n    });\r\n\r\n    let bgColor = defaultBgColor;\r\n\r\n    if (movieImgDataObj)\r\n        bgColor = fade(movieImgDataObj.averageColor, bgColorOpacity);\r\n\r\n    let bgStyle: CSSProperties = {\r\n        background: `linear-gradient(180deg, transparent 0%, ${bgColor} 100%)`\r\n    };\r\n\r\n    return (\r\n        <div style={{...bgStyle, ...cssProps}} className={styles.root}/>\r\n    );\r\n};\r\n\r\n\r\nexport default React.memo(MovieViewBackground, () => true);","import MovieViewBackground from \"./movie-view-background.component\";\r\n\r\nexport default MovieViewBackground;","import React, { FC, useEffect, useState } from \"react\";\nimport styles from \"./movie-view-related.module.scss\";\nimport IMovieResultItem from \"../../interfaces/app-types/IMovieResultItem\";\nimport IMoviesResponseData from \"../../interfaces/app-types/IMoviesResponseData\";\nimport { goFetch } from \"utility\";\nimport appProperties from \"../../appProperties\";\nimport MovieItemsXScrollList from \"components/items-scroll-x\";\n\nconst {buildFetchMovieViewUrl} = appProperties;\n\ninterface OwnProps {\n\tmovieId: number;\n\tclassName?: string;\n}\n\nconst MovieViewRelated: FC<OwnProps> = ({movieId, className}) => {\n\n\tconst [relatedMovies, setRelatedMovies] = useState<IMovieResultItem[] | null>(\n\t\tnull\n\t);\n\n\tuseEffect(() => {\n\t\tlet ignore = false;\n\t\tgoFetch<IMoviesResponseData>(buildFetchMovieViewUrl(movieId, \"/similar\"))\n\t\t\t.then(data => {\n\t\t\t\t!ignore && setRelatedMovies(data.results)\n\t\t\t});\n\t\treturn () => { ignore = true };\n\t}, [movieId]);\n\n\n\tconst noResultsFound = !!relatedMovies && !relatedMovies.length;\n\n\treturn (\n\t\t<MovieItemsXScrollList\n\t\t\tclassName={`${styles.root} ${className || ''}`}\n\t\t\tisLoading={!relatedMovies}\n\t\t\tnoResultsFound={noResultsFound}\n\t\t\titems={relatedMovies ?? undefined}\n\t\t\tinfoTabMessage={'Related Movies \\u27A5'}\n\t\t\tscrollByX={200}\n\t\t/>\n\t);\n};\n\nexport default MovieViewRelated;\n\n","import MovieViewRelated from \"./movie-view-related.component\";\r\n\r\nexport default MovieViewRelated;","import MovieViewItem from \"./movie-view-item.component\";\r\n\r\nexport default MovieViewItem;","import React, { FC, memo, useEffect, useRef, useState } from \"react\";\r\nimport MovieResultItem from \"components/movie-result-item\";\r\nimport IMovieResultItem from \"../../interfaces/app-types/IMovieResultItem\";\r\nimport styles from \"./movie-view-item.module.scss\";\r\nimport IMovieView from \"../../interfaces/app-types/IMovieView\";\r\nimport MovieViewInfo from \"components/movie-view-info\";\r\nimport MovieViewBackground from \"components/movie-view-background\";\r\nimport MovieViewRelated from \"components/movie-view-related\";\r\nimport useOnMovieView from \"hooks/useOnMovieView\";\r\nimport { checkIsMobile, goFetchMovieView, isMovieView, scrollToTop } from \"utility\";\r\nimport MovieViewActionButtons from \"components/movie-view-actions\";\r\nimport RatingProgressBar from \"components/circled-progress-bar\";\r\nimport useIsMobile from \"hooks/useIsMobile\";\r\n\r\n\r\ninterface OwnProps {\r\n    movieItem: IMovieResultItem | IMovieView;\r\n}\r\n\r\nconst MovieViewItem: FC<OwnProps> = ({movieItem}) => {\r\n    const movieItemRef = useRef(movieItem);\r\n    const isMobile = useIsMobile();\r\n    const isMovView = isMovieView(movieItem);\r\n\r\n    const [movieView, setMovieView] = useState<IMovieView | null>(() =>\r\n        isMovView ? movieItem as IMovieView : null\r\n    );\r\n\r\n    useEffect(() => {\r\n        let ignore = false;\r\n        if (checkIsMobile())\r\n            scrollToTop();\r\n\r\n        if (!isMovieView(movieItemRef.current))\r\n            goFetchMovieView(movieItemRef.current as IMovieResultItem)\r\n                .then(movie => !ignore && setMovieView(movie))\r\n\r\n        return () => {\r\n            ignore = true\r\n        }\r\n    }, []);\r\n\r\n    const [ , state] = useOnMovieView(movieItem.id, false,  !isMobile ? {\r\n        onView: true,\r\n        onClose: false\r\n    } : {});\r\n\r\n    const isViewing = isMobile || state === \"view\";\r\n\r\n    return (\r\n        <div className={styles.root} id=\"movie-item-view\">\r\n            <MovieViewBackground movieId={movieItem.id}/>\r\n            <div className={styles.mainInfo}>\r\n                <MovieResultItem movie={movieItem as IMovieResultItem} itemView className={styles.movieItem}/>\r\n                {isMobile && (\r\n                    <>\r\n                        <div className={styles.mobileRateActions}>\r\n                            <RatingProgressBar score={movieItem.vote_average} itemView/>\r\n                            <MovieViewActionButtons item={(movieItem as IMovieResultItem)} />\r\n                        </div>\r\n                        <p className={styles.mobileOverview}>{movieItem.overview}</p>\r\n                    </>\r\n                )}\r\n                {isViewing ? <MovieViewRelated movieId={movieItem.id}/> : null}\r\n            </div>\r\n            <div className={styles.sideInfo}>\r\n                {movieView && <MovieViewInfo movieView={movieView} movieId={movieItem.id} />}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default memo<OwnProps>(MovieViewItem, (prevProps, nextProps) =>\r\n    prevProps.movieItem.id === nextProps.movieItem.id\r\n);","class MovieViewEvent extends CustomEvent<IMovieViewEventDetail> {\r\n    constructor(movieId: number, state: MovieViewEventState) {\r\n        super(\"movieView\", {\r\n            detail: {\r\n                movieId,\r\n                state\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nexport type MovieViewEventState = \"enter\" | \"update\" | \"view\" | \"close\" | \"leave\"\r\n\r\ninterface IMovieViewEventDetail {\r\n    movieId: number,\r\n    state: MovieViewEventState\r\n}\r\n\r\nexport default MovieViewEvent;","import { Reducer, useCallback, useEffect, useReducer, useState } from \"react\";\r\nimport useSearchParam from \"./useSearchParam\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { AppState } from \"store\";\r\nimport IMovieResultItem from \"../interfaces/app-types/IMovieResultItem\";\r\nimport IMovieView from \"../interfaces/app-types/IMovieView\";\r\nimport { goFetchMovieView } from \"utility\";\r\n\r\nconst INITIAL_STATE: MovieForViewState = {movieViewItem: null, isLoading: false};\r\n\r\nconst movieViewReducer: Reducer<MovieForViewState, ReducerAction<keyof ActionsTypesToPayloadTypeMap>> =\r\n\tfunction movieViewReducer(state, action) {\r\n\t\tswitch (action.type) {\r\n\t\t\tcase \"clear-item\":\r\n\t\t\t\treturn INITIAL_STATE;\r\n\t\t\tcase \"set-is-loading\":\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tisLoading: true\r\n\t\t\t\t};\r\n\t\t\tcase \"set-movie-item\":\r\n\t\t\t\treturn {\r\n\t\t\t\t\tisLoading: false,\r\n\t\t\t\t\tmovieViewItem: action.payload as ItemViewState\r\n\t\t\t\t};\r\n\t\t}\r\n\t};\r\n\r\n// Reducer action creators\r\nconst onSetMovieItem = (item: ItemViewState): ReducerAction<\"set-movie-item\"> => ({\r\n\ttype: \"set-movie-item\",\r\n\tpayload: item\r\n});\r\n\r\n// @ts-ignore (because \"payload\" type = undefined)\r\nconst onSetIsLoading = (): ReducerAction<\"set-is-loading\"> => ({\r\n\ttype: \"set-is-loading\",\r\n});\r\n\r\nfunction useMovieForView(): ReturnHookState {\r\n\tconst [movieIdParam = 0, setMovieId] = useSearchParam(\"movieId\");\r\n\r\n\tconst [state, dispatch] = useReducer(movieViewReducer, INITIAL_STATE);\r\n\tconst {movieViewItem, isLoading} = state;\r\n\r\n\tconst clearMovieId = () => setMovieId(null);\r\n\r\n\tconst selectMovieItem = useCallback((state: AppState) => {\r\n\t\tif (!movieIdParam) return null;\r\n\t\tconst results = state.search.searchData?.results;\r\n\t\tif (results) {\r\n\t\t\tfor (let key in results)\r\n\t\t\t\tif (results[key]?.id === movieIdParam)\r\n\t\t\t\t\treturn results[key] as IMovieResultItem;\r\n\t\t}\r\n\t\t// eslint-disable-next-line eqeqeq\r\n\t\treturn state.movieItem.item?.id == movieIdParam ? state.movieItem.item : null;\r\n\t}, [movieIdParam]);\r\n\r\n\tconst selectedMovie = useSelector<AppState, IMovieResultItem | null>(selectMovieItem, selectedAreEqual);\r\n\r\n\tconst fromSelectedId = selectedMovie?.id ?? 0;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (isLoading) return;\r\n\r\n\t\t// selectedMovie matches movieIdParam and the item id on state is not same as selectedMovie id;\r\n\t\tif (fromSelectedId === movieIdParam && movieViewItem?.id !== movieIdParam)\r\n\t\t\tdispatch(onSetMovieItem(selectedMovie)); // set selectedMovie for view\r\n\r\n\t\telse if (( !movieViewItem || ( movieViewItem && (\r\n\t\t\t\t\t\t// current itemId on state !== id on searchParam\r\n\t\t\t\t\t\t// eslint-disable-next-line eqeqeq\r\n\t\t\t\t\t\tmovieViewItem.id != movieIdParam\r\n\t\t\t\t))) && movieIdParam\r\n\t\t) {\r\n\t\t\tdispatch(onSetIsLoading());\r\n\t\t\tgoFetchMovieView(selectedMovie ?? movieIdParam)\r\n\t\t\t.then(movieView => {\r\n\t\t\t\tdispatch(onSetMovieItem(movieView))\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\telse if ( !movieIdParam && movieViewItem !== null) {\r\n\t\t\t// @ts-ignore (because \"payload\" type = undefined)\r\n\t\t\tdispatch({type: \"clear-item\"});\r\n\t\t}\r\n\r\n\t}, [movieIdParam, fromSelectedId, isLoading, movieViewItem, selectedMovie]);\r\n\r\n\tconst [movieForViewState, setMovieForViewState] =\r\n\t\tuseState<ReturnHookState>({movieViewItem, isLoading, clearMovieId});\r\n\r\n\tuseEffect(() => {\r\n\t\tsetMovieForViewState({movieViewItem, isLoading, clearMovieId})\r\n\t}, [state]);\r\n\r\n\treturn movieForViewState;\r\n}\r\n\r\nfunction selectedAreEqual(oldItem: IMovieResultItem | null, newItem: IMovieResultItem | null) {\r\n\treturn oldItem?.id === newItem?.id\r\n}\r\n\r\n// Types\r\ntype ItemViewState = IMovieResultItem | IMovieView | null;\r\ntype ReturnHookState = MovieForViewState & {clearMovieId: () => void};\r\n\r\ninterface MovieForViewState {\r\n\tmovieViewItem: ItemViewState;\r\n\tisLoading: boolean;\r\n}\r\n\r\ninterface ActionsTypesToPayloadTypeMap {\r\n\t\"set-is-loading\": undefined;\r\n\t\"set-movie-item\": ItemViewState;\r\n\t\"clear-item\": undefined;\r\n}\r\n\r\ninterface ReducerAction<Type extends keyof ActionsTypesToPayloadTypeMap> {\r\n\ttype: Type;\r\n\tpayload: ActionsTypesToPayloadTypeMap[Type]\r\n}\r\n\r\nexport default useMovieForView;","import React, { FC } from \"react\";\r\nimport styles from \"./movie-view-screen.module.scss\";\r\nimport { animated, UnknownProps, useTransition, UseTransitionProps } from \"react-spring\";\r\nimport IMovieResultItem from \"../../interfaces/app-types/IMovieResultItem\";\r\nimport usePrevious from \"hooks/usePrevious\";\r\nimport MovieViewItem from \"components/movie-view-item\";\r\nimport MovieViewEvent from \"../../utility/custom-events/MovieViewEvent\";\r\nimport useOnMovieView from \"hooks/useOnMovieView\";\r\nimport IMovieView from \"../../interfaces/app-types/IMovieView\";\r\nimport LoadingSpinner from \"components/loading-spinner\";\r\nimport useMovieForView from \"hooks/useMovieForView\";\r\nimport useIsMobile from \"hooks/useIsMobile\";\r\n\r\n\r\ntype ItemState = IMovieResultItem | IMovieView | null;\r\n\r\nconst MovieViewScreen: FC = () => {\r\n\tconst isMobile = useIsMobile();\r\n\r\n\tconst {movieViewItem, isLoading, clearMovieId} = useMovieForView();\r\n\r\n\tconst transitionConfig = getTransitionConfig(movieViewItem, isMobile);\r\n\r\n\tconst prevConfig = usePrevious(transitionConfig);\r\n\r\n\tconst appliedConfig = movieViewItem ? transitionConfig : (prevConfig ?? {});\r\n\r\n\tconst transition = useTransition(movieViewItem, movieViewItem?.id || 0, appliedConfig);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{!isMobile ? (\r\n\t\t\t\ttransition.map(({props, key, item: movieItem}) => movieItem &&\r\n                    <MovieViewRootDiv clearMovieId={clearMovieId} movieViewItem={movieItem} key={key}>\r\n                        <animated.div key={key} className={styles.transitionDiv} style={props as any}>\r\n                            <MovieViewItem movieItem={movieItem}/>\r\n                        </animated.div>\r\n                    </MovieViewRootDiv>\r\n\t\t\t\t)) : (\r\n\t\t\t\ttransition.map(({item: movieItem, key}) => movieItem &&\r\n                    <MovieViewItem key={key} movieItem={movieItem}/>\r\n\t\t\t\t)\r\n\t\t\t)}\r\n\t\t\t{isLoading && <LoadingSpinner fixed darken delay={700}/>}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\ninterface RootDivProps {\r\n\tmovieViewItem: ItemState;\r\n\tclearMovieId: () => void;\r\n}\r\n\r\nconst MovieViewRootDiv: FC<RootDivProps> = React.memo(({children, movieViewItem, clearMovieId}) => {\r\n\tconst [backgroundColor] = useOnMovieView(movieViewItem?.id || 0, '', {\r\n\t\tonEnter: `rgba(0, 0, 0, 0.5)`,\r\n\t\tonClose: undefined\r\n\t});\r\n\r\n\tfunction handleClickAway({target, currentTarget}: React.MouseEvent<HTMLDivElement>) {\r\n\t\tif (target === currentTarget) {\r\n\t\t\t(target as HTMLDivElement).style.backgroundColor = \"rgba(0, 0, 0, 0)\";\r\n\t\t\tclearMovieId();\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={styles.root} onClick={handleClickAway}\r\n\t\t     style={{backgroundColor}}>\r\n\t\t\t{children}\r\n\t\t</div>\r\n\t);\r\n}, () => true);\r\n\r\nfunction getTransitionConfig(movie: ItemState, isMobile: boolean): UnknownProps & UseTransitionProps<ItemState> {\r\n\tif (!movie) return {};\r\n\tlet animatedDiv = document.getElementById(\"main-container\") as HTMLDivElement;\r\n\tconst domRect = document.getElementById(String(movie.id))?.getBoundingClientRect();\r\n\tif (!!movie) {\r\n\t\tlet animatedDomRect = animatedDiv.firstElementChild!.getBoundingClientRect();\r\n\r\n\t\tlet initialPosition;\r\n\r\n\t\tif (domRect) {\r\n\t\t\tinitialPosition = {\r\n\t\t\t\ttop: domRect.top,\r\n\t\t\t\tleft: domRect.left,\r\n\t\t\t\tbottom: window.innerHeight - domRect.bottom,\r\n\t\t\t\twidth: domRect.width,\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\tinitialPosition = {\r\n\t\t\t\ttop: window.innerHeight,\r\n\t\t\t\tleft: animatedDomRect.left,\r\n\t\t\t\tbottom: -10,\r\n\t\t\t\twidth: animatedDomRect.width,\r\n\t\t\t\topacity: 0\r\n\t\t\t};\r\n\t\t}\r\n\r\n\r\n\t\treturn {\r\n\t\t\tfrom: initialPosition,\r\n\t\t\tenter: {\r\n\t\t\t\ttop: window.innerHeight * .10,\r\n\t\t\t\tleft: animatedDomRect.x,\r\n\t\t\t\tbottom: -10,\r\n\t\t\t\twidth: animatedDomRect.width,\r\n\t\t\t\topacity: 1\r\n\t\t\t},\r\n\t\t\tleave: {\r\n\t\t\t\t...initialPosition,\r\n\t\t\t\tconfig: {\r\n\t\t\t\t\tmass: 1.5 && 12,\r\n\t\t\t\t\ttension: 170,\r\n\t\t\t\t\tfriction: 24,\r\n\t\t\t\t\tclamp: true\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tconfig: isMobile ? {\r\n\t\t\t\tduration: 0,\r\n\t\t\t} : {\r\n\t\t\t\tmass: 1.3 && 11,\r\n\t\t\t\ttension: 350,\r\n\t\t\t\tfriction: 97,\r\n\t\t\t\tprecision: 0.8,\r\n\t\t\t\tclamp: true\r\n\t\t\t},\r\n\t\t\tonStart: !isMobile ? (item: ItemState, state: string) => {\r\n\t\t\t\tif (item) {\r\n\t\t\t\t\tif (state === \"enter\") {\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tdispatchEvent(new MovieViewEvent(item.id, \"enter\"));\r\n\t\t\t\t\t\t}, 50);\r\n\t\t\t\t\t} else if (state === \"leave\")\r\n\t\t\t\t\t\tdispatchEvent(new MovieViewEvent(item.id, \"close\"));\r\n\t\t\t\t}\r\n\t\t\t} : undefined,\r\n\t\t\tonRest: !isMobile ? (item: ItemState, state: string) => {\r\n\t\t\t\tif (item) {\r\n\t\t\t\t\tif (state === \"leave\")\r\n\t\t\t\t\t\tdispatchEvent(new MovieViewEvent(item.id, \"leave\"));\r\n\t\t\t\t\telse if (state === \"enter\")\r\n\t\t\t\t\t\tdispatchEvent(new MovieViewEvent(item.id, \"view\"));\r\n\t\t\t\t}\r\n\t\t\t} : undefined\r\n\t\t};\r\n\t} else return {};\r\n}\r\n\r\nexport default React.memo(MovieViewScreen, () => true);","import MovieViewScreen from \"./movie-view-screen.component\";\r\n\r\nexport default MovieViewScreen;","import React, { FC } from \"react\";\r\nimport MovieItemImage from \"components/movie-item-image\";\r\nimport RatingProgressBar from \"components/circled-progress-bar\";\r\nimport MovieViewActionButtons from \"components/movie-view-actions\";\r\nimport IMovieResultItem from \"../../interfaces/app-types/IMovieResultItem\";\r\nimport appProperties from \"../../appProperties\";\r\nimport styles from \"./list-item.module.scss\";\r\nimport { setMovieView } from \"store/movie-view/movie-view.actions\";\r\nimport store from \"store\";\r\nimport { isMovieItem, PortionItemUI } from \"../../hooks/useMovieItems\";\r\nimport LoadingSpinner from \"../loading-spinner\";\r\n\r\nconst {getPosterSrcPathPrefix} = appProperties;\r\n\r\ninterface OwnProps {\r\n\titem: PortionItemUI\r\n}\r\nconst ListItem: FC<OwnProps> = ({item}) => {\r\n\r\n\tconst onSetMovieView = (item: IMovieResultItem) =>\r\n\t\tstore.dispatch(setMovieView(item))\r\n\r\n    return (\r\n\t    <div className={styles.root}>\r\n\t\t    {isMovieItem(item) ? <>\r\n\t\t\t    <MovieItemImage\r\n\t\t\t\t    backGroundUrl={`url(${getPosterSrcPathPrefix(\"300\")}${item.poster_path})`}\r\n\t\t\t\t    movie={item}\r\n\t\t\t\t    poster_path={item.poster_path}\r\n\t\t\t\t    className={styles.image}\r\n\t\t\t    />\r\n\t\t\t    <div className={styles.info}>\r\n\t\t\t\t    <h3 className={styles.movieTitle}\r\n\t\t\t\t        onClick={() => onSetMovieView(item!)}\r\n\t\t\t\t    >{item.title}</h3>\r\n\t\t\t\t    <div className={styles.itemActions}>\r\n\t\t\t\t\t    <RatingProgressBar score={item.vote_average} itemView/>\r\n\t\t\t\t\t    <MovieViewActionButtons item={item} className={styles.actionButtons}/>\r\n\t\t\t\t    </div>\r\n\t\t\t    </div>\r\n\t\t    </> : <LoadingSpinner delay={100} darken />}\r\n\t    </div>\r\n    );\r\n};\r\n\r\n\r\nexport default ListItem;","import ListItem from \"./list-item.component\";\r\n\r\nexport default ListItem;","import React, { CSSProperties, FC, memo, useEffect } from \"react\";\r\nimport PaginationControls from \"components/pagination-controls\";\r\nimport styles from \"./items-list.module.scss\";\r\nimport LoadingSpinner from \"components/loading-spinner\";\r\nimport ListItem from \"components/list-item\";\r\nimport MovieItemsContainer from \"components/movie-results-container\";\r\nimport { animated, useTransition } from \"react-spring\";\r\nimport { easeOutQuad } from \"../../utility/easingFuctions\";\r\nimport { UnknownProps, UseTransitionProps } from \"@react-spring/core\";\r\nimport useMovieItems, { ItemsPortionUI } from \"../../hooks/useMovieItems\";\r\nimport useSearchParam from \"../../hooks/useSearchParam\";\r\nimport { AccountItemsNames } from \"../../store/movies-browser\";\r\n\r\ninterface Props {\r\n\titemType: AccountItemsNames;\r\n}\r\n\r\nconst ItemsList: FC<Props> = ({itemType}) => {\r\n\r\n\tconst {items, totalPagesUI, pageUI, isLoading} = useMovieItems({name: itemType});\r\n\r\n\tconst [page, setPage] = useSearchParam(\"page\");\r\n\r\n\tuseEffect(() => {\r\n\t\t!page && setPage(1)\r\n\t}, [setPage, page]);\r\n\r\n\tconst title = itemType === \"favorite\" ? \"Favorites\" : \"Watchlist\";\r\n\r\n\treturn (\r\n\t\t<div className={styles.root}>\r\n\t\t\t<div className={styles.head}>\r\n\t\t\t\t<h2 className={styles.title}>{title}</h2>\r\n\t\t\t\t{totalPagesUI>1 && <PaginationControls totalPages={totalPagesUI}/>}\r\n\t\t\t</div>\r\n\r\n\t\t\t{isLoading && <LoadingSpinner darken fixed delay={750} />}\r\n\t\t\t<MovieItemsContainer page={pageUI}>\r\n\t\t\t\t{() => <ListChild items={items} />}\r\n\t\t\t</MovieItemsContainer>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\ninterface ListChildProps {\r\n\titems: ItemsPortionUI\r\n}\r\n\r\nconst ListChild: FC<ListChildProps> = memo(({items}) => {\r\n\r\n\tconst transition = useTransition(items, item => item.id, transitionConfig);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{\r\n\t\t\t\ttransition.map(({item, key, props}) => !!item && (\r\n\t\t\t\t\t<animated.div\r\n\t\t\t\t\t\tkey={key}\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t...props,\r\n\t\t\t\t\t\t\ttransform: props.translateX.interpolate(v =>\r\n\t\t\t\t\t\t\t\tv ? `translateX(${v}px)` : ''\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ListItem item={item} />\r\n\t\t\t\t\t</animated.div>\r\n\t\t\t\t))\r\n\r\n\t\t\t}\r\n\t\t</>\r\n\t);\r\n})\r\n\r\nconst initialStyles: CSSProperties & UnknownProps = {\r\n\topacity: 1,\r\n\tmaxHeight: 500,\r\n\ttranslateX: 0,\r\n\tpaddingBottom: 20,\r\n};\r\n\r\nconst transitionConfig: UnknownProps & UseTransitionProps = {\r\n\tfrom: initialStyles,\r\n\tenter: initialStyles,\r\n\tleave: () => async next => {\r\n\t\t// @ts-ignore\r\n\t\tnext({maxHeight: 0, paddingBottom: 0, delay: 300}).catch(() => void 0)\r\n\t\t// @ts-ignore\r\n\t\tnext({ opacity: -.2, translateX: 300 }).catch(() => void 0)\r\n\t},\r\n\tconfig: {\r\n\t\tduration: 500,\r\n\t\teasing: easeOutQuad\r\n\t},\r\n\tunique: true\r\n}\r\n\r\nexport default ItemsList;","import ItemsList from \"./items-list.component\";\r\n\r\nexport default ItemsList;","import WatchlistPage from \"./watchlist-page.component\";\r\n\r\nexport default WatchlistPage;","import React, { FC } from \"react\";\r\nimport useSavedSessionParams from \"hooks/useSavedSessionParams\";\r\nimport ItemsList from \"components/items-list\";\r\n\r\nconst WatchlistPage: FC = () => {\r\n\r\n\tuseSavedSessionParams();\r\n\r\n    return <ItemsList itemType=\"watchlist\" />\r\n};\r\n\r\n\r\nexport default WatchlistPage;","import FavoritesPage from \"./favorites-page.component\";\r\n\r\nexport default FavoritesPage;","import React, { FC } from \"react\";\r\nimport useSavedSessionParams from \"hooks/useSavedSessionParams\";\r\nimport ItemsList from \"components/items-list\";\r\n\r\n\r\nconst FavoritesPage: FC = () => {\r\n\r\n    useSavedSessionParams();\r\n\r\n    return <ItemsList itemType=\"favorite\" />\r\n};\r\n\r\nexport default FavoritesPage;","import AuthRoute from \"./auth-route.component\";\r\n\r\nexport default AuthRoute;","import React, { FC } from 'react';\r\nimport { RouteProps } from \"react-router\";\r\nimport useAuth from \"../../hooks/useAuth\";\r\nimport { Route } from 'react-router-dom';\r\nimport AuthPage from \"../../pages/auth-page\";\r\n\r\n\r\nconst AuthRoute: FC<RouteProps> = ({component: Component, render, ...rest}) => {\r\n\tconst {isAuth} = useAuth();\r\n\r\n\treturn <Route {...rest} render={(props) => {\r\n\t\tif (!isAuth)\r\n\t\t\treturn <AuthPage/>\r\n\t\telse if (Component)\r\n\t\t\treturn <Component {...props} />\r\n\t\telse if (render)\r\n\t\t\treturn render(props)\r\n\t\telse return null\r\n\t}}/>\r\n};\r\n\r\n\r\nexport default AuthRoute;","import React, { FC, useEffect } from \"react\";\nimport AppBar from \"./components/app-bar\";\nimport Container from \"@material-ui/core/Container\";\nimport styles from \"./App.module.scss\";\nimport SearchPage from \"pages/search-page\";\nimport { goFetchUserAccount } from \"utility\";\nimport { Route, Switch } from \"react-router-dom\";\nimport HomePage from \"pages/home-page\";\nimport MovieViewScreen from \"components/movie-view-screen\";\nimport { setUser } from \"store/user/user.actions\";\nimport store from \"store\";\nimport AuthPage from \"pages/auth-page\";\nimport useIsMobile from \"hooks/useIsMobile\";\nimport WatchlistPage from \"pages/watchlist-page\";\nimport FavoritesPage from \"pages/favorites-page\";\nimport AuthRoute from \"components/auth-route\";\n\nconst routesChildren = (\n\t<>\n\t\t<Route exact path=\"/\" render={() => <HomePage /> } />\n\t\t<Route path=\"/search\" render={() => <SearchPage /> } />\n\t\t<AuthRoute path=\"/favorites\" render={() => <FavoritesPage /> } />\n\t\t<AuthRoute path=\"/watchlist\" render={() => <WatchlistPage /> } />\n\t\t<Route path=\"/account\" render={() => <AuthPage /> } />\n\t</>\n);\n\n\nconst App: FC = () => {\n\tconst isMobile = useIsMobile();\n\n\tuseEffect(() => {\n\t\tconsole.log(\"loaded movie-ratings-app v1.1\");\n\t\tsessionStorage.clear();\n\t\tgoFetchUserAccount()\n\t\t\t.then(user => store.dispatch(setUser(user)))\n\t\t\t.catch(console.error)\n\t}, []);\n\n\treturn (<div className={styles.root}>\n\t\t<AppBar/>\n\t\t<main className={styles.main} id=\"main-container\">\n\t\t\t<Container>\n\t\t\t\t{!isMobile ? (\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t{routesChildren}\n\t\t\t\t\t</Switch>\n\t\t\t\t\t) : (\n\t\t\t\t\t<Route render={ ({location}) => {\n\t\t\t\t\t\tif (!location.search.includes('movieId'))\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Switch location={location}>\n\t\t\t\t\t\t\t\t\t{routesChildren}\n\t\t\t\t\t\t\t\t</Switch>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\telse return <MovieViewScreen/>\n\t\t\t\t\t}}/>\n\t\t\t\t)}\n\t\t\t</Container>\n\t\t\t{!isMobile && <MovieViewScreen/>}\n\t\t</main>\n\t</div>);\n};\n\n\nexport default App;\n","// @ts-nocheck\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport './styles/index.scss';\nimport * as serviceWorker from \"./serviceWorker\";\nimport 'typeface-roboto';\nimport { HashRouter } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport store from \"store\";\nimport { StylesProvider } from \"@material-ui/core/styles\";\nimport { onWorkerFetchedDoneEvent } from \"utility\";\n// @ts-ignore\n// eslint-disable-next-line import/no-webpack-loader-syntax\nimport Worker from \"worker-loader!./myWebWorker\";\n\nwindow.worker = new Worker();\nwindow.worker.onmessage = onWorkerFetchedDoneEvent;\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n\nconst rootPath =\n    process.env.NODE_ENV === 'development' ? '/' : '/movie-ratings-app/';\n\nconst render = () => {\n    const App = require('./App').default\n\n    ReactDOM.render(\n        <Provider store={store}>\n            <HashRouter basename={rootPath}>\n                <StylesProvider injectFirst>\n                    <App />\n                </StylesProvider>\n            </HashRouter>\n        </Provider>,\n        document.getElementById('root')\n    )\n}\n\nrender();\n\n// @ts-ignore\nif (process.env.NODE_ENV === 'development' && module.hot) module.hot.accept('./App', render);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"home-page_root__2-E_q\",\"content\":\"home-page_content__2DYa5\",\"sectionSpotlight\":\"home-page_sectionSpotlight__234NV\",\"sectionTitle\":\"home-page_sectionTitle__ND_aN\",\"sectionContentWrapper\":\"home-page_sectionContentWrapper__1qtbg\",\"sectionContent\":\"home-page_sectionContent__3oypc\",\"gridContainer\":\"home-page_gridContainer__3QeH7\",\"gridItem\":\"home-page_gridItem__Q70rq\",\"nowPlayingContainer\":\"home-page_nowPlayingContainer__3GXQT\",\"mainMovieItem\":\"home-page_mainMovieItem__2yXC8\",\"subMovieItemContainerWrapper\":\"home-page_subMovieItemContainerWrapper__3Twb0\",\"subMovieItemContainer\":\"home-page_subMovieItemContainer__4tiGn\",\"subMovieItemContainerItem\":\"home-page_subMovieItemContainerItem__2zsRL\",\"hoveredBox\":\"home-page_hoveredBox__bpY7K\",\"hoveredBg\":\"home-page_hoveredBg__2OVsD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"movie-view-actions_root__1keFE\",\"iconWrapper\":\"movie-view-actions_iconWrapper__373Yc\",\"rotateLoading\":\"movie-view-actions_rotateLoading__1IIst\",\"icon\":\"movie-view-actions_icon__3FBHQ\",\"ratingModalContainer\":\"movie-view-actions_ratingModalContainer__qWecy\",\"ratingModal\":\"movie-view-actions_ratingModal__1pStS\",\"removeButton\":\"movie-view-actions_removeButton__3q4JD\",\"showAuth\":\"movie-view-actions_showAuth__1NDq0\",\"xButton\":\"movie-view-actions_xButton__3q70E\",\"toolTip\":\"movie-view-actions_toolTip__23lw6\",\"mobileSubmit\":\"movie-view-actions_mobileSubmit__1N0Va\"};","import IMoviesSearchData, { ResultItemsObject } from \"../../interfaces/app-types/IMoviesSearchData\";\r\nimport IMoviesSearchError from \"../../interfaces/app-types/IMoviesSearchError\";\r\nimport { AccountItemsNames, ISearchActions, MoviesBrowseNames } from \"./\";\r\nimport { ThunkAction } from \"redux-thunk\";\r\nimport { AppState, AppThunk } from \"store\";\r\nimport IMoviesResponseData from \"../../interfaces/app-types/IMoviesResponseData\";\r\nimport { calculatePageOnApi, convertResultsData, getSearchParam, goFetchPostersOnWorker } from \"utility\";\r\nimport appProperties from \"../../appProperties\";\r\nimport IMovieResultItem from \"../../interfaces/app-types/IMovieResultItem\";\r\n\r\nconst {buildFetchMovieSearchUrl, itemsPerPageUI, getItemsBrowseUrl} = appProperties;\r\n\r\nexport enum MoviesBrowserActionTypes {\r\n    FETCH_MOVIES_START = \"FETCH_MOVIES_START\",\r\n    FETCH_MOVIES_SUCCESS = \"FETCH_MOVIES_SUCCESS\",\r\n    FETCH_MOVIES_FAILURE = \"FETCH_MOVIES_FAILURE\",\r\n    FETCH_MORE_MOVIES_START = \"FETCH_MORE_MOVIES_START\",\r\n    FETCH_MORE_MOVIES_SUCCESS = \"FETCH_MORE_MOVIES_SUCCESS\",\r\n    FETCH_MORE_MOVIES_FAILURE = \"FETCH_MORE_MOVIES_FAILURE\",\r\n    CLEAR_FETCHED_MOVIES = \"CLEAR_FETCHED_MOVIES\",\r\n    UNSHIFT_TO_LIST_ITEMS = \"UNSHIFT_TO_LIST_ITEMS\", // these last two are for updating \"favorite\" and \"watchlist\"\r\n    REMOVE_FROM_LIST_ITEMS = \"REMOVE_FROM_LIST_ITEMS\"\r\n}\r\n\r\n/**\r\n * @param name Values: \"watchlist\" & \"favorite\" need authentication\r\n * */\r\nexport default function getMoviesBrowserActions<T extends MoviesBrowseNames>(name: T) {\r\n\r\n    let unshiftToFavorites: ((item: IMovieResultItem) => ISearchActions)|undefined = undefined;\r\n    let removeFromListItems: ((id: number) => ISearchActions)|undefined = undefined;\r\n\r\n    if (name === \"favorite\" || name === \"watchlist\") {\r\n        unshiftToFavorites = (item: IMovieResultItem): ISearchActions => ({\r\n            type: MoviesBrowserActionTypes.UNSHIFT_TO_LIST_ITEMS,\r\n            payload: item,\r\n            name: name as AccountItemsNames\r\n        });\r\n\r\n        removeFromListItems = (id: number): ISearchActions => ({\r\n            type: MoviesBrowserActionTypes.REMOVE_FROM_LIST_ITEMS,\r\n            payload: id,\r\n            name: name as AccountItemsNames\r\n        });\r\n    }\r\n\r\n    const browseActions = {\r\n        clearFetchedMovies: (): ISearchActions => ({\r\n            type: MoviesBrowserActionTypes.CLEAR_FETCHED_MOVIES,\r\n            name\r\n        }),\r\n\r\n        fetchMoviesStart: (): ISearchActions => ({\r\n            type: MoviesBrowserActionTypes.FETCH_MOVIES_START,\r\n            name\r\n        }),\r\n\r\n        fetchMoviesSuccess: (data: IMoviesSearchData, searchTerm: string): ISearchActions => ({\r\n            type: MoviesBrowserActionTypes.FETCH_MOVIES_SUCCESS,\r\n            payload: {data, searchTerm},\r\n            name\r\n        }),\r\n\r\n        fetchMoviesFailure: (error: IMoviesSearchError): ISearchActions => ({\r\n            type: MoviesBrowserActionTypes.FETCH_MOVIES_FAILURE,\r\n            payload: error,\r\n            name\r\n        }),\r\n\r\n        fetchMoviesAsync(searchTerm: string = '', pageApi: number = 1): AppThunk<ISearchActions> {\r\n            return async dispatch => {\r\n                if (name === \"search\" && !searchTerm) return;\r\n                // Start\r\n                dispatch(this.fetchMoviesStart());\r\n                try {\r\n                    let res = await fetch(getItemsBrowseUrl(name, searchTerm, pageApi));\r\n                    if (!res.ok) {\r\n                        let error: IMoviesSearchError = await res.json();\r\n                        dispatch(this.fetchMoviesFailure(error)); // Failure\r\n                    } else {\r\n                        let data: IMoviesResponseData = await res.json();\r\n\r\n                        goFetchPostersOnWorker(data.results);\r\n\r\n                        let transformedData: IMoviesSearchData = {\r\n                            ...data,\r\n                            results: convertResultsData(data.results, pageApi)\r\n                        };\r\n\r\n                        dispatch(this.fetchMoviesSuccess(transformedData, searchTerm)); // Success\r\n                    }\r\n                } catch (error) {\r\n                    dispatch(\r\n                        this.fetchMoviesFailure({\r\n                            errors: [\"Internal server error.\"] // Failure\r\n                        })\r\n                    );\r\n                }\r\n            };\r\n        },\r\n\r\n        fetchMoreMoviesStart: (): ISearchActions => ({\r\n            type: MoviesBrowserActionTypes.FETCH_MORE_MOVIES_START,\r\n            name\r\n        }),\r\n\r\n        fetchMoreMoviesSuccess: (results: ResultItemsObject, fetchedPage: number): ISearchActions => ({\r\n            type: MoviesBrowserActionTypes.FETCH_MORE_MOVIES_SUCCESS,\r\n            payload: {results, fetchedPage},\r\n            name\r\n        }),\r\n\r\n        fetchMoreMoviesFailure: (error: IMoviesSearchError): ISearchActions => ({\r\n            type: MoviesBrowserActionTypes.FETCH_MORE_MOVIES_FAILURE,\r\n            payload: error,\r\n            name\r\n        }),\r\n\r\n        fetchMoreMoviesAsync(nextPageOnApi: number, ...otherPagesOnApi: number[]):\r\n            ThunkAction<void, AppState, null, ISearchActions> {\r\n            return async (dispatch, getState) => {\r\n                let searchTerm = getSearchParam(\"s\") || '';\r\n                // Start\r\n                dispatch(this.fetchMoreMoviesStart());\r\n                try {\r\n                    let res = await fetch(getItemsBrowseUrl(name, searchTerm, nextPageOnApi));\r\n                    if (!res.ok) {\r\n                        let error: IMoviesSearchError = await res.json();\r\n                        dispatch(this.fetchMoreMoviesFailure(error)); // Failure\r\n                    } else {\r\n                        let data: IMoviesResponseData = await res.json();\r\n\r\n                        goFetchPostersOnWorker(data.results);\r\n\r\n                        let resultsObject = convertResultsData(data.results, nextPageOnApi);\r\n\r\n                        dispatch(this.fetchMoreMoviesSuccess(resultsObject, nextPageOnApi)) // Success\r\n                    }\r\n                } catch (error) {\r\n                    dispatch(\r\n                        this.fetchMoreMoviesFailure({\r\n                            errors: [\"Internal server error.\"] // Failure\r\n                        })\r\n                    );\r\n                } finally {\r\n                    if (otherPagesOnApi.length) {\r\n                        // @ts-ignore\r\n                        dispatch(this.fetchMoreMoviesAsync(...otherPagesOnApi))\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        checkIfFetchMore(pageUI: number): AppThunk<ISearchActions> {\r\n            return async (dispatch, getState) => {\r\n                if (!pageUI || name === \"trendingWeek\") return;\r\n                const { apiFetchedPages, searchData, isFetchingMore } = getState()[name];\r\n\r\n                if (isFetchingMore) return;\r\n\r\n                const pageOnApi = calculatePageOnApi(pageUI);\r\n                const nextUIPageOnApi = calculatePageOnApi(pageUI, \"next\")\r\n                const total_pages = searchData?.total_pages || 0;\r\n\r\n                const isFetchPage = (pageOnApi: number) =>\r\n                    pageOnApi>0 && pageOnApi<=total_pages && !apiFetchedPages.includes(pageOnApi);\r\n\r\n                const pagesToFetch: number[] = [];\r\n\r\n                isFetchPage(nextUIPageOnApi)   && pagesToFetch.push(nextUIPageOnApi);\r\n                isFetchPage(pageOnApi)         && pagesToFetch.push(pageOnApi);\r\n                isFetchPage(pageOnApi-1)       && pagesToFetch.push(pageOnApi-1);\r\n                isFetchPage(pageOnApi-2)       && pagesToFetch.push(pageOnApi-2);\r\n\r\n                if (pagesToFetch.length) {\r\n                    // @ts-ignore\r\n                    dispatch(this.fetchMoreMoviesAsync(...pagesToFetch));\r\n                }\r\n            }\r\n        },\r\n        unshiftToFavorites: (unshiftToFavorites as T extends AccountItemsNames ? NonNullable<typeof unshiftToFavorites> : undefined),\r\n        removeFromListItems: (removeFromListItems as T extends AccountItemsNames ? NonNullable<typeof removeFromListItems> : undefined),\r\n\r\n    }\r\n\r\n    return browseActions as T extends AccountItemsNames ? typeof browseActions : Omit<typeof browseActions, \"unshiftToFavorites\" | \"removeFromListItems\">\r\n}\r\n","import IMovieResultItem from \"../../interfaces/app-types/IMovieResultItem\";\r\nimport { IMovieViewActions } from \"./\";\r\n\r\nexport enum MovieViewActionsTypes {\r\n\tSET_MOVIE_VIEW = 'SET_MOVIE_VIEW',\r\n\tCLEAR_MOVIE_VIEW = 'CLEAR_MOVIE_VIEW'\r\n}\r\n\r\nexport const setMovieView = (item: IMovieResultItem): IMovieViewActions => ({\r\n\ttype: MovieViewActionsTypes.SET_MOVIE_VIEW,\r\n\tpayload: item\r\n});\r\n\r\nexport const clearMovieView = (): IMovieViewActions => ({\r\n\ttype: MovieViewActionsTypes.CLEAR_MOVIE_VIEW,\r\n});","// no easing, no acceleration\r\nexport const linear = function(t) {\r\n  return t;\r\n};\r\n// accelerating from zero velocity\r\nexport const easeInQuad = function(t) {\r\n  return t * t;\r\n};\r\n// decelerating to zero velocity\r\nexport const easeOutQuad = function(t) {\r\n  return t * (2 - t);\r\n};\r\n// acceleration until halfway, then deceleration\r\nexport const easeInOutQuad = function(t) {\r\n  return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\r\n};\r\n// accelerating from zero velocity\r\nexport const easeInCubic = function(t) {\r\n  return t * t * t;\r\n};\r\n// decelerating to zero velocity\r\nexport const easeOutCubic = function(t) {\r\n  return --t * t * t + 1;\r\n};\r\n// acceleration until halfway, then deceleration\r\nexport const easeInOutCubic = function(t) {\r\n  return t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\r\n};\r\n// accelerating from zero velocity\r\nexport const easeInQuart = function(t) {\r\n  return t * t * t * t;\r\n};\r\n// decelerating to zero velocity\r\nexport const easeOutQuart = function(t) {\r\n  return 1 - --t * t * t * t;\r\n};\r\n// acceleration until halfway, then deceleration\r\nexport const easeInOutQuart = function(t) {\r\n  return t < 0.5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t;\r\n};\r\n// accelerating from zero velocity\r\nexport const easeInQuint = function(t) {\r\n  return t * t * t * t * t;\r\n};\r\n// decelerating to zero velocity\r\nexport const easeOutQuint = function(t) {\r\n  return 1 + --t * t * t * t * t;\r\n};\r\n// acceleration until halfway, then deceleration\r\nexport const easeInOutQuint = function(t) {\r\n  return t < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * --t * t * t * t * t;\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"app-bar_root__ZaWLU\",\"logo\":\"app-bar_logo__gW0P4\",\"toolBar\":\"app-bar_toolBar__3tX9V\",\"navItem\":\"app-bar_navItem__EZmlQ\",\"navItemIcon\":\"app-bar_navItemIcon__3IKWo\",\"avatar\":\"app-bar_avatar__1X2-X\",\"navItemTxt\":\"app-bar_navItemTxt__huMFw\",\"isOpen\":\"app-bar_isOpen__35lBP\",\"onNavHover\":\"app-bar_onNavHover__K89v7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"runAnimation\":\"movie-result-item_runAnimation__X9hb_\",\"onViewRest\":\"movie-result-item_onViewRest__1-46_\",\"root\":\"movie-result-item_root__1UwRT\",\"content\":\"movie-result-item_content__1TfaJ\",\"wrapper\":\"movie-result-item_wrapper__3XDt2\",\"header\":\"movie-result-item_header__1Vzu4\",\"title\":\"movie-result-item_title__39tTB\",\"year\":\"movie-result-item_year__1Mho9\",\"overViewSection\":\"movie-result-item_overViewSection__38QXw\",\"info\":\"movie-result-item_info__3nKmA\",\"loadingPulse\":\"movie-result-item_loadingPulse__1B3cH\",\"opacityPulse\":\"movie-result-item_opacityPulse__2XXIc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"movie-result-skeleton_root__3qHsq\",\"imageWrapper\":\"movie-result-skeleton_imageWrapper__33o31\",\"opacityPulse\":\"movie-result-skeleton_opacityPulse__1Z9f0\",\"image\":\"movie-result-skeleton_image__2mssJ\",\"content\":\"movie-result-skeleton_content__2DMMu\",\"wrapper\":\"movie-result-skeleton_wrapper__21vpy\",\"header\":\"movie-result-skeleton_header__2B94f\",\"title\":\"movie-result-skeleton_title__2zcIy\",\"year\":\"movie-result-skeleton_year__2u-ar\",\"info\":\"movie-result-skeleton_info__2zErA\",\"infoWrapper\":\"movie-result-skeleton_infoWrapper__L_6pL\",\"circle\":\"movie-result-skeleton_circle__1qM-d\",\"loadingPulse\":\"movie-result-skeleton_loadingPulse__2GBI2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"movie-view-info_root__29ehZ\",\"title\":\"movie-view-info_title__2UGWO\",\"sideInfoItem\":\"movie-view-info_sideInfoItem__-MyRA\"};","import { UserActions, UserState } from \"./index\";\r\n\r\nexport enum UserActionsTypes {\r\n\tSET_USER = \"SET_USER\",\r\n\tCLEAR_USER = \"CLEAR_USER\"\r\n}\r\n\r\n\r\nexport const setUser = (user: UserState): UserActions => ({\r\n\ttype: UserActionsTypes.SET_USER,\r\n\tpayload: user\r\n});\r\n\r\nexport const clearUser = (): UserActions => ({\r\n\ttype: UserActionsTypes.CLEAR_USER\r\n});","import IMovieImgSessionObj from \"../interfaces/app-types/IMovieImgSessionObj\";\r\n\r\nclass CanvasImgDataConverter {\r\n    private static CANVAS = document.createElement('canvas');\r\n    private static CONTEXT = CanvasImgDataConverter.CANVAS.getContext && CanvasImgDataConverter.CANVAS.getContext('2d');\r\n\r\n    public static makeMovieImgSessionObj(imgEl: HTMLImageElement): IMovieImgSessionObj | never {\r\n        let canvas = CanvasImgDataConverter.CANVAS;\r\n        let context = CanvasImgDataConverter.CONTEXT;\r\n\r\n        if (!context) {\r\n            throw new Error(\"canvas context not supported\");\r\n        }\r\n        let data: ImageData;\r\n        let blockSize = 8, // only visit every 8 pixels\r\n            width, height,\r\n            i = -4,\r\n            length,\r\n            rgb = {r: 0, g: 0, b: 0}, jpgData = '',\r\n            count = 0;\r\n\r\n        height = canvas.height = imgEl.naturalHeight || imgEl.offsetHeight || imgEl.height;\r\n        width  = canvas.width  = imgEl.naturalWidth  || imgEl.offsetWidth  || imgEl.width;\r\n\r\n        context.drawImage(imgEl, 0, 0);\r\n\r\n        try {\r\n            data = context.getImageData(0, 0, width, height);\r\n            jpgData = canvas.toDataURL(\"image/jpeg\", .1);\r\n        } catch(e) {\r\n            console.error(e)\r\n            throw new Error(e);\r\n        }\r\n\r\n        length = data.data.length;\r\n\r\n        while ( (i += blockSize * 4) < length ) {\r\n            ++count;\r\n            rgb.r += data.data[i];\r\n            rgb.g += data.data[i+1];\r\n            rgb.b += data.data[i+2];\r\n        }\r\n\r\n        // ~~ used to floor values\r\n        rgb.r = ~~(rgb.r/count);\r\n        rgb.g = ~~(rgb.g/count);\r\n        rgb.b = ~~(rgb.b/count);\r\n\r\n        return {\r\n            jpgData,\r\n            averageColor: `rgb(${rgb.r}, ${rgb.g}, ${rgb.b})`\r\n        };\r\n    }\r\n}\r\n\r\nexport default CanvasImgDataConverter;","import IMovieImgSessionObj from \"../../interfaces/app-types/IMovieImgSessionObj\";\r\n\r\nclass ImageDataEvent extends CustomEvent<ImageDataEventDetail> {\r\n    constructor(movieId: number, imgData: IMovieImgSessionObj) {\r\n        super(\"imageData\", {\r\n            detail: {\r\n                movieId,\r\n                imgData\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\ninterface ImageDataEventDetail {\r\n    movieId: number;\r\n    imgData: IMovieImgSessionObj;\r\n}\r\n\r\nexport default ImageDataEvent;","import IMovieResultItem from \"../interfaces/app-types/IMovieResultItem\";\r\nimport { ResultItemsObject } from \"../interfaces/app-types/IMoviesSearchData\";\r\nimport IMovieImgSessionObj from \"../interfaces/app-types/IMovieImgSessionObj\";\r\nimport appProperties from \"../appProperties\";\r\nimport CanvasImgDataConverter from \"./CanvasImgDataConverter\";\r\nimport WorkerFetchedDoneEvent from \"../interfaces/custom-events-types/WorkerFetchedDoneEvent\";\r\nimport ImageDataEvent from \"./custom-events/ImageDataEvent\";\r\nimport SearchParamsMap from \"../interfaces/app-types/SearchParamsMap\";\r\nimport IMovieView from \"../interfaces/app-types/IMovieView\";\r\nimport { UserState } from \"store/user\";\r\nimport TokenData from \"../interfaces/app-types/TokenData\";\r\n\r\nconst {buildFetchMovieViewUrl, newSessionUrl, getAccountUrl, itemsPerPageUI} = appProperties;\r\n\r\nexport function wait(time: number) {\r\n\treturn new Promise((resolve) => {\r\n\t\tsetTimeout(resolve, time);\r\n\t});\r\n}\r\n\r\nexport function checkIsMobile(): boolean {\r\n\treturn window.innerWidth <= 600;\r\n}\r\n\r\nexport function hslInterval(\r\n\t[h1, s1, l1]: [number, number, number],\r\n\t[h2, s2, l2]: [number, number, number],\r\n\tweight: number): [number, number, number] {\r\n\t// difference * weight\r\n\tconst [h_toAdd, s_toAdd, l_toAdd] = [\r\n\t\tMath.abs(h1 - h2) * weight,\r\n\t\tMath.abs(s1 - s2) * weight,\r\n\t\tMath.abs(l1 - l2) * weight,\r\n\t];\r\n\r\n\treturn [\r\n\t\th1 < h2 ? h1 + h_toAdd : h1 - h_toAdd,\r\n\t\ts1 < s2 ? s1 + s_toAdd : s1 - s_toAdd,\r\n\t\tl1 < l2 ? l1 + l_toAdd : l1 - l_toAdd,\r\n\t];\r\n}\r\n\r\nexport function hslToHex([h, s, l]: [number, number, number]): string {\r\n\th /= 360;\r\n\ts /= 100;\r\n\tl /= 100;\r\n\tlet r, g, b;\r\n\tif (s === 0) {\r\n\t\tr = g = b = l; // achromatic\r\n\t} else {\r\n\t\tconst hue2rgb = (p: number, q: number, t: number) => {\r\n\t\t\tif (t < 0) t += 1;\r\n\t\t\tif (t > 1) t -= 1;\r\n\t\t\tif (t < 1 / 6) return p + (q - p) * 6 * t;\r\n\t\t\tif (t < 1 / 2) return q;\r\n\t\t\tif (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\r\n\t\t\treturn p;\r\n\t\t};\r\n\t\tconst q = l < 0.5 ? l * (1 + s) : l + s - l * s;\r\n\t\tconst p = 2 * l - q;\r\n\t\tr = hue2rgb(p, q, h + 1 / 3);\r\n\t\tg = hue2rgb(p, q, h);\r\n\t\tb = hue2rgb(p, q, h - 1 / 3);\r\n\t}\r\n\tconst toHex = (x: number) => {\r\n\t\tconst hex = Math.round(x * 255).toString(16);\r\n\t\treturn hex.length === 1 ? '0' + hex : hex;\r\n\t};\r\n\treturn `#${toHex(r)}${toHex(g)}${toHex(b)}`;\r\n}\r\n\r\n\r\n/**\r\n * Converts IMovieResultItem[] to ResultItemsObject\r\n * @see ResultItemsObject\r\n * @see IMovieResultItem\r\n * @return {ResultItemsObject} The transformed array to a map(object)\r\n * */\r\nexport function convertResultsData(results: IMovieResultItem[], pageApi: number = 1): ResultItemsObject {\r\n\tlet transformedData: ResultItemsObject = {};\r\n\tlet startIndex = (pageApi - 1) * 20;\r\n\tresults.forEach((value, index) => {\r\n\t\tlet insertIndex = startIndex + index;\r\n\t\ttransformedData[insertIndex] = value\r\n\t\t// @ts-ignore\r\n\t\ttransformedData[insertIndex].key = insertIndex\r\n\t});\r\n\treturn transformedData;\r\n}\r\n\r\nexport function onWorkerFetchedDoneEvent({data: {blobUrl, id}}: WorkerFetchedDoneEvent) {\r\n\tif (sessionStorage.getItem(String(id))) {\r\n\t\tURL.revokeObjectURL(blobUrl);\r\n\t\treturn;\r\n\t}\r\n\r\n\tlet img = new Image();\r\n\timg.crossOrigin = \"anonymous\";\r\n\timg.onload = () => {\r\n\t\ttry {\r\n\t\t\tlet movieImgDataObj = (CanvasImgDataConverter.makeMovieImgSessionObj(img) as IMovieImgSessionObj);\r\n\t\t\tsaveMovieImgDataOnSession(movieImgDataObj, id);\r\n\t\t\tdispatchEvent(new ImageDataEvent(id, movieImgDataObj));\r\n\t\t} catch (e) {\r\n\t\t\tconsole.error(e);\r\n\t\t}\r\n\t};\r\n\timg.src = blobUrl;\r\n}\r\n\r\nexport function goFetchPostersOnWorker(item_s_: IMovieResultItem[] | IMovieResultItem | undefined): void {\r\n\tif (!item_s_) return;\r\n\r\n\tconst isArray = Array.isArray(item_s_);\r\n\tlet toFetch: IMovieResultItem[];\r\n\r\n\tif (isArray) {\r\n\t\ttoFetch = (item_s_ as IMovieResultItem[]).filter(({id, poster_path}) =>\r\n\t\t\tposter_path && !sessionStorage.getItem(String(id))\r\n\t\t);\r\n\t} else toFetch = [item_s_ as IMovieResultItem];\r\n\r\n\tif (!(isArray && (toFetch as []).length === 0))\r\n\t\twindow.worker.postMessage(toFetch);\r\n}\r\n\r\nfunction saveMovieImgDataOnSession(movieImgSessionObj: IMovieImgSessionObj, movieId: number) {\r\n\tsessionStorage.setItem(String(movieId), JSON.stringify(movieImgSessionObj));\r\n}\r\n\r\nexport function getMovieImgObjFromSession(movieId: number): IMovieImgSessionObj | undefined {\r\n\tlet movieImgDataObj: IMovieImgSessionObj | undefined;\r\n\tlet imgJsonData = sessionStorage.getItem(String(movieId));\r\n\r\n\tif (imgJsonData)\r\n\t\tmovieImgDataObj = (JSON.parse(imgJsonData) as IMovieImgSessionObj);\r\n\r\n\treturn movieImgDataObj;\r\n}\r\n\r\nexport function clearTimeouts(...timeouts: (NodeJS.Timeout | undefined)[]): void {\r\n\tfor (let timeout of timeouts)\r\n\t\tif (timeout)\r\n\t\t\tclearTimeout(timeout);\r\n}\r\n\r\nconst months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\r\n\r\nexport function getReadableDate(isoDate: string) {\r\n\tlet date = isoDate.split('-').map(n => Number(n));\r\n\tlet month = months[date[1] - 1];\r\n\tlet day = date[2];\r\n\tlet year = date[0];\r\n\r\n\treturn `${month} ${day}, ${year}`;\r\n}\r\n\r\nexport const formatToUSD = new Intl.NumberFormat('en-US', {\r\n\tcurrency: \"USD\"\r\n}).format;\r\n\r\nexport function minutesToRuntimeDisplay(minutes: number) {\r\n\tlet hours = Math.floor(minutes / 60);\r\n\tlet remaining = minutes % 60;\r\n\treturn `${hours}h ${remaining}m`;\r\n}\r\n\r\nexport function getSearchParam<Param extends keyof SearchParamsMap>(paramName: Param): SearchParamsMap[Param] | null {\r\n\tlet query = window.location.hash.split(\"?\")[1];\r\n\tlet param = new URLSearchParams(query).get(paramName);\r\n\treturn fixParamValue<Param>(param);\r\n}\r\n\r\nexport function fixParamValue<Param extends keyof SearchParamsMap>(param: string | null) {\r\n\tif(param === null) return null;\r\n\tlet paramNum = Number(param);\r\n\treturn (Object.is(paramNum, NaN) ? param : paramNum) as SearchParamsMap[Param] | null;\r\n}\r\n\r\nexport function setSearchParam<Param extends keyof SearchParamsMap>\r\n(paramName: Param, value: SearchParamsMap[Param] | null): void {\r\n\tlet [hash, hashQuery] = window.location.hash.split(\"?\");\r\n\tlet newParams = new URLSearchParams(hashQuery);\r\n\r\n\tvalue === null ?\r\n\t\tnewParams.delete(paramName) : newParams.set(paramName, String(value));\r\n\r\n\twindow.location.hash = hash.substr(1) + \"?\" + newParams.toString();\r\n}\r\n\r\nexport function isMovieView(movie: IMovieResultItem | IMovieView | null): movie is IMovieView {\r\n\tif (!movie) return false;\r\n\treturn 'budget' in movie;\r\n}\r\n\r\nexport function goFetchMovieView(movieId_or_Item: number | IMovieResultItem): Promise<IMovieView> {\r\n\tlet id: number;\r\n\r\n\tif (typeof movieId_or_Item === \"number\") {\r\n\t\tid = movieId_or_Item;\r\n\t} else {\r\n\t\tid = movieId_or_Item.id;\r\n\t\tgoFetchPostersOnWorker(movieId_or_Item);\r\n\t}\r\n\r\n\treturn new Promise<IMovieView>((resolve) => {\r\n\t\tfetch(buildFetchMovieViewUrl(id))\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(resolve)\r\n\t\t\t.catch(console.error);\r\n\t});\r\n}\r\n\r\nexport function goFetch<T = any>(url: string, options?: RequestInit) {\r\n\treturn new Promise<T>((resolve) => {\r\n\t\tfetch(url, options)\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(resolve)\r\n\t\t\t.catch(console.log);\r\n\t});\r\n}\r\n\r\nexport function scrollToTop() {\r\n\tdocument.scrollingElement?.scrollTo(0, 0);\r\n}\r\n\r\nexport async function goFetchUserAccount(): Promise<UserState> {\r\n\tlet fetchUrl: string;\r\n\r\n\tconst session_id = localStorage.getItem(\"session_id\");\r\n\r\n\tif (!session_id) {\r\n\t\tconst searchParams = new URLSearchParams(window.location.search);\r\n\t\tconst requestToken = searchParams.get('request_token');\r\n\t\tconst approved = searchParams.get('approved');\r\n\r\n\t\tif (requestToken && approved && approved === 'true') {\r\n\t\t\ttry {\r\n\t\t\t\tlet fetchedSessionId = await goFetchSessionId(requestToken);\r\n\t\t\t\tfetchUrl = getAccountUrl(fetchedSessionId);\r\n\t\t\t\talert(\"Successfully logged in!\");\r\n\t\t\t\tlocalStorage.setItem(\"session_id\", fetchedSessionId);\r\n\t\t\t} catch (e) {\r\n\t\t\t\tthrow e;\r\n\t\t\t}\r\n\t\t}\r\n\t\t// eslint-disable-next-line no-throw-literal\r\n\t\telse throw \"No user logged in\";\r\n\r\n\t} else {\r\n\t\tfetchUrl = getAccountUrl(session_id);\r\n\t}\r\n\r\n\tconst res = await fetch(fetchUrl);\r\n\r\n\treturn await res.json();\r\n}\r\n\r\nasync function goFetchSessionId(request_token: string): Promise<string> {\r\n\r\n\tconst init: RequestInit = {\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify({request_token}),\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'application/json'\r\n\t\t}\r\n\t};\r\n\r\n\tconst res = await fetch(newSessionUrl, init);\r\n\r\n\tconst data = await res.json();\r\n\r\n\treturn data.session_id as string;\r\n}\r\n\r\n/**\r\n * @return The corresponding page in API based on the current page on UI\r\n * */\r\nexport function calculatePageOnApi(pageUI: number, offSet: \"current\" | \"previous\" | \"next\" = \"current\") {\r\n\t// (API = 20 items/page) & (UI = 9 items/page)\r\n\tlet offBy = 0;\r\n\tswitch (offSet) {\r\n\t\tcase \"previous\":\r\n\t\t\t(offBy = -itemsPerPageUI);\r\n\t\t\tbreak;\r\n\t\tcase \"next\":\r\n\t\t\t(offBy = itemsPerPageUI);\r\n\t\t\tbreak;\r\n\t\tdefault: break;\r\n\t}\r\n\treturn Math.ceil(\r\n\t\t((pageUI * itemsPerPageUI) + offBy) / 20\r\n\t) || 1;\r\n}\r\n\r\n\r\nexport function goFetchRequestToken() {\r\n\r\n}\r\n\r\n/**\r\n *  @return the current path on a HashBrowser-based url\r\n *  @param url Can be either a full URL of a hash portion\r\n * */\r\nexport const getHashPath = (url: string = window.location.hash): string =>\r\n\t(url[0] === '#' ? url.substr(1) :\r\n\t\t\t(url.includes('#') ? (url.split('#')[1] || '') : url)\r\n\t).split('?')[0] || '/';\r\n\r\n/**\r\n *  @return a string of query parameters on a HashBrowser-based url\r\n *  @param url Can be either a full URL of a hash portion\r\n * */\r\nexport const getHashQuery = (url: string = window.location.hash): string =>\r\n\t(url[0] === '#' ? url.substr(1) :\r\n\t\t\t(url.includes('#') ? (url.split('#')[1] || '') : url)\r\n\t).split('?')[1] || '';\r\n\r\nexport function isValidRequestToken(tokenResponse: TokenData): boolean {\r\n\tconst expireTime = new Date(tokenResponse.expires_at).getTime();\r\n\t// at least five(5) minutes remaining until expiration\r\n\treturn expireTime - Date.now() > 300_000;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"items-scroll-x_root__3c9UL\",\"noMoviesFound\":\"items-scroll-x_noMoviesFound__2-fDP\",\"relatedMovieItemWrapper\":\"items-scroll-x_relatedMovieItemWrapper__EHdJ7\",\"relatedMovieItem\":\"items-scroll-x_relatedMovieItem__3fqg8\",\"noPoster\":\"items-scroll-x_noPoster__2sOrv\",\"isLoadingItem\":\"items-scroll-x_isLoadingItem__1RwSn\",\"loadingPulse\":\"items-scroll-x_loadingPulse__2-Z61\",\"opacityPulse\":\"items-scroll-x_opacityPulse__2aTxh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"movie-view-item_root__29mJy\",\"mainInfo\":\"movie-view-item_mainInfo__3aRXn\",\"movieItem\":\"movie-view-item_movieItem__cnJAR\",\"sideInfo\":\"movie-view-item_sideInfo__2gth1\",\"mobileOverview\":\"movie-view-item_mobileOverview__PuMxJ\",\"mobileRateActions\":\"movie-view-item_mobileRateActions__gs6h4\",\"loadingPulse\":\"movie-view-item_loadingPulse__2TSh7\",\"opacityPulse\":\"movie-view-item_opacityPulse__3OJ1H\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"list-item_root__3K_Eq\",\"image\":\"list-item_image__8W0Zw\",\"info\":\"list-item_info__3wCV1\",\"movieTitle\":\"list-item_movieTitle__3zky-\",\"itemActions\":\"list-item_itemActions__AfTc2\",\"actionButtons\":\"list-item_actionButtons__5ncys\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"search-bar_root__3CzrZ\",\"bar\":\"search-bar_bar__2gGAM\",\"suggestionsDropdown\":\"search-bar_suggestionsDropdown__2UdGS\",\"loadingPulse\":\"search-bar_loadingPulse__TFS67\",\"opacityPulse\":\"search-bar_opacityPulse__1lUZ8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"auth-page_root__Ocxm3\",\"userField\":\"auth-page_userField__2Rh--\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"movie-item-image_root__1JXgj\",\"image\":\"movie-item-image_image__X04m2\",\"imageIcon\":\"movie-item-image_imageIcon__31gPF\",\"loadingPulse\":\"movie-item-image_loadingPulse__hFBnd\",\"opacityPulse\":\"movie-item-image_opacityPulse__3iP0F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"items-list_root__1f0lq\",\"head\":\"items-list_head__1zGqy\",\"title\":\"items-list_title__2oh11\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"App_root__27yrb\",\"main\":\"App_main__1a1JF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"loading-spinner_root__11EEJ\",\"darken\":\"loading-spinner_darken__A_g8a\"};"],"sourceRoot":""}